import{K as I,L as oe,M as C,P as se,a as te,e as ie,f as k}from"./chunk-S2KSXZUB.js";import{n as v}from"./chunk-UPYCZV3U.js";import{Aa as b,Da as J,Ea as l,Fa as m,Ga as y,H,Ka as E,L as T,La as x,Ma as h,O as u,Q as B,T as A,Ta as P,U as w,Ua as S,Va as O,Xa as z,Y as V,Ya as U,Z as F,Za as Y,a as L,h as N,ha as p,ia as d,ka as M,ma as W,oa as Q,qa as q,qb as Z,s as D,sa as G,ta as K,ua as g,ub as $,wa as X,wb as ee,ya as c}from"./chunk-MIQUIDUB.js";var f=function(t){return t.Inline="inline",t.Alert="alert",t}(f||{});var a=function(t){return t[t.Bottom=0]="Bottom",t[t.Top=1]="Top",t}(a||{});var n=function(t){return t.Error="error",t.Information="information",t.Success="success",t.Warning="warning",t}(n||{});var ne={en:{close:"Close"},es:{close:"Cerrar"},pt:{close:"Fechar"},ru:{close:"\u0431\u043B\u0438\u0437\u043A\u043E"}};var re=(()=>{class t{poThemeService;_isHide;_sizeActions=void 0;action;actionLabel;message;isHide=!1;isHideChange=new F;showClose=!0;set sizeActions(e){this._sizeActions=I(e,this.poThemeService,C)}get sizeActions(){return this._sizeActions??ie(this.poThemeService,C)}supportMessage;type=n.Information;mode=f.Inline;orientation=a.Bottom;componentRef;position;constructor(e){this.poThemeService=e}static \u0275fac=function(i){return new(i||t)(d(v))};static \u0275dir=q({type:t,inputs:{action:[0,"p-action","action"],actionLabel:[0,"p-action-label","actionLabel"],message:[0,"p-message","message"],isHide:[2,"p-hide","isHide",k],showClose:[2,"p-show-close","showClose",k],sizeActions:[0,"p-size-actions","sizeActions"],supportMessage:[0,"p-support-message","supportMessage"],type:[0,"p-type","type"],mode:[0,"p-mode","mode"]},outputs:{isHideChange:"p-hide-change"},features:[K]})}return t})();var he=["toaster"],ue=["buttonClose"];function de(t,s){if(t&1&&y(0,"po-icon",12),t&2){let e=h();c("p-icon",e.getIcon())}}function fe(t,s){if(t&1&&y(0,"po-icon",13),t&2){let e=h();b("po-toaster-inline-icon-aa",e.sizeActions==="small"),c("p-icon",e.getIcon())}}function ge(t,s){if(t&1&&(l(0,"div",14),z(1),m()),t&2){let e=h();p(),U(e.supportMessage)}}function ve(t,s){if(t&1){let e=E();l(0,"po-button",15),x("p-click",function(o){A(e);let r=h();return w(r.poToasterAction(o))}),m()}if(t&2){let e=h();c("p-label",e.actionLabel)("p-size",e.sizeActions)}}function Ce(t,s){if(t&1){let e=E();l(0,"div",16),y(1,"div",17),l(2,"po-button",18,1),x("p-click",function(o){A(e);let r=h();return w(r.onButtonClose(o))}),m()()}if(t&2){let e=h();p(2),c("p-size",e.sizeActions)}}var ae=8,ce=(()=>{class t extends re{changeDetector;poThemeService;renderer;toaster;buttonClose;alive=!0;language;literals;icon;margin=0;observableOnClose=new N;toasterPosition="po-toaster-bottom";toasterType;constructor(e,i,o,r){super(o),this.changeDetector=i,this.poThemeService=o,this.renderer=r,this.language=e.getShortLanguage(),this.literals=L({},ne[this.language])}ngOnDestroy(){this.alive=!1}ngAfterViewInit(){setTimeout(()=>{this.renderer.addClass(this.toaster.nativeElement,"po-toaster-visible"),this.isInline()&&this.configToaster(this)})}ngOnChanges(e){e.isHide&&e.isHide.previousValue!==void 0&&(e.isHide.currentValue===!0?this.hide():this.show(),this.changeDetector.detectChanges())}changePosition(e){setTimeout(()=>{this.margin=ae;for(let i=0;i<e;i++)this.margin+=this.returnHeightToaster(i)+ae;this.orientation===a.Top?this.toaster.nativeElement.style.top=this.margin+"px":this.toaster.nativeElement.style.bottom=this.margin+"px"})}close(){this.isAlert()?this.observableOnClose.next(!0):this.hide()}setFadeOut(){this.renderer.removeClass(this.toaster.nativeElement,"po-toaster-visible"),this.renderer.addClass(this.toaster.nativeElement,"po-toaster-invisible")}setFadeIn(){this.renderer.removeClass(this.toaster.nativeElement,"po-toaster-invisible"),this.renderer.addClass(this.toaster.nativeElement,"po-toaster-visible")}configToaster(e){this.type=e.type,this.message=e.message,this.orientation=e.orientation,this.position=e.position,this.action=e.action,this.actionLabel=e.actionLabel,this.componentRef=e.componentRef,this.mode=e.mode,this.sizeActions=e.sizeActions,this.showClose=e.showClose,this.supportMessage=e.supportMessage,this.orientation===a.Top&&(this.toasterPosition="po-toaster-top"),this.mode||(this.mode=f.Inline),(!this.type||!Object.values(n).includes(this.type))&&(this.type=n.Information),this.changePosition(this.position),this.type===n.Error?this.toaster.nativeElement.setAttribute("role","alert"):this.action&&this.actionLabel?this.toaster.nativeElement.setAttribute("role","alertdialog"):this.toaster.nativeElement.setAttribute("role","status"),this.getToasterType(),this.changeDetector.detectChanges(),this.buttonClose?.buttonElement.nativeElement.setAttribute("aria-label",this.literals.close)}hasClose(){return this.isAlert()||this.showClose}isAlert(){return this.mode==="alert"}isInline(){return this.mode==="inline"}getIcon(){return this.icon}show(){this.isHide=!0,this.setFadeIn(),this.renderer.removeAttribute(this.toaster.nativeElement,"hidden")}hide(){this.isHide=!0,this.setFadeOut(),this.renderer.setAttribute(this.toaster.nativeElement,"hidden","true")}getToasterPosition(){return this.toasterPosition}getToasterType(){switch(this.type){case n.Error:{this.toasterType="po-toaster-error",this.icon="ICON_CLOSE";break}case n.Information:{this.toasterType="po-toaster-info",this.icon=this.isAlert()?"ICON_INFO":"ICON_WARNING";break}case n.Success:{this.toasterType="po-toaster-success",this.icon="ICON_OK";break}case n.Warning:{this.toasterType="po-toaster-warning",this.icon=this.isAlert()?"ICON_EXCLAMATION":"ICON_WARNING";break}}return this.toasterType}onButtonClose(e){this.action&&!this.actionLabel?this.poToasterAction(e):this.close(),this.isInline()&&this.isHideChange.emit(this.isHide)}poToasterAction(e){this.action(this)}returnHeightToaster(e){return this.orientation===a.Top?document.querySelectorAll(".po-toaster-top")[e].offsetHeight:document.querySelectorAll(".po-toaster-bottom")[e].offsetHeight}static \u0275fac=function(i){return new(i||t)(d(oe),d(Z),d(v),d(W))};static \u0275cmp=Q({type:t,selectors:[["po-toaster"]],viewQuery:function(i,o){if(i&1&&(P(he,5),P(ue,5)),i&2){let r;S(r=O())&&(o.toaster=r.first),S(r=O())&&(o.buttonClose=r.first)}},standalone:!1,features:[G,B],decls:12,vars:16,consts:[["toaster",""],["buttonClose",""],[3,"hidden"],[1,"po-toaster-icon",3,"ngClass"],[3,"p-icon",4,"ngIf"],["class","po-toaster-inline-icon",3,"po-toaster-inline-icon-aa","p-icon",4,"ngIf"],[1,"po-toaster-actions"],[1,"po-toaster-message"],["class","po-toaster-support-message",4,"ngIf"],[1,"po-toaster-action"],["p-kind","tertiary",3,"p-label","p-size","p-click",4,"ngIf"],["class","po-toaster-close",4,"ngIf"],[3,"p-icon"],[1,"po-toaster-inline-icon",3,"p-icon"],[1,"po-toaster-support-message"],["p-kind","tertiary",3,"p-click","p-label","p-size"],[1,"po-toaster-close"],[1,"po-toaster-divider"],["p-icon","ICON_CLOSE","p-kind","tertiary",1,"po-toaster-button-close",3,"p-click","p-size"]],template:function(i,o){i&1&&(l(0,"div",2,0)(2,"div",3),g(3,de,1,1,"po-icon",4),m(),g(4,fe,1,3,"po-icon",5),l(5,"div",6)(6,"div",7),z(7),g(8,ge,2,1,"div",8),m(),l(9,"div",9),g(10,ve,1,2,"po-button",10),m()(),g(11,Ce,4,1,"div",11),m()),i&2&&(J(`
    po-toaster 
    `,o.getToasterType(),` 
    `,o.getToasterPosition(),`
  `),b("po-toaster-inline",o.isInline()),c("hidden",o.isHide),p(2),c("ngClass",o.isAlert()?"po-toaster-icon-default":"po-toaster-decoration"),p(),c("ngIf",o.isAlert()),p(),c("ngIf",o.isInline()),p(),b("po-toaster-actions-aa",o.sizeActions==="small"),p(2),Y(" ",o.message," "),p(),c("ngIf",o.supportMessage),p(2),c("ngIf",o.action&&o.actionLabel),p(),c("ngIf",o.hasClose()))},dependencies:[$,ee,te,se],encapsulation:2})}return t})();var _=class{poThemeService;stackTop=[];stackBottom=[];defaultDuration=9e3;constructor(s){this.poThemeService=s}success(s){this.createToaster(this.buildToaster(s,n.Success))}warning(s){this.createToaster(this.buildToaster(s,n.Warning))}error(s){this.createToaster(this.buildToaster(s,n.Error))}information(s){this.createToaster(this.buildToaster(s,n.Information))}setDefaultDuration(s){this.defaultDuration=s}buildToaster(s,e){let i=0,o;s.orientation===void 0||s.orientation===a.Bottom?(i=this.stackBottom.length,o=a.Bottom):(i=this.stackTop.length,o=a.Top);let r=I(s.sizeActions,this.poThemeService,C),R={componentRef:void 0,message:s.message||s,type:e,orientation:o,action:s.action,actionLabel:s.actionLabel,position:i,mode:s.mode||f.Alert,showClose:s.showClose||!0,sizeActions:r,supportMessage:s.supportMessage,duration:s.duration||this.defaultDuration};return s.action&&(R.action=le=>{s.action(),this.destroyToaster(le.componentRef)}),R}};var pe=(()=>{class t{componentResolver;applicationRef;injector;constructor(e,i,o){this.componentResolver=e,this.applicationRef=i,this.injector=o}createComponentInApplication(e){let i=this.componentResolver.resolveComponentFactory(e).create(this.injector);this.applicationRef.attachView(i.hostView);let o=i.hostView.rootNodes[0];return document.body.appendChild(o),i}destroyComponentInApplication(e){this.applicationRef.detachView(e.hostView),e.destroy()}static \u0275fac=function(i){return new(i||t)(u(M),u(X),u(V))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var be=5,ye=200,st=(()=>{class t extends _{poComponentInjector;poThemeService;constructor(e,i){super(i),this.poComponentInjector=e,this.poThemeService=i}createToaster(e){let i=this.poComponentInjector.createComponentInApplication(ce);e.componentRef=i,i.changeDetectorRef.detectChanges(),i.instance.configToaster(e);let o=e.orientation===a.Top?this.stackTop:this.stackBottom;o.push(i),this.verifyLimitToaster(o),this.observableOnClose(i),e.action&&e.actionLabel||e.type===n.Error||D(e.duration).pipe(H(()=>i.instance.alive)).subscribe(()=>{this.destroyToaster(i)})}destroyToaster(e){let i;e.instance.orientation===a.Top?i=this.stackTop:i=this.stackBottom,e.instance.setFadeOut();let o=i.indexOf(e);i.splice(o,1),setTimeout(()=>{this.poComponentInjector.destroyComponentInApplication(e);for(let r=0;r<i.length;r++)i[r].instance.changePosition(r)},ye)}observableOnClose(e){e.instance.observableOnClose.subscribe(()=>{this.destroyToaster(e)})}verifyLimitToaster(e){e.length>be&&this.destroyToaster(e[0])}static \u0275fac=function(i){return new(i||t)(u(pe),u(v))};static \u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ie=function(t){return t[t.startsWith=0]="startsWith",t[t.contains=1]="contains",t[t.endsWith=2]="endsWith",t}(Ie||{});export{pe as a,st as b,Ie as c};
