import{A as Lo,B as Oo,C as mi,a as Se,b as So,c as Tt,d as se,e as $e,f as si,g as To,h as oe,i as J,j as Po,k as pi,l as Eo,m as ct,n as De,o as di,p as ko,q as Oi,r as Io,s as xe,t as he,u as ut,v as ci,w as Mo,x as ui,y as hi,z as Ao}from"./chunk-B2IBILFN.js";import{a as xo,b as li}from"./chunk-J3FJLJGU.js";import{a as co}from"./chunk-FS446KFP.js";import{D as ai,E as ue,F as Vo,G as Li,I as Pe,J as Fo,K as ie,L as H,M as j,P as Pt,a as te,b as ni,c as re,d as Vt,e as Y,f as _,g as Re,h as ae,i as at,j as mo,k as Ft,l as ri,m as fo,n as go,o as st,p as _o,q as St,r as vo,s as et,t as yo,u as bo,v as xt,w as Co,x as wo,y as Do,z as dt}from"./chunk-S2KSXZUB.js";import{a as uo,b as ho,n as I}from"./chunk-UPYCZV3U.js";import{$ as D,$a as le,A as $t,Aa as P,Ac as ao,B as Wi,Ba as Gi,Ca as Ge,Da as Qi,Db as Ae,Ea as m,Fa as h,Fc as so,G as Ve,Ga as N,Gb as ii,Gc as lo,Ha as ye,I as je,Ia as be,Ja as ee,K as z,Ka as y,L as fe,La as g,Ma as a,Na as $i,O as Ee,Oa as Yi,P as zt,Pa as ei,Pb as bt,Pc as po,Q as Ce,Qb as eo,Rb as to,Sa as ti,Sb as io,T as p,Ta as x,Tb as Le,U as d,Ua as F,Va as S,Wa as L,X as _t,Xa as R,Y as Yt,Ya as Me,Z as b,Za as U,Zc as wt,_a as Ji,_c as Dt,a as w,ab as pe,b as Ne,bb as de,c as Qt,cb as W,db as Ai,e as tt,eb as Qe,f as me,fb as Xi,ga as Jt,h as ft,ha as u,hb as Zi,ia as f,ja as Xt,kb as vt,l as Ke,m as Mi,ma as Fe,mb as yt,n as gt,na as Ui,o as Te,oa as k,pb as X,qa as O,qb as T,qc as Q,r as Ze,ra as Ki,rb as ot,rc as oo,sa as A,sc as $,ta as G,tc as Oe,u as ji,ua as v,ub as ce,uc as no,v as qt,vb as we,vc as oi,w as it,wb as M,wc as nt,xa as B,xc as ro,ya as l,yc as Ct,za as Zt,zc as rt}from"./chunk-MIQUIDUB.js";var fi=class{transform(s,e){if(!s)return"";e instanceof Array||(e=[e]);for(let t of e)s=s.replace(/(\{\w*\})+/,t);return s}};var Ye=(()=>{class n extends fi{static \u0275fac=(()=>{let e;return function(i){return(e||(e=_t(n)))(i||n)}})();static \u0275pipe=Ki({name:"poI18n",type:n,pure:!0,standalone:!1})}return n})();var Ro=(()=>{class n{poThemeService;autoFocus;fields;value;formOutput=new b;load;validate;validateFields;_componentsSize=void 0;_groupForm=!1;set componentsSize(e){this._componentsSize=ie(e,this.poThemeService,j)}get componentsSize(){return this._componentsSize??Y(this.poThemeService,j)}set groupForm(e){this._groupForm=e===""?!0:_(e)}get groupForm(){return this._groupForm}validateOnInput=!1;constructor(e){this.poThemeService=e}static \u0275fac=function(t){return new(t||n)(f(I))};static \u0275dir=O({type:n,inputs:{autoFocus:[0,"p-auto-focus","autoFocus"],fields:[0,"p-fields","fields"],value:[0,"p-value","value"],load:[0,"p-load","load"],validate:[0,"p-validate","validate"],validateFields:[0,"p-validate-fields","validateFields"],componentsSize:[0,"p-components-size","componentsSize"],groupForm:[0,"p-group-form","groupForm"],validateOnInput:[2,"p-validate-on-input","validateOnInput",_]},outputs:{formOutput:"p-form"},features:[G]})}return n})();var Et=class{http;constructor(s){this.http=s}execute(s,e){return typeof s=="string"?this.post(s,e):Ke(s(e))}post(s,e){return this.http.post(s,e)}setFormDefaultIfEmpty(s){return s||{value:{},fields:[],focus:void 0}}};var Ho=(()=>{class n extends Et{constructor(e){super(e)}createAndUpdateFieldsForm(e=[],t=[]){return[...e].reduce((i,o)=>{let r=i.findIndex(C=>C.property===o.property);return r>=0?i[r]=w(w({},t[r]),o):i.push(o),i},[...t])}executeLoad(e,t){return this.execute(e,t).pipe(Te(i=>this.setFormDefaultIfEmpty(i)))}static \u0275fac=function(t){return new(t||n)(Ee(Le))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kt=(()=>{class n extends Et{constructor(e){super(e)}sendFieldChange(e,t){let i={property:e.property,value:t};return this.execute(e.validate,i).pipe(Te(o=>this.setFieldDefaultIfEmpty(o)))}sendFormChange(e,t,i){let o={property:t.property,value:i};return this.execute(e,o).pipe(Te(r=>this.setFormDefaultIfEmpty(r)))}updateFieldsForm(e=[],t=[]){return[...e].reduce((i,o)=>{let r=i.findIndex(C=>C.property===o.property);return r>=0&&(i[r]=w(w({},t[r]),o)),i},[...t])}setFieldDefaultIfEmpty(e){return e||{field:{}}}static \u0275fac=function(t){return new(t||n)(Ee(Le))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Je=function(n){return n.Boolean="boolean",n.Currency="currency",n.Decimal="decimal",n.Date="date",n.DateTime="datetime",n.Time="time",n.Number="number",n.String="string",n.Upload="upload",n}(Je||{});function zo(n,s,e,t,i){let o={gridSm:e?.smGrid||n||12,gridMd:e?.mdGrid||n||6,gridLg:e?.lgGrid||n||4,gridXl:e?.xlGrid||n||3,offsetSm:t?.smOffset||s||0,offsetMd:t?.mdOffset||s||0,offsetLg:t?.lgOffset||s||0,offsetXl:t?.xlOffset||s||0,pullSm:i?.smPull||0,pullMd:i?.mdPull||0,pullLg:i?.lgPull||0,pullXl:i?.xlPull||0};return`po-sm-${o.gridSm} po-offset-sm-${o.offsetSm} po-pull-sm-${o.pullSm} po-md-${o.gridMd} po-offset-md-${o.offsetMd} po-pull-md-${o.pullMd} po-lg-${o.gridLg} po-offset-lg-${o.offsetLg} po-pull-lg-${o.pullLg} po-xl-${o.gridXl} po-offset-xl-${o.offsetXl} po-pull-xl-${o.pullXl}`}function Bo(n){return"visible"in n?n.visible:!0}var No=(()=>{class n{visibleFields=[];containerFields=[];hasContainers=!1;ensureFieldHasContainer(e){if(e&&e.some(t=>t?.container)){let t=e.findIndex(i=>i.order===1);t!==-1&&!e[t].container&&(e[t].container="")}}setContainerFields(){this.hasContainers=this.visibleFields&&this.visibleFields.some(e=>e.container),this.hasContainers&&(this.containerFields=this.groupFieldsIntoContainers(this.visibleFields))}groupFieldsIntoContainers(e){let t=[[]];return e.reduce((i,o)=>(o.container&&i[i.length-1].length>0&&i.push([]),i[i.length-1].push(o),i),t)}static \u0275fac=function(t){return new(t||n)};static \u0275dir=O({type:n})}return n})();var jo=(()=>{class n extends No{poThemeService;titleCasePipe;autoFocus;disabledForm;validate;formValidate=new b;fieldsChange=new b;objectValue=new b;validateOnInput;_componentsSize=void 0;_fields;_validateFields;_value={};set componentsSize(e){this._componentsSize=ie(e,this.poThemeService,j)}get componentsSize(){return this._componentsSize??Y(this.poThemeService,j)}set fields(e){this._fields=Array.isArray(e)?[...e]:[]}get fields(){return this._fields}set value(e){this._value=e&&ae(e,"object")?e:{}}get value(){return this._value}set validateFields(e){this._validateFields=Array.isArray(e)?[...e]:[]}get validateFields(){return this._validateFields}constructor(e,t){super(),this.poThemeService=e,this.titleCasePipe=t}compareTo(e,t){return e===t}getVisibleFields(){let e=[];this.fields.forEach(i=>{if(this.existsProperty(e,i.property)){this.printError(`"po-dynamic-form" property "${i.property}" est\xE1 duplicado. Interface: PoDynamicFormField.`);return}if(!i.property){this.printError('"po-dynamic-form" \xC9 obrigat\xF3rio ser especificado um property.');return}Bo(i)&&e.push(this.createField(i))});let t=bo(e);return this.ensureFieldHasContainer(t),t}convertOptions(e){return e.every(i=>typeof i=="string")?e.map(i=>({label:i,value:i})):e}createField(e){let t=this.getComponentControl(e),i=e.options?this.convertOptions(e.options):void 0,o=this.hasFocus(e),r=e&&e.type?e.type.toLocaleLowerCase():"string",c=zo(e.gridColumns,e.offsetColumns,{smGrid:e.gridSmColumns,mdGrid:e.gridMdColumns,lgGrid:e.gridLgColumns,xlGrid:e.gridXlColumns},{smOffset:e.offsetSmColumns,mdOffset:e.offsetMdColumns,lgOffset:e.offsetLgColumns,xlOffset:e.offsetXlColumns},{smPull:e.gridSmPull,mdPull:e.gridMdPull,lgPull:e.gridLgPull,xlPull:e.gridXlPull});return Ne(w({label:this.titleCasePipe.transform(e.property),maskFormatModel:this.compareTo(r,Je.Time)},e),{componentClass:c,control:t,focus:o,options:i})}existsProperty(e,t){return e.some(i=>i.property===t)}getComponentControl(e={}){let t=e&&e.type?e.type.toLocaleLowerCase():"string",{forceBooleanComponentType:i}=e,o=this.verifyForceOptionComponent(e);if(i)return i;if(o){let{forceOptionsComponentType:r}=e;return r}return this.isNumberType(e,t)?"number":this.isCurrencyType(e,t)||t===Je.Decimal?"decimal":this.isSelect(e)?"select":this.isRadioGroup(e)?"radioGroup":this.isCheckboxGroup(e)?"checkboxGroup":this.isMultiselect(e)?"multiselect":this.compareTo(t,Je.Boolean)?"switch":this.compareTo(t,Je.Date)||this.compareTo(t,Je.DateTime)?e.range?"datepickerrange":"datepicker":this.compareTo(t,Je.Time)?(e.mask=e.mask||"99:99","input"):this.isCombo(e)?"combo":this.isLookup(e)?"lookup":this.isTextarea(e)?"textarea":this.isPassword(e)?"password":this.isUpload(e)?"upload":"input"}hasFocus(e){return!!this.autoFocus&&this.autoFocus===e.property}isCheckboxGroup(e){let{optionsService:t,optionsMulti:i,options:o}=e;return!t&&i&&!!o&&o.length<=3}isCombo(e){let{optionsService:t}=e;return!!t&&(ae(t,"string")||this.isComboFilter(t))}isCurrencyType(e,t){let{mask:i,pattern:o}=e;return this.compareTo(t,Je.Currency)&&!i&&!o}isLookupFilter(e){return e&&e.getObjectByValue!==void 0}isComboFilter(e){return e&&e.getFilteredData!==void 0}isLookup(e){let{searchService:t}=e;return!!t&&(ae(t,"string")||this.isLookupFilter(t))}isMultiselect(e){let{optionsService:t,optionsMulti:i,options:o}=e;return i&&(!!t||!!o&&o.length>3)}isNumberType(e,t){let{mask:i,pattern:o}=e;return this.compareTo(t,Je.Number)&&!i&&!o}isPassword(e){let{secret:t}=e;return t}isRadioGroup(e){let{optionsMulti:t,options:i}=e;return!t&&!!i&&i.length<=3}isUpload(e){let{url:t,type:i}=e;return t&&i==="upload"}verifyForceOptionComponent(e){let{optionsMulti:t,optionsService:i,forceOptionsComponentType:o}=e;return!!(o&&!t&&!i)}isSelect(e){let{optionsMulti:t,options:i}=e;return!t&&!!i&&i.length>3}isTextarea(e){let{rows:t}=e;return t&&t>=3}printError(e){console.error(e)}static \u0275fac=function(t){return new(t||n)(f(I),f(ii))};static \u0275dir=O({type:n,inputs:{autoFocus:[0,"p-auto-focus","autoFocus"],disabledForm:[0,"p-disabled-form","disabledForm"],validate:[0,"p-validate","validate"],validateOnInput:[0,"p-validate-on-input","validateOnInput"],componentsSize:[0,"p-components-size","componentsSize"],fields:[0,"p-fields","fields"],value:[0,"p-value","value"],validateFields:[0,"p-validate-fields","validateFields"]},outputs:{formValidate:"p-form-validate",fieldsChange:"p-fieldsChange",objectValue:"p-object-value"},features:[A]})}return n})();var gi=6,pr=12,Wo=(()=>{class n{poThemeService;additionalHelpEventTrigger;additionalHelpTooltip;appendBox=!1;autoFocus=!1;name;optional;fieldErrorMessage;errorLimit=!1;additionalHelp=new b;change=new b;keydown=new b;displayAdditionalHelp=!1;mdColumns=gi;value;onTouched=null;_columns=gi;_disabled=!1;_options;_required=!1;_size=void 0;onChangePropagate=null;validatorChange;set columns(e){let t=Re(e,gi);this._columns=this.getGridSystemColumns(t,4),this.mdColumns=this.getGridSystemColumns(t,2)}get columns(){return this._columns}set disabled(e){this._disabled=_(e),this.validateModel()}get disabled(){return this._disabled}set required(e){this._required=_(e),this.validateModel()}get required(){return this._required}showRequired=!1;set options(e){this._options=e,xt(this.options)}get options(){return this._options}set size(e){this._size=ie(e,this.poThemeService,Oi)}get size(){return this._size??Y(this.poThemeService,Oi)}constructor(e){this.poThemeService=e}changeValue(e){this.onChangePropagate&&this.onChangePropagate(e),this.value!==e&&this.change.emit(e),this.value=e}setDisabledState(e){this.disabled=e}registerOnChange(e){this.onChangePropagate=e}registerOnTouched(e){this.onTouched=e}registerOnValidatorChange(e){this.validatorChange=e}validate(e){if(he(this.required,this.disabled,e.value))return{required:{valid:!1}}}writeValue(e){this.value=e,!this.getElementByValue(e)&&this.onChangePropagate&&(this.value=void 0,this.onChangePropagate(this.value))}checkColumnsRange(e,t){return e>=1&&e<=t}getGridSystemColumns(e,t){let i=pr/e;return this.checkColumnsRange(e,t)?i:gi}validateModel(){this.validatorChange&&this.validatorChange()}static \u0275fac=function(t){return new(t||n)(f(I))};static \u0275dir=O({type:n,inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],appendBox:[2,"p-append-in-body","appendBox",_],autoFocus:[2,"p-auto-focus","autoFocus",_],name:"name",optional:[0,"p-optional","optional"],fieldErrorMessage:[0,"p-field-error-message","fieldErrorMessage"],errorLimit:[0,"p-error-limit","errorLimit"],columns:[0,"p-columns","columns"],disabled:[0,"p-disabled","disabled"],required:[0,"p-required","required"],showRequired:[0,"p-show-required","showRequired"],options:[0,"p-options","options"],size:[0,"p-size","size"]},outputs:{additionalHelp:"p-additional-help",change:"p-change",keydown:"p-keydown"},features:[G]})}return n})();var dr=["inp"],cr=["inputRadio"];function ur(n,s){if(n&1){let e=y();m(0,"div")(1,"po-radio",7,1),g("p-blur",function(){p(e);let i=L(2),o=a();return d(o.onBlur(i))})("keydown",function(i){p(e);let o=L(2),r=a();return d(r.onKeyDown(i,o))})("keyup",function(i){let o=p(e).$implicit,r=a();return d(r.onKeyUp(i,o.value))})("click",function(){let i=p(e).$implicit,o=a();return d(o.eventClick(i.value,i.disabled===!0||o.disabled))}),h()()}if(n&2){let e=s.$implicit,t=a();Qi("po-radio-group-item po-md-",t.mdColumns," po-lg-",t.columns,""),u(),l("name",t.name)("p-checked",t.value===e.value)("p-disabled",e.disabled===!0||t.disabled)("p-label",e.label)("p-required",t.required)("p-size",t.size)("p-value",e.value)}}var Uo=(()=>{class n extends Wo{poThemeService;el;cd;label;help;inputEl;radioLabels;differ;constructor(e,t,i,o){super(t),this.poThemeService=t,this.el=i,this.cd=o,this.differ=e.find([]).create(null)}ngAfterViewInit(){this.autoFocus&&this.focus()}ngDoCheck(){this.differ.diff(this.options)&&xt(this.options),this.cd.markForCheck()}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}eventClick(e,t){t||(this.onTouched?.(),this.changeValue(e))}focus(){if(this.radioLabels&&!this.disabled){let e=this.radioLabels.find((t,i)=>!this.options[i].disabled);e&&e.focus()}}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}getElementByValue(e){return this.inputEl.nativeElement.querySelector(`input[value='${e}']`)}getErrorPattern(){return this.fieldErrorMessage&&this.hasInvalidClass()?this.fieldErrorMessage:""}hasInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")}onBlur(e){!this.isRadioOptionFocused(e)&&this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp()}onKeyDown(e,t){this.isRadioOptionFocused(t)&&this.keydown.emit(e)}onKeyUp(e,t){let i=e.keyCode||e.which;this.isArrowKey(i)&&this.changeValue(t)}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}isArrowKey(e){return e>=37&&e<=40}isRadioOptionFocused(e){return document.activeElement===e.radioInput.nativeElement}static \u0275fac=function(t){return new(t||n)(f(ot),f(I),f(D),f(T))};static \u0275cmp=k({type:n,selectors:[["po-radio-group"]],viewQuery:function(t,i){if(t&1&&(x(dr,7,D),x(cr,5)),t&2){let o;F(o=S())&&(i.inputEl=o.first),F(o=S())&&(i.radioLabels=o)}},inputs:{label:[0,"p-label","label"],help:[0,"p-help","help"]},standalone:!1,features:[W([{provide:Q,useExisting:z(()=>n),multi:!0},{provide:$,useExisting:z(()=>n),multi:!0}]),A],decls:6,vars:17,consts:[["inp",""],["inputRadio",""],[3,"p-disabled","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],["role","radiogroup",1,"po-radio-group"],[3,"class",4,"ngFor","ngForOf"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-disabled","p-error-limit","p-error-pattern","p-help","p-show-additional-help","p-show-additional-help-icon"],[3,"p-blur","keydown","keyup","click","name","p-checked","p-disabled","p-label","p-required","p-size","p-value"]],template:function(t,i){if(t&1){let o=y();m(0,"po-field-container",2)(1,"div",3)(2,"div",4,0),v(4,ur,3,11,"div",5),h(),m(5,"po-field-container-bottom",6),g("p-additional-help",function(){return p(o),d(i.emitAdditionalHelp())}),h()()()}t&2&&(l("p-disabled",i.disabled)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),u(),B("name",i.name),u(),B("aria-label",i.label)("data-options",i.options.length),u(2),l("ngForOf",i.options),u(),l("p-additional-help-tooltip",i.getAdditionalHelpTooltip())("p-append-in-body",i.appendBox)("p-disabled",i.disabled)("p-error-limit",i.errorLimit)("p-error-pattern",i.getErrorPattern())("p-help",i.help)("p-show-additional-help",i.displayAdditionalHelp)("p-show-additional-help-icon",i.showAdditionalHelpIcon()))},dependencies:[we,oe,J,Io],encapsulation:2,changeDetection:0})}return n})();var Xe=class{mask="";formatModel=!1;initialPosition=0;finalPosition=0;pattern="";get getPattern(){return this.pattern}valueToInput;get getValueToInput(){return this.valueToInput}set setValueToInput(s){this.valueToInput=s}valueToModel;get getValueToModel(){return this.valueToModel}set setValueToModel(s){this.valueToModel=s}formattingEnds;constructor(s,e){this.mask=s,this.formatModel=e,this.pattern=this.getRegexFromMask(s)}keyup(s){if(this.mask){let e=s.target.value;switch((s.keyCode===17||s.keyCode===91)&&(s.target.value=this.controlFormatting(e),this.resetPositions(s)),s.preventDefault(),s.keyCode){case 37:this.initialPosition>0&&this.initialPosition--,this.setPositionNotShiftKey(s),this.setSelectionRange(s);break;case 39:this.initialPosition<e.toString().length&&this.initialPosition++,this.setPositionNotShiftKey(s),this.setSelectionRange(s);break;case 35:this.finalPosition=e.toString().length,s.shiftKey?this.setPositions(s):(this.initialPosition=this.finalPosition,this.setPositions(s));break;case 36:s.shiftKey?(this.finalPosition=this.initialPosition,this.initialPosition=0,this.setPositions(s)):(this.initialPosition=0,this.finalPosition=0,this.setPositions(s));break}}}setPositionNotShiftKey(s){s.shiftKey||(this.finalPosition=this.initialPosition)}setSelectionRange(s){this.initialPosition>this.finalPosition?s.target.setSelectionRange?.(this.finalPosition,this.initialPosition):s.target.setSelectionRange?.(this.initialPosition,this.finalPosition)}keydown(s){if(this.mask){let e=s.target.value;if(s.keyCode===9||(!s.ctrlKey&&!s.metaKey&&s.preventDefault(),s.ctrlKey||s.metaKey&&s.keyCode!==86||s.keyCode>=37&&s.keyCode<=40||s.keyCode===16||s.keyCode===9))return;if(this.isKeyValid(s.keyCode))switch(this.finalPosition===null&&(this.finalPosition=this.initialPosition),this.revertPositions(this.initialPosition,this.finalPosition),s.keyCode){case 8:this.getPosition(s),this.initialPosition<0&&(this.initialPosition=0,this.setPositions(s)),this.initialPosition===this.finalPosition?(this.checkMaskBefore(s,-1),this.initialPosition!==0&&(e=e.slice(0,this.initialPosition-1)+e.slice(this.finalPosition),e=this.controlFormatting(e),s.target.value=e,this.changePosition(s,-1),this.checkMaskBefore(s,-1),this.setPositions(s),this.resetPositions(s))):this.clearRangeSelection(e,s,!0),this.setPositions(s);break;case 46:this.getPosition(s),this.initialPosition===this.finalPosition?(this.checkMaskAfter(s,1),e=e.slice(0,this.initialPosition)+e.slice(this.finalPosition+1),e=this.controlFormatting(e),s.target.value=e,this.setPositions(s),this.resetPositions(s)):this.clearRangeSelection(e,s,!1),this.setPositions(s);break;default:this.getPosition(s),e=e.slice(0,this.initialPosition)+s.key+e.slice(this.finalPosition),e=this.controlFormatting(e),s.target.value=e,this.changePosition(s,1),this.checkMaskBefore(s,1),this.setPositions(s),this.resetPositions(s),this.setPositions(s)}}}clearRangeSelection(s,e,t){s=s.slice(0,this.initialPosition)+s.slice(this.finalPosition),s=this.controlFormatting(s),e.target.value=s,t&&this.checkMaskBefore(e,-1),this.setPositions(e),this.resetPositions(e)}click(s){this.initialPosition=s.target.selectionStart,this.finalPosition=s.target.selectionEnd}blur(s){if(this.mask){let e=s.target.value;e=this.controlFormatting(e),s.target.value=e}}revertPositions(s,e){if(s>e){let t=s;this.initialPosition=e,this.finalPosition=t}}resetPositions(s){this.initialPosition=s.target.selectionStart,this.finalPosition=this.initialPosition}setPositions(s){s.target.setSelectionRange?.(this.initialPosition,this.finalPosition)}changePosition(s,e){this.initialPosition=this.initialPosition+e,this.finalPosition=this.finalPosition+e,this.setPositions(s)}getPosition(s){this.initialPosition=s.target.selectionStart,this.finalPosition=s.target.selectionEnd,this.setPositions(s)}controlFormatting(s){if(!s)return this.valueToInput="",this.valueToModel="","";let e,t=this.mask,i=[],o=0;for(;this.hasOptionalNumber(t);)i.push(t),t=this.replaceOptionalNumber(t);for(i.push(t),i.reverse(),this.formattingEnds=!1;!this.formattingEnds&&(this.formattingEnds=!0,!!i[o]);)e=this.formatValue(s,i[o]),o++;return e}formatValue(s,e){e=e.replace(/\?/g,"");let t=e.replace(this.listValidKeys(),"_"),i=0,o="";s=this.removeFormattingValue(s);for(let r=0;r<s.length;r++){let c=s[r];if(!t[i]){this.formattingEnds=!1;break}for(;this.isFixedCharacterGuide(t[i])&&t[i];)o+=t[i],i++;if(this.isKeyValidMask(c,e[i]))o+=c,i++;else break}return this.formatModel?(this.valueToInput=o,this.valueToModel=o):(this.valueToInput=o,this.valueToModel=this.removeFormattingValue(o)),o}checkMaskBefore(s,e){this.isFixedCharacterGuide(s.target.value.toString().charAt(this.initialPosition-1))&&(this.changePosition(s,e),this.checkMaskBefore(s,e))}checkMaskAfter(s,e){this.isFixedCharacterGuide(s.target.value.toString().charAt(this.initialPosition))&&(this.changePosition(s,e),this.checkMaskAfter(s,e))}replaceOptionalNumber(s){let e=9;for(;e>=0;){if(s.indexOf(e+"?")>-1)return s.replace(e+"?","");e--}return s}isFixedCharacterGuide(s){return this.testRegex(s,this.getFixedCharacterGuide())}getFixedCharacterGuide(){return/[\\\/() +-.\:]/g}listValidKeys(){return/[a-zA-Z0-9]/g}isKeyValid(s){return this.isKeyCodeValid(s)}isKeyCodeValid(s){return s>=48&&s<=57||s>=65&&s<=90||s>=96&&s<=105||s===8||s===9||s===46}isKeyValidMask(s,e){return this.testRegex(s,this.replaceMask(e))}testRegex(s,e){return e.test(s)}removeFormattingValue(s){return s.replace(this.getFixedCharacterGuide(),"")}hasOptionalNumber(s){return s.match(/\d\?/g)}replaceMask(s){let e=/./;switch(s){case"0":e=/[0]/;break;case"1":e=/[0-1]/;break;case"2":e=/[0-2]/;break;case"3":e=/[0-3]/;break;case"4":e=/[0-4]/;break;case"5":e=/[0-5]/;break;case"6":e=/[0-6]/;break;case"7":e=/[0-7]/;break;case"8":e=/[0-8]/;break;case"9":e=/[0-9]/;break;case" ":e=/\s/;break;case"@":e=/[a-zA-Z]/;break;case"w":e=/[a-zA-Z0-9]/;break}return e}getRegexFromMask(s){if(s){let e;return this.formatModel?(e=s.replace(/\\/g,"\\\\"),e=e.replace(/\+/g,"\\+"),e=e.replace(/\./g,"\\."),e=e.replace(/-/g,"-"),e=e.replace(/\(/g,"\\("),e=e.replace(/\)/g,"\\)"),e=e.replace(/\//g,"\\/"),e=e.replace(/\s/g,"\\s"),e=e.replace(/:/g,"\\:"),e=e.replace(/\@(?!\s)/g,"\\w"),e=e.replace(/\d/g,"\\w")):(e=s.replace(/\\/g,""),e=e.replace(/\+/g,""),e=e.replace(/\./g,""),e=e.replace(/-/g,""),e=e.replace(/\(/g,""),e=e.replace(/\)/g,""),e=e.replace(/\//g,""),e=e.replace(/\s/g,""),e=e.replace(/:/g,""),e=e.replace(/\@/g,"\\w"),e=e.replace(/\d/g,"\\w")),e}else return null}};var _i=function(n){return n.Basic="basic",n.Extended="extended",n}(_i||{});var Ko="dd/mm/yyyy",Go=(()=>{class n{languageService;cd;poThemeService;additionalHelpEventTrigger;additionalHelpTooltip;autoFocus=!1;errorAsync;name;optional;errorPattern="";errorLimit=!1;showErrorMessageRequired=!1;additionalHelp=new b;onblur=new b;onchange=new b;keydown=new b;offset;firstStart=!0;hour="T00:00:00-00:00";isExtendedISO=!1;objMask;onChangeModel=null;validatorChange;onTouchedModel=null;shortLanguage;isInvalid;hasValidatorRequired;_format=Ko;_isoFormat;_maxDate;_minDate;_noAutocomplete=!1;_placeholder="";previousValue;_size=void 0;subscription=new me;_date;set noAutocomplete(e){this._noAutocomplete=_(e)}get noAutocomplete(){return this._noAutocomplete}set placeholder(e){this._placeholder=ae(e,"string")?e:""}get placeholder(){return this._placeholder}disabled=!1;set setDisabled(e){this.disabled=e===""?!0:_(e),this.validateModel(Ft(this.date,this.hour))}readonly=!1;set setReadonly(e){this.readonly=e===""?!0:_(e)}required=!1;set setRequired(e){this.required=e===""?!0:_(e),this.validateModel(Ft(this.date,this.hour))}showRequired=!1;set size(e){this._size=ie(e,this.poThemeService,j)}get size(){return this._size??Y(this.poThemeService,j)}clean=!1;set setClean(e){this.clean=e===""?!0:_(e)}set minDate(e){if(e instanceof Date){let t=e.getFullYear(),i=new Date(t,e.getMonth(),e.getDate(),0,0,0);et(i,t),this._minDate=i}else this._minDate=at(e,!0,!1);this.validateModel(Ft(this.date,this.hour))}get minDate(){return this._minDate}set maxDate(e){if(e instanceof Date){let t=e.getFullYear(),i=new Date(t,e.getMonth(),e.getDate(),23,59,59);et(i,t),this._maxDate=i}else this._maxDate=at(e,!1,!0);this.validateModel(Ft(this.date,this.hour))}get maxDate(){return this._maxDate}set format(e){if(e&&(e=e.toLowerCase(),e.match(/dd/)&&e.match(/mm/)&&e.match(/yyyy/))){this._format=e,this.objMask=this.buildMask(Pe(this.format,this.languageService.getDateSeparator(this.locale))),this.refreshValue(this.date);return}this._format=Ko,this.objMask=this.buildMask(Pe(this.format,this.languageService.getDateSeparator(this.locale)))}get format(){return this._format}set isoFormat(e){Object.values(_i).includes(e)&&(this._isoFormat=e,this.isExtendedISO=e===_i.Extended)}get isoFormat(){return this._isoFormat}_locale;set locale(e){e?(this._locale=e.length>=2?e:re,this.objMask=this.buildMask(Pe(this.format,this.languageService.getDateSeparator(this.locale)))):(this._locale=this.shortLanguage,this.objMask=this.buildMask(Pe(this.format,this.languageService.getDateSeparator(this.locale)))),this.refreshValue(this.date)}get locale(){return this._locale||this.shortLanguage}appendBox=!1;constructor(e,t,i){this.languageService=e,this.cd=t,this.poThemeService=i}set date(e){this._date=typeof e=="string"?at(e,!1,!1):e}get date(){return this._date}ngOnInit(){this.offset=new Date().getTimezoneOffset(),this.formatTimezoneAndHour(this.offset),this.objMask=this.buildMask(Pe(this.format,this.languageService.getDateSeparator(this.locale)))}ngOnDestroy(){this.subscription?.unsubscribe()}getDateFromString(e){let t=parseInt(e.substring(this.format.indexOf("d"),this.format.indexOf("d")+2),10),i=parseInt(e.substring(this.format.indexOf("m"),this.format.indexOf("m")+2),10)-1,o=parseInt(e.substring(this.format.indexOf("y"),this.format.indexOf("y")+4),10),r=new Date(o,i,t);return et(r,o),r.getFullYear()===o&&r.getMonth()===i&&r.getDate()===t?r:null}formatToDate(e){let t=this.format;return t=t.replace("dd",("0"+e.getDate()).slice(-2)),t=t.replace("mm",("0"+(e.getMonth()+1)).slice(-2)),t=t.replace("yyyy",ri(e.getFullYear())),t}controlModel(e){this.date=e,e&&this.isExtendedISO?this.callOnChange(Ft(this.date,this.hour)):e&&!this.isExtendedISO?this.callOnChange(mo(this.date)):e===void 0?this.callOnChange(""):this.callOnChange("Data inv\xE1lida")}callOnChange(e,t=!0){this.onChangeModel&&e!==this.previousValue?(this.onChangeModel(e),this.previousValue=e):t&&setTimeout(()=>this.callOnChange(e,!1))}setDisabledState(e){this.disabled=e}registerOnChange(e){this.onChangeModel=e}registerOnTouched(e){this.onTouchedModel=e}registerOnValidatorChange(e){this.validatorChange=e}validate(e){return this.errorPattern=this.errorPattern!=="Data inv\xE1lida"&&this.errorPattern!=="Data fora do per\xEDodo"?this.errorPattern:"",!this.hasValidatorRequired&&this.showErrorMessageRequired&&e.hasValidator(Oe.required)&&(this.hasValidatorRequired=!0),Ao(e.value)?(this.errorPattern=this.errorPattern||"Data inv\xE1lida",this.cd?.markForCheck(),{date:{valid:!1}}):he(this.required,this.disabled,e.value)?(this.cd?.markForCheck(),{required:{valid:!1}}):this.date&&!ai(this.date,this._minDate,this._maxDate)?(this.errorPattern=this.errorPattern||"Data fora do per\xEDodo",this.cd?.markForCheck(),{date:{valid:!1}}):(this.errorPattern!==""&&(this.subscription?.unsubscribe(),this.subscription=e.statusChanges.pipe(Ve(t=>(t==="INVALID"&&this.cd?.markForCheck(),[]))).subscribe()),null)}validateModel(e){this.validatorChange&&this.validatorChange(e)}buildMask(e=this.format){let t=e.toUpperCase();return t=t.replace(/DD/g,"99"),t=t.replace(/MM/g,"99"),t=t.replace(/YYYY/g,"9999"),new Xe(t,!0)}formatTimezoneAndHour(e){let t=Math.abs(e),i=(e<0?"+":"-")+("00"+Math.floor(t/60)).slice(-2)+":"+("00"+t%60).slice(-2);this.hour="T00:00:00"+i}static \u0275fac=function(t){return new(t||n)(f(H),f(T),f(I))};static \u0275dir=O({type:n,inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],autoFocus:[2,"p-auto-focus","autoFocus",_],errorAsync:[0,"p-error-async","errorAsync"],name:"name",optional:[0,"p-optional","optional"],errorPattern:[0,"p-error-pattern","errorPattern"],errorLimit:[0,"p-error-limit","errorLimit"],showErrorMessageRequired:[0,"p-required-field-error-message","showErrorMessageRequired"],noAutocomplete:[0,"p-no-autocomplete","noAutocomplete"],placeholder:[0,"p-placeholder","placeholder"],setDisabled:[0,"p-disabled","setDisabled"],setReadonly:[0,"p-readonly","setReadonly"],setRequired:[0,"p-required","setRequired"],showRequired:[0,"p-show-required","showRequired"],size:[0,"p-size","size"],setClean:[0,"p-clean","setClean"],minDate:[0,"p-min-date","minDate"],maxDate:[0,"p-max-date","maxDate"],format:[0,"p-format","format"],isoFormat:[0,"p-iso-format","isoFormat"],locale:[0,"p-locale","locale"],appendBox:[2,"p-append-in-body","appendBox",_]},outputs:{additionalHelp:"p-additional-help",onblur:"p-blur",onchange:"p-change",keydown:"p-keydown"},features:[G]})}return n})();var Qo={en:{open:"Open calendar"},es:{open:"Calendario abierto"},pt:{open:"Abrir calend\xE1rio"},ru:{open:"\u043E\u0442\u043A\u0440\u044B\u0442\u044B\u0439 \u043A\u0430\u043B\u0435\u043D\u0434\u0430\u0440\u044C"}};var Hi=function(n){return n.Range="range",n}(Hi||{});var $o=(()=>{class n{poDate;languageService;change=new b;activateDate;value;onTouched=null;propagateChange=null;today=new Date;shortLanguage;_locale;_maxDate;_minDate;_mode;set locale(e){this._locale=ni.includes(e)?e:this.shortLanguage}get locale(){return this._locale}set maxDate(e){this._maxDate=this.poDate.getDateForDateRange(e,!1)}get maxDate(){return this._maxDate}set minDate(e){this._minDate=this.poDate.getDateForDateRange(e,!0)}get minDate(){return this._minDate}set mode(e){this._mode=e,this.setActivateDate()}get mode(){return this._mode}get isRange(){return this.mode===Hi.Range}constructor(e,t){this.poDate=e,this.languageService=t,this.shortLanguage=t.getShortLanguage(),this._locale=this.languageService.getShortLanguage()}setActivateDate(e){let t;if(typeof e!="string"){let c=new Date(e),C=c.getFullYear(),V=("0"+(c.getMonth()+1)).slice(-2),q=("0"+c.getDate()).slice(-2);t=`${C}-${V}-${q}`+"T00:00:00"}else t=e+"T00:00:00";let i=e||this.verifyActivateDate(),o,r;this.isRange?(new Date(t).getDate()>28?(o=new Date(i),r=new Date(o.getFullYear(),o.getMonth()+1,0,23,59,59,999),r.setMilliseconds(r.getMilliseconds()+1)):(o=typeof i=="string"?this.poDate.convertIsoToDate(i):new Date(i),r=new Date(new Date(o).setMonth(o.getMonth()+1))),this.activateDate={start:o,end:r}):this.activateDate=new Date(i)}verifyActivateDate(){let e=this.today;return this.minDate&&this.minDate>this.today?e=this.minDate:this.maxDate&&this.maxDate<this.today&&(e=this.maxDate),e}static \u0275fac=function(t){return new(t||n)(f($e),f(H))};static \u0275dir=O({type:n,inputs:{locale:[0,"p-locale","locale"],maxDate:[0,"p-max-date","maxDate"],minDate:[0,"p-min-date","minDate"],mode:[0,"p-mode","mode"]},outputs:{change:"p-change"}})}return n})();var mr=0,vi=(()=>{class n{monthDates(e,t,i=null,o=null){if(typeof t!="number"||t<0||t>11)throw Error("month must be a number (Jan is 0)");let r=[],c=[],C=0,V=new Date(e,t,1);e>=0&&e<100&&V.setFullYear(e),V=this.weekStartDate(V);do{for(C=0;C<7;C++)c.push(i?i(V):V),V=new Date(V.getTime()),V.setDate(V.getDate()+1);r.push(o?o(c):c),c=[]}while(V.getMonth()<=t&&V.getFullYear()===e);return r}monthDays(e,t){let i=function(o){return o.getMonth()===t?o:0};return this.monthDates(e,t,i)}weekStartDate(e){let t=new Date(e.getTime());for(;t.getDay()!==mr;)t.setDate(t.getDate()-1);return t}static \u0275fac=function(t){return new(t||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Yo=(()=>{class n{language=re;months=[{pt:"Janeiro",en:"January",es:"Enero",ru:"\u042F\u043D\u0432\u0430\u0440\u044C"},{pt:"Fevereiro",en:"February",es:"Febrero",ru:"\u0424\u0435\u0432\u0440\u0430\u043B\u044C"},{pt:"Mar\xE7o",en:"March",es:"Marzo",ru:"\u041C\u0430\u0440\u0442"},{pt:"Abril",en:"April",es:"Abril",ru:"\u0410\u043F\u0440\u0435\u043B\u044C"},{pt:"Maio",en:"May",es:"Mayo",ru:"\u041C\u0430\u0439"},{pt:"Junho",en:"June",es:"Junio",ru:"\u0418\u044E\u043D\u044C"},{pt:"Julho",en:"July",es:"Julio",ru:"\u0418\u044E\u043B\u044C"},{pt:"Agosto",en:"August",es:"Agosto",ru:"\u0410\u0432\u0433\u0443\u0441\u0442"},{pt:"Setembro",en:"September",es:"Setiembre",ru:"\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C"},{pt:"Outubro",en:"October",es:"Octubre",ru:"\u041E\u043A\u0442\u044F\u0431\u0440\u044C"},{pt:"Novembro",en:"November",es:"Noviembre",ru:"\u041D\u043E\u044F\u0431\u0440\u044C"},{pt:"Dezembro",en:"December",es:"Diciembre",ru:"\u0414\u0435\u043A\u0430\u0431\u0440\u044C"}];shortWeekDays=[{pt:"Dom",en:"Sun",es:"Dom",ru:"\u0412\u0441"},{pt:"Seg",en:"Mon",es:"Lun",ru:"\u041F\u043D"},{pt:"Ter",en:"Tue",es:"Mar",ru:"\u0412\u0442"},{pt:"Qua",en:"Wed",es:"Mi\xE9",ru:"\u0421\u0440"},{pt:"Qui",en:"Thu",es:"Jue",ru:"\u0427\u0442"},{pt:"Sex",en:"Fri",es:"Vie",ru:"\u041F\u0442"},{pt:"S\xE1b",en:"Sat",es:"S\xE1b",ru:"\u0421\u0431"}];monthLabel={pt:"M\xEAs",en:"Month",es:"Mes",ru:"\u041C\u0435\u0441\u044F\u0446"};yearLabel={pt:"Ano",en:"Year",es:"A\xF1o",ru:"\u0413\u043E\u0434"};todayLabel={pt:"Hoje",en:"Today",es:"Hoy",ru:"\u0421\u0435\u0433\u043E\u0434\u043D\u044F"};getMonth(e){return this.months[e][this.language]}getMonthLabel(){return this.monthLabel[this.language]}getMonthsArray(){let e=Array();for(let t=0;t<this.months.length;t++)e.push(this.months[t][this.language]);return e}getWeekDays(e){return this.shortWeekDays[e][this.language]}getWeekDaysArray(){let e=Array();for(let t=0;t<this.shortWeekDays.length;t++){let i=this.shortWeekDays[t][this.language];e.push(i.toLowerCase())}return e}getYearLabel(){return this.yearLabel[this.language]}getTodayLabel(){return this.todayLabel[this.language]}setLanguage(e){e&&e.length>=2&&(e=e.toLowerCase().slice(0,2),this.language=ni.includes(e)?e:re)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _r=["*"];function vr(n,s){if(n&1){let e=y();m(0,"po-icon",4),g("click",function(){p(e);let i=a();return d(i.previous.emit())}),h()}}function yr(n,s){if(n&1){let e=y();m(0,"po-icon",5),g("click",function(){p(e);let i=a();return d(i.next.emit())}),h()}}var Jo=(()=>{class n{hidePrevious=!1;hideNext=!1;previous=new b;next=new b;constructor(){}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-calendar-header"]],inputs:{hidePrevious:[0,"p-hide-previous","hidePrevious"],hideNext:[0,"p-hide-next","hideNext"]},outputs:{previous:"p-previous",next:"p-next"},standalone:!1,ngContentSelectors:_r,decls:5,vars:2,consts:[[1,"po-calendar-header"],["p-icon","ICON_ARROW_LEFT","class","po-calendar-header-left",3,"click",4,"ngIf"],["attr-calendar","",1,"po-calendar-header-title"],["p-icon","ICON_ARROW_RIGHT","class","po-calendar-header-right",3,"click",4,"ngIf"],["p-icon","ICON_ARROW_LEFT",1,"po-calendar-header-left",3,"click"],["p-icon","ICON_ARROW_RIGHT",1,"po-calendar-header-right",3,"click"]],template:function(t,i){t&1&&($i(),m(0,"div",0),v(1,vr,1,0,"po-icon",1),m(2,"div",2),Yi(3),h(),v(4,yr,1,0,"po-icon",3),h()),t&2&&(u(),l("ngIf",(i.previous==null?null:i.previous.observers)&&!i.hidePrevious),u(3),l("ngIf",(i.next==null?null:i.next.observers.length)&&!i.hideNext))},dependencies:[M,te],encapsulation:2,changeDetection:0})}return n})();function Cr(n,s){if(n&1&&(m(0,"div",10),R(1),h()),n&2){let e=s.$implicit;u(),U(" ",e," ")}}function wr(n,s){if(n&1&&(m(0,"span",13),R(1),h()),n&2){let e=a().$implicit,t=a(2);l("ngClass",t.getDayForegroundColor(e)),u(),U(" ",e.getDate()," ")}}function Dr(n,s){if(n&1){let e=y();m(0,"div",11),g("click",function(){let i=p(e).$implicit,o=a(2);return d(o.onSelectDate(i))})("mouseenter",function(){let i=p(e).$implicit,o=a(2);return d(o.onMouseEnter(i))})("mouseleave",function(){p(e);let i=a(2);return d(i.onMouseLeave())}),v(1,wr,2,2,"span",12),h()}if(n&2){let e=s.$implicit,t=a(2);l("ngClass",t.getDayBackgroundColor(e)),u(),l("ngIf",e!==0)}}function Vr(n,s){if(n&1){let e=y();ye(0),m(1,"po-calendar-header",2),g("p-previous",function(){p(e);let i=a();return d(i.onPreviousMonth())})("p-next",function(){p(e);let i=a();return d(i.onNextMonth())}),m(2,"span",3),g("click",function(){p(e);let i=a();return d(i.selectDisplayMode("month"))}),R(3),h(),m(4,"span",4),g("click",function(){p(e);let i=a();return d(i.selectDisplayMode("year"))}),R(5),h()(),m(6,"div",5)(7,"div",6),v(8,Cr,2,1,"div",7),h(),m(9,"div",8),v(10,Dr,2,2,"div",9),h()(),be()}if(n&2){let e=a();u(),l("p-hide-previous",e.isEndPart)("p-hide-next",e.isStartPart&&!e.responsive),u(2),Me(e.displayMonth),u(2),Me(e.displayYear),u(3),l("ngForOf",e.displayWeekDays),u(2),l("ngForOf",e.displayDays)}}function Fr(n,s){if(n&1){let e=y();m(0,"div",17),g("click",function(){let i=p(e).index,o=a(2);return d(o.onSelectMonth(o.displayYear,i))}),m(1,"span",13),R(2),h()()}if(n&2){let e=s.$implicit,t=s.index,i=a(2);l("ngClass",i.getBackgroundColor(t,i.displayMonthNumber)),u(),l("ngClass",i.getForegroundColor(t,i.displayMonthNumber)),u(),U(" ",e," ")}}function Sr(n,s){if(n&1){let e=y();ye(0),m(1,"po-calendar-header",14),g("p-previous",function(){p(e);let i=a();return d(i.updateYear(-1))})("p-next",function(){p(e);let i=a();return d(i.updateYear(1))}),m(2,"span",4),g("click",function(){p(e);let i=a();return d(i.selectDisplayMode("year"))}),R(3),h()(),m(4,"div",5)(5,"div",6)(6,"div",10),R(7),h()(),m(8,"div",15),v(9,Fr,3,3,"div",16),h()(),be()}if(n&2){let e=a();u(3),U(" ",e.displayYear," "),u(4),U(" ",e.monthLabel," "),u(2),l("ngForOf",e.displayMonths)}}function xr(n,s){if(n&1){let e=y();m(0,"div",20),g("click",function(){let i=p(e).$implicit,o=a(2);return d(o.onSelectYear(i,o.displayMonthNumber))}),m(1,"span",13),R(2),h()()}if(n&2){let e=s.$implicit,t=a(2);l("ngClass",t.getBackgroundColor(e,t.currentYear)),u(),l("ngClass",t.getForegroundColor(e,t.currentYear)),u(),U(" ",e," ")}}function Tr(n,s){if(n&1){let e=y();ye(0),m(1,"po-calendar-header",14),g("p-previous",function(){p(e);let i=a();return d(i.updateYear(-10))})("p-next",function(){p(e);let i=a();return d(i.updateYear(10))}),R(2),h(),m(3,"div",5)(4,"div",6)(5,"div",10),R(6),h()(),m(7,"div",18),v(8,xr,3,3,"div",19),h()(),be()}if(n&2){let e=a();u(2),Ji(" ",e.displayStartDecade," - ",e.displayFinalDecade," "),u(4),U(" ",e.yearLabel," "),u(2),l("ngForOf",e.displayDecade)}}function Pr(n,s){if(n&1){let e=y();ye(0),m(1,"div",21)(2,"div",22)(3,"button",23),g("click",function(){p(e);let i=a();return d(i.onSelectDate(i.today))})("keydown.enter",function(){p(e);let i=a();return d(i.onSelectDate(i.today))})("keydown.space",function(){p(e);let i=a();return d(i.onSelectDate(i.today))}),R(4),h()()(),be()}if(n&2){let e=a();u(3),l("disabled",e.isTodayUnavailable()),u(),U(" ",e.displayToday," ")}}var Xo=(()=>{class n{poCalendarService;poCalendarLangService;poDate;value;mode="day";responsive=!1;partType;range=!1;activateDate=new Date;selectedValue;minDate;maxDate;hoverValue;headerChange=new b;selectDate=new b;hoverDate=new ft().pipe(it(100));currentYear;displayDays;displayDecade;displayFinalDecade;displayMonth;displayMonthNumber;displayMonths=Array();displayStartDecade;displayWeekDays=Array();displayYear;displayToday;today=new Date;currentMonthNumber;date;lastDisplay;_locale;set locale(e){this._locale=e,this.initializeLanguage()}get locale(){return this._locale}get monthLabel(){return this.poCalendarLangService.getMonthLabel()}get yearLabel(){return this.poCalendarLangService.getYearLabel()}get isDayVisible(){return this.mode==="day"}get isMonthVisible(){return this.mode==="month"}get isYearVisible(){return this.mode==="year"}get isStartPart(){return this.partType==="start"}get isEndPart(){return this.partType==="end"}constructor(e,t,i){this.poCalendarService=e,this.poCalendarLangService=t,this.poDate=i}ngOnInit(){this.init()}ngOnChanges(e){let{activateDate:t}=e;t&&this.updateDate(t.currentValue)}getBackgroundColor(e,t){return e===t?"po-calendar-box-background-selected":"po-calendar-box-background"}getDayBackgroundColor(e){return this.getDayColor(e,"background")}getDayForegroundColor(e){return this.getDayColor(e,"foreground")}getForegroundColor(e,t){return e===t?"po-calendar-box-foreground-selected":"po-calendar-box-foreground"}isTodayUnavailable(){return this.minDate>this.today||this.maxDate<this.today}onNextMonth(){this.displayMonthNumber<11?this.updateDisplay(this.displayYear,this.displayMonthNumber+1):this.updateDisplay(this.displayYear+1,0),this.headerChange.emit({month:this.displayMonthNumber,year:this.displayYear})}onPreviousMonth(){this.displayMonthNumber>0?this.updateDisplay(this.displayYear,this.displayMonthNumber-1):this.updateDisplay(this.displayYear-1,11),this.headerChange.emit({month:this.displayMonthNumber,year:this.displayYear})}onMouseEnter(e){this.hoverDate.next(e)}onMouseLeave(){this.hoverDate.next(null)}onSelectDate(e){this.selectDate.emit(e)}onSelectMonth(e,t){this.selectDisplayMode("day"),this.updateDisplay(e,t),this.headerChange.emit({month:t,year:e})}onSelectYear(e,t){this.selectDisplayMode(this.lastDisplay==="month"?"month":"day"),this.currentYear=e,this.updateDisplay(e,t),this.headerChange.emit({month:t,year:e})}selectDisplayMode(e){this.lastDisplay=this.mode,this.mode=e}updateYear(e){this.updateDisplay(this.displayYear+e,this.displayMonthNumber)}addAllYearsInDecade(e){let t;for(t=e;t<e+10;t++)this.displayDecade.push(t)}equalsDate(e,t){try{return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}catch{return!1}}getDecadeArray(e){if(this.displayDecade=Array(),e%10!==0)for(;e%10!==0;)e--;this.updateDecade(e)}getColorForDate(e,t){return this.poDate.validateDateRange(e,this.minDate,this.maxDate)?`po-calendar-box-${t}-selected`:`po-calendar-box-${t}-selected-disabled`}getColorForDefaultDate(e,t){return this.poDate.validateDateRange(e,this.minDate,this.maxDate)?`po-calendar-box-${t}`:`po-calendar-box-${t}-disabled`}getColorForToday(e,t){return this.poDate.validateDateRange(e,this.minDate,this.maxDate)?`po-calendar-box-${t}-today`:`po-calendar-box-${t}-today-disabled`}getColorForDateRange(e,t){return this.poDate.validateDateRange(e,this.minDate,this.maxDate)?`po-calendar-box-${t}-in-range`:`po-calendar-box-${t}-in-range-disabled`}getDayColor(e,t){let i=this.selectedValue?.start,o=this.selectedValue?.end;return this.range&&(this.equalsDate(e,i)||this.equalsDate(e,o))?this.getColorForDate(e,t):this.range&&i&&o&&e>i&&e<o?this.getColorForDateRange(e,t):this.range&&i&&!o&&e>i&&e<this.hoverValue?`po-calendar-box-${t}-hover`:!this.range&&this.equalsDate(e,this.value)?this.getColorForDate(e,t):this.equalsDate(e,this.today)?this.getColorForToday(e,t):this.getColorForDefaultDate(e,t)}init(){this.updateDate(this.activateDate),this.initializeLanguage(),this.selectDisplayMode("day")}initializeLanguage(){this.poCalendarLangService.setLanguage(this.locale),this.displayWeekDays=this.poCalendarLangService.getWeekDaysArray(),this.displayMonths=this.poCalendarLangService.getMonthsArray(),this.displayMonth=this.displayMonths[this.displayMonthNumber],this.displayToday=this.poCalendarLangService.getTodayLabel()}updateDate(e=new Date){let t=new Date(e);this.currentMonthNumber=t.getMonth(),this.currentYear=t.getFullYear(),this.updateDisplay(this.currentYear,this.currentMonthNumber)}updateDecade(e){this.addAllYearsInDecade(e),this.displayStartDecade=e,this.displayFinalDecade=e+9}updateDisplay(e,t){let i=this.poCalendarService.monthDays(e,t);this.displayDays=[].concat.apply([],i),this.displayMonthNumber=t,this.displayMonth=this.displayMonths[t],this.displayYear=e,this.getDecadeArray(e)}static \u0275fac=function(t){return new(t||n)(f(vi),f(Yo),f($e))};static \u0275cmp=k({type:n,selectors:[["po-calendar-wrapper"]],inputs:{value:[0,"p-value","value"],mode:[0,"p-mode","mode"],responsive:[0,"p-responsive","responsive"],partType:[0,"p-part-type","partType"],range:[0,"p-range","range"],activateDate:[0,"p-activate-date","activateDate"],selectedValue:[0,"p-selected-value","selectedValue"],minDate:[0,"p-min-date","minDate"],maxDate:[0,"p-max-date","maxDate"],hoverValue:[0,"p-hover-value","hoverValue"],locale:[0,"p-locale","locale"]},outputs:{headerChange:"p-header-change",selectDate:"p-select-date",hoverDate:"p-hover-date"},standalone:!1,features:[W([vi]),Ce],decls:5,vars:4,consts:[[1,"po-calendar-wrapper"],[4,"ngIf"],[3,"p-previous","p-next","p-hide-previous","p-hide-next"],[1,"po-clickable","po-mr-1",3,"click"],[1,"po-clickable",3,"click"],[1,"po-calendar-content"],[1,"po-calendar-labels"],["class","po-calendar-label",4,"ngFor","ngForOf"],[1,"po-calendar-content-list-day"],["class","po-calendar-day","attr-calendar","",3,"ngClass","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],[1,"po-calendar-label"],["attr-calendar","",1,"po-calendar-day",3,"click","mouseenter","mouseleave","ngClass"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[3,"p-previous","p-next"],[1,"po-calendar-content-list-month"],["class","po-calendar-month","attr-calendar","",3,"ngClass","click",4,"ngFor","ngForOf"],["attr-calendar","",1,"po-calendar-month",3,"click","ngClass"],[1,"po-calendar-content-list-year"],["class","po-calendar-year","attr-calendar","",3,"ngClass","click",4,"ngFor","ngForOf"],["attr-calendar","",1,"po-calendar-year",3,"click","ngClass"],[1,"po-calendar-footer"],[1,"po-calendar-footer-today"],["type","button",1,"po-calendar-footer-today-button",3,"click","keydown.enter","keydown.space","disabled"]],template:function(t,i){t&1&&(m(0,"div",0),v(1,Vr,11,6,"ng-container",1)(2,Sr,10,3,"ng-container",1)(3,Tr,9,4,"ng-container",1)(4,Pr,5,2,"ng-container",1),h()),t&2&&(u(),l("ngIf",i.isDayVisible),u(),l("ngIf",i.isMonthVisible),u(),l("ngIf",i.isYearVisible),u(),l("ngIf",!i.range))},dependencies:[ce,we,M,Jo],encapsulation:2,changeDetection:0})}return n})();var kr=()=>({partType:"start"}),Ir=()=>({partType:"end"});function Mr(n,s){n&1&&ee(0)}function Ar(n,s){n&1&&ee(0)}function Lr(n,s){n&1&&ee(0)}function Or(n,s){if(n&1&&(ye(0),v(1,Lr,1,0,"ng-container",5),be()),n&2){a(2);let e=L(6);u(),l("ngTemplateOutlet",e)("ngTemplateOutletContext",Ai(2,Ir))}}function Rr(n,s){if(n&1&&(m(0,"div",4),v(1,Ar,1,0,"ng-container",5)(2,Or,2,3,"ng-container",6),h()),n&2){let e=a(),t=L(6);u(),l("ngTemplateOutlet",t)("ngTemplateOutletContext",Ai(3,kr)),u(),l("ngIf",!e.isResponsive)}}function Hr(n,s){}function qr(n,s){if(n&1&&(m(0,"div",7),v(1,Hr,0,0,"ng-template",8),h()),n&2){a();let e=L(6);u(),l("ngTemplateOutlet",e)}}function zr(n,s){if(n&1){let e=y();m(0,"po-calendar-wrapper",9),g("p-header-change",function(i){let o=p(e).partType,r=a();return d(r.onHeaderChange(i,o))})("p-select-date",function(i){let o=p(e).partType,r=a();return d(r.onSelectDate(i,o))})("p-hover-date",function(i){p(e);let o=a();return d(o.onHoverDate(i))}),h()}if(n&2){let e=s.partType,t=a();l("p-value",t.getValue(e))("p-activate-date",t.getActivateDate(e))("p-locale",t.locale)("p-min-date",t.minDate)("p-max-date",t.maxDate)("p-part-type",e)("p-range",t.isRange)("p-responsive",t.isResponsive)("p-selected-value",t.value)("p-hover-value",t.hoverValue)}}var Br=[{provide:Q,useExisting:z(()=>It),multi:!0},{provide:$,useExisting:z(()=>It),multi:!0}],Nr=600,It=(()=>{class n extends $o{changeDetector;hoverValue;constructor(e,t,i){super(t,i),this.changeDetector=e}get isResponsive(){return window.innerWidth<Nr}ngOnInit(){this.setActivateDate()}ngOnChanges(e){(e.minDate||e.maxDate)&&this.setActivateDate()}getActivateDate(e){return this.isRange&&this.activateDate?this.activateDate[e]:this.activateDate}getValue(e){return this.isRange&&this.value?this.value[e]:this.value}onSelectDate(e,t){let i;this.isRange?(i=this.getValueFromSelectedDate(e),t==="end"&&(!this.value?.start||this.value.start&&this.value.end)&&this.setActivateDate(e)):(i=e,this.setActivateDate(e)),this.value=i;let o=this.convertDateToISO(this.value);this.updateModel(o),this.change.emit(o)}onHoverDate(e){this.hoverValue=e}onHeaderChange({month:e,year:t},i){if(this.isRange){let o,r,{start:c,end:C}=this.activateDate;if(i==="end"){let V=e===0?t-1:t,q=new Date(V,e,0).getDate();t!==V?(o=new Date(t,e-1,Math.min(c.getDate(),q)),r=new Date(t,e,Math.min(C.getDate(),q))):(o=new Date(V,e-1,Math.min(c.getDate(),q)),r=new Date(V,e,Math.min(C.getDate(),q)))}else{let V=e===11?t+1:t,q=new Date(V,e+1,0).getDate();t!==V?(r=new Date(t,e+1,Math.min(C.getDate(),q)),o=new Date(t,e,Math.min(c.getDate(),q))):(r=new Date(V,e+1,Math.min(C.getDate(),q)),o=new Date(V,e,Math.min(c.getDate(),q)))}this.activateDate={start:o,end:r}}}registerOnChange(e){this.propagateChange=e}registerOnTouched(e){this.onTouched=e}validate(e){return null}writeValue(e){e?this.writeDate(e):this.value=null;let t=this.getValidateStartDate(e);this.setActivateDate(t),this.changeDetector.markForCheck()}getValidateStartDate(e){return this.isRange?e?.start||null:e instanceof Date||typeof e=="string"?e:null}getValueFromSelectedDate(e){return!this.value?.start||this.value.start>e||this.value.end&&this.value.start?{start:new Date(e),end:null}:{start:new Date(this.value.start),end:new Date(e)}}convertDateToISO(e){if(this.isRange){let t=e?.start instanceof Date?this.poDate.convertDateToISO(e.start):null,i=e?.end instanceof Date?this.poDate.convertDateToISO(e.end):null;return{start:t,end:i}}else return this.poDate.convertDateToISO(e)}convertDateFromIso(e){if(e&&typeof e=="string"){let{year:t,month:i,day:o}=this.poDate.getDateFromIso(e),r=new Date(t,i-1,o);return this.poDate.setYearFrom0To100(r,t),r}return null}updateModel(e){this.propagateChange&&this.propagateChange(e)}writeDate(e){if(this.isRange){let t=e?.start,i=e?.end,o=t instanceof Date?new Date(t):this.convertDateFromIso(t),r=i instanceof Date?new Date(i):this.convertDateFromIso(i);this.value={start:o,end:r}}else this.value=e instanceof Date?new Date(e):this.convertDateFromIso(e)}static \u0275fac=function(t){return new(t||n)(f(T),f($e),f(H))};static \u0275cmp=k({type:n,selectors:[["po-calendar"]],standalone:!1,features:[W(Br),A,Ce],decls:7,vars:3,consts:[["rangeTemplate",""],["calendarTemplate",""],["calendarWrapper",""],[4,"ngIf","ngIfThen","ngIfElse"],[1,"po-calendar-range"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf"],[1,"po-calendar"],[3,"ngTemplateOutlet"],[3,"p-header-change","p-select-date","p-hover-date","p-value","p-activate-date","p-locale","p-min-date","p-max-date","p-part-type","p-range","p-responsive","p-selected-value","p-hover-value"]],template:function(t,i){if(t&1&&v(0,Mr,1,0,"ng-container",3)(1,Rr,3,4,"ng-template",null,0,X)(3,qr,2,1,"ng-template",null,1,X)(5,zr,1,10,"ng-template",null,2,X),t&2){let o=L(2),r=L(4);l("ngIf",i.isRange)("ngIfThen",o)("ngIfElse",r)}},dependencies:[M,Ae,Xo],encapsulation:2,changeDetection:0})}return n})();var jr=["calendar"],Wr=["dialogPicker"],Ur=["iconDatepicker"],Kr=["inp"];function Gr(n,s){if(n&1){let e=y();m(0,"po-clean",18),g("p-change-event",function(){p(e);let i=a();return d(i.clear())}),h()}if(n&2){let e=a();l("p-element-ref",e.inputEl)("p-size",e.size)}}function Qr(n,s){n&1&&ee(0)}function $r(n,s){n&1&&N(0,"div",22)}function Yr(n,s){if(n&1){let e=y();m(0,"div",19,7),v(2,$r,1,0,"div",20),m(3,"po-calendar",21,8),de("ngModelChange",function(i){p(e);let o=a();return pe(o.date,i)||(o.date=i),d(i)}),g("p-change",function(){p(e);let i=a();return d(i.dateSelected())})("keydown",function(i){p(e);let o=a();return d(o.onCalendarKeyDown(i))}),h()()}if(n&2){let e=a();P("po-datepicker-popup-calendar",!e.verifyMobile()),u(2),l("ngIf",e.verifyMobile()),u(),P("po-datepicker-calendar-mobile",e.verifyMobile()),le("ngModel",e.date),l("p-max-date",e.maxDate)("p-min-date",e.minDate)("p-locale",e.locale)}}function Jr(n,s){n&1&&ee(0)}function Xr(n,s){if(n&1&&v(0,Jr,1,0,"ng-container",23),n&2){a();let e=L(14);l("ngTemplateOutlet",e)}}function Zr(n,s){n&1&&ee(0)}function ea(n,s){if(n&1&&v(0,Zr,1,0,"ng-container",23),n&2){a(2);let e=L(14);l("ngTemplateOutlet",e)}}function ta(n,s){if(n&1&&v(0,ea,1,1,"ng-template",24),n&2){a();let e=L(4);l("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayDisableClose",!0)}}function ia(n,s){if(n&1){let e=y();m(0,"po-field-container-bottom",25),g("p-additional-help",function(){p(e);let i=a();return d(i.emitAdditionalHelp())}),h()}if(n&2){let e=a();l("p-additional-help-tooltip",e.getAdditionalHelpTooltip())("p-append-in-body",e.appendBox)("p-help",e.help)("p-disabled",e.disabled)("p-error-pattern",e.getErrorPattern())("p-error-limit",e.errorLimit)("p-show-additional-help",e.displayAdditionalHelp)("p-show-additional-help-icon",e.showAdditionalHelpIcon())}}var oa=8,en="bottom-left",nn=(()=>{class n extends Go{languageService;cd;poThemeService;controlPosition;renderer;calendar;dialogPicker;iconDatepicker;inputEl;label;help;displayAdditionalHelp=!1;el;hour;id=`po-datepicker[${ue()}]`;visible=!1;literals;eventListenerFunction;eventResizeListener;clickListener;dateRegex=new RegExp("^(?:[0-9])\\d{1}(?:[0-9])\\d{1}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])$");isoRegex=new RegExp("^(?:[0-9])\\d{1}(?:[0-9])\\d{1}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12]\\d|3[01])T(?:[01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d(?:Z|-0[1-9]|-1\\d|-2[0-3]|-00:?(?:0[1-9]|[0-5]\\d)|\\+[01]\\d|\\+2[0-3])(?:|:?[0-5]\\d)$");timeoutChange;valueBeforeChange;subscriptionValidator=new me;get autocomplete(){return this.noAutocomplete?"off":"on"}constructor(e,t,i,o,r,c){super(e,t,i),this.languageService=e,this.cd=t,this.poThemeService=i,this.controlPosition=o,this.renderer=r,this.shortLanguage=this.languageService.getShortLanguage(),this.el=c;let C=e.getShortLanguage();this.literals=w({},Qo[C])}onKeyup(e){this.readonly||e?.target!==this.inputEl?.nativeElement||(this.objMask.keyup(e),this.objMask.valueToModel||this.objMask.valueToModel===""?this.objMask.valueToModel.length>=10?(this.controlModel(this.getDateFromString(this.inputEl.nativeElement.value)),this.date=this.getDateFromString(this.inputEl.nativeElement.value)):(this.date=void 0,this.controlModel(this.date)):this.date=void 0)}onKeydown(e){this.readonly||(e.key==="Escape"&&this.visible&&(this.togglePicker(!1),e.preventDefault(),e.stopPropagation()),e.key==="Tab"&&e.shiftKey&&e.target instanceof HTMLInputElement&&this.visible&&this.togglePicker(),this.objMask.keydown(e))}ngAfterViewInit(){this.setDialogPickerStyleDisplay("none"),this.autoFocus&&this.focus(),this.renderer.setAttribute(this.iconDatepicker.buttonElement.nativeElement,"aria-label",this.literals.open)}ngOnDestroy(){this.subscriptionValidator?.unsubscribe(),this.removeListeners()}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}focus(){!this.disabled&&this.inputEl?.nativeElement&&this.inputEl.nativeElement.focus()}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}togglePicker(e=!0){this.disabled||this.readonly||!this.iconDatepicker?.buttonElement?.nativeElement||(this.visible?(this.inputEl.nativeElement.disabled=!1,this.closeCalendar(e),this.renderer.removeAttribute(this.inputEl.nativeElement,"aria-expanded"),this.renderer.removeAttribute(this.iconDatepicker.buttonElement.nativeElement,"aria-expanded")):(this.setCalendarPosition(),this.initializeListeners(),this.visible=!0,this.renderer.setAttribute(this.inputEl.nativeElement,"aria-expanded","true"),this.renderer.setAttribute(this.iconDatepicker.buttonElement.nativeElement,"aria-expanded","true")))}dateSelected(){this.onTouchedModel?.(),this.verifyMobile()||this.inputEl.nativeElement.focus(),this.inputEl.nativeElement.value=this.formatToDate(this.date),this.controlModel(this.date),this.controlChangeEmitter(),this.togglePicker()}wasClickedOnPicker(e){!this.dialogPicker||!this.iconDatepicker||(!this.dialogPicker.nativeElement.contains(e.target)||this.hasOverlayClass(e.target))&&!this.iconDatepicker.buttonElement.nativeElement.contains(e.target)&&!this.hasAttrCalendar(e.target)&&this.closeCalendar()}hasInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&(this.inputEl.nativeElement.value!==""||this.showErrorMessageRequired&&(this.required||this.hasValidatorRequired))}getErrorPattern(){return this.errorPattern!==""&&this.hasInvalidClass()?this.errorPattern:""}clear(){this.valueBeforeChange=this.formatToDate(this.date),this.date=void 0,this.controlModel(this.date),this.controlChangeEmitter()}eventOnBlur(e){this.onTouchedModel?.(),this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp();let t=this.inputEl.nativeElement.value,i=t?this.getDateFromString(t):void 0;this.objMask.blur(e),this.onblur.emit(),this.objMask.valueToModel?this.objMask.valueToModel.length>=10?(this.controlModel(i),this.date=i):(this.date=null,this.controlModel(this.date)):(this.date=void 0,this.callOnChange(this.date)),this.controlChangeEmitter()}eventOnClick(e){this.verifyMobile()?(e.target.blur(),setTimeout(()=>this.togglePicker(),0)):this.objMask.click(e)}onKeyDown(e){document.activeElement===this.inputEl.nativeElement&&this.keydown.emit(e)}onKeyPress(e){(St(e)||vo(e))&&this.togglePicker(!1),e.key==="Tab"&&e.shiftKey&&!this.visible&&(this.focus(),e.preventDefault(),e.stopPropagation())}formatToDate(e){if(!e)return;let t=Pe(this.format,this.languageService.getDateSeparator(this.locale));return t=t.replace("dd",("0"+e.getDate()).slice(-2)),t=t.replace("mm",("0"+(e.getMonth()+1)).slice(-2)),t=t.replace("yyyy",ri(e.getFullYear())),t}refreshValue(e){e&&(this.inputEl.nativeElement.value=this.formatToDate(e))}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}writeValue(e){if(this.inputEl&&e){if(e instanceof Date){let i=e.toString();this.hour="T"+i.substring(16,24)+i.substring(28,31)+":"+i.substring(31,33),this.date=e,this.inputEl.nativeElement.value=this.formatToDate(e)}else if(this.isValidDateIso(e)||this.isValidExtendedIso(e)){this.isValidExtendedIso(e)&&(this.hour=e.substring(10,25)),this.isoFormat===void 0&&(this.isExtendedISO=this.isValidExtendedIso(e));let i=parseInt(e.substring(8,10),10),o=parseInt(e.substring(5,7),10)-1,r=parseInt(e.substring(0,4),10),c=new Date(r,o,i);et(c,r),this.date=c,this.inputEl.nativeElement.value=this.formatToDate(c)}else this.inputEl.nativeElement.value="",this.date=void 0;this.controlModel(this.date);let t=this.formatToDate(this.date);this.verifyErrorAsync(t)}else this.inputEl&&(this.inputEl.nativeElement.value="",this.date=void 0,this.callOnChange(this.date,!1));this.valueBeforeChange=this.formatToDate(this.date)}isValidDateIso(e){return this.dateRegex.test(e)}isValidExtendedIso(e){return this.isoRegex.test(e)}hasOverlayClass(e){return e.classList.contains("po-datepicker-calendar-overlay")}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}verifyErrorAsync(e){if(this.errorPattern!==""&&this.errorAsync){let t=this.errorAsync(e);gt(t)&&(this.subscriptionValidator?.unsubscribe(),this.subscriptionValidator=t.pipe(Ve(i=>{let o=this.el.nativeElement;return i?(o.classList.add("ng-invalid"),o.classList.add("ng-dirty"),this.cd.detectChanges()):o.classList.contains("ng-invalid")&&o.classList.contains("ng-dirty")&&!this.isInvalid&&(o.classList.remove("ng-invalid"),this.cd.detectChanges()),Ke("")})).subscribe())}}verifyMobile(){return st()}closeCalendar(e=!0){this.visible=!1,this.removeListeners(),this.setDialogPickerStyleDisplay("none"),!this.verifyMobile()&&e&&this.focus()}controlChangeEmitter(){let e=this.formatToDate(this.date);e!==this.valueBeforeChange&&(this.valueBeforeChange=e,clearTimeout(this.timeoutChange),this.timeoutChange=setTimeout(()=>{this.onchange.emit(e),this.verifyErrorAsync(e)},200))}hasAttrCalendar(e){let t="attr-calendar";return e&&e.hasAttribute(t)||e.parentElement&&e.parentElement.hasAttribute(t)}initializeListeners(){this.clickListener=this.renderer.listen("document","click",e=>{this.wasClickedOnPicker(e)}),this.eventResizeListener=this.renderer.listen("window","resize",()=>{this.closeCalendar()}),window.addEventListener("scroll",this.onScroll,!0)}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}onScroll=()=>{this.controlPosition.adjustPosition(en)};removeListeners(){this.clickListener&&this.clickListener(),this.eventResizeListener&&this.eventResizeListener(),window.removeEventListener("scroll",this.onScroll,!0)}setDialogPickerStyleDisplay(e){this.dialogPicker&&this.dialogPicker.nativeElement&&(this.dialogPicker.nativeElement.style.display=e)}setCalendarPosition(){this.setDialogPickerStyleDisplay("block"),this.dialogPicker&&this.dialogPicker.nativeElement&&(this.controlPosition.setElements(this.dialogPicker.nativeElement,oa,this.inputEl,["top-left","top-right","bottom-left","bottom-right"],!1,!0),this.controlPosition.adjustPosition(en))}handleCleanKeyboardTab(e){this.shouldHandleTab(e)&&this.focusCalendar(e)}shouldHandleTab(e){return this.visible&&!e.shiftKey}focusCalendar(e){if(!this.dialogPicker?.nativeElement)return;let t=["button:not([disabled])",'[tabindex]:not([tabindex="-1"])'].join(", "),i=this.dialogPicker.nativeElement.querySelector(t);i?(e.preventDefault(),i?.focus()):this.togglePicker(!1)}onCalendarKeyDown(e){new Set(["Tab","Escape"]).has(e.key)&&(this.togglePicker(),e.preventDefault(),e.stopPropagation())}static \u0275fac=function(t){return new(t||n)(f(H),f(T),f(I),f(Se),f(Fe),f(D))};static \u0275cmp=k({type:n,selectors:[["po-datepicker"]],viewQuery:function(t,i){if(t&1&&(x(jr,7),x(Wr,5,D),x(Ur,5),x(Kr,7,D)),t&2){let o;F(o=S())&&(i.calendar=o.first),F(o=S())&&(i.dialogPicker=o.first),F(o=S())&&(i.iconDatepicker=o.first),F(o=S())&&(i.inputEl=o.first)}},hostBindings:function(t,i){t&1&&g("keyup",function(r){return i.onKeyup(r)})("keydown",function(r){return i.onKeydown(r)})},inputs:{label:[0,"p-label","label"],help:[0,"p-help","help"]},standalone:!1,features:[W([{provide:Q,useExisting:z(()=>n),multi:!0},{provide:$,useExisting:z(()=>n),multi:!0},Se]),A],decls:20,vars:29,consts:[["outerContainer",""],["trigger","cdkOverlayOrigin"],["inp",""],["iconDatepicker",""],["sharedCalendarContent",""],["dropdownDefault",""],["dropdownCDK",""],["dialogPicker",""],["calendar",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],["cdkOverlayOrigin","",1,"po-field-container-content","po-field-container-content-datepicker"],[1,"po-field-container-input"],["type","text",1,"po-input","po-datepicker",3,"blur","click","keydown","keydown.tab","autocomplete","disabled","id","placeholder","readonly","required"],[1,"po-field-icon-container-right"],["class","po-icon-input",3,"p-element-ref","p-size","p-change-event",4,"ngIf"],["p-icon","ICON_CALENDAR","p-kind","tertiary",1,"po-datepicker-button",3,"keydown","keydown.tab","p-click","p-disabled","p-size"],[4,"ngIf","ngIfThen","ngIfElse"],[3,"p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon","p-additional-help",4,"ngIf"],[1,"po-icon-input",3,"p-change-event","p-element-ref","p-size"],["tabindex","-1"],["class","po-datepicker-calendar-overlay",4,"ngIf"],[3,"ngModelChange","p-change","keydown","ngModel","p-max-date","p-min-date","p-locale"],[1,"po-datepicker-calendar-overlay"],[4,"ngTemplateOutlet"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayDisableClose"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"]],template:function(t,i){if(t&1){let o=y();m(0,"po-field-container",9)(1,"div",null,0)(3,"div",10,1)(5,"div",11)(6,"input",12,2),g("blur",function(c){return p(o),d(i.eventOnBlur(c))})("click",function(c){return p(o),d(i.eventOnClick(c))})("keydown",function(c){return p(o),d(i.onKeyDown(c))})("keydown.tab",function(c){return p(o),d(i.handleCleanKeyboardTab(c))}),h(),m(8,"div",13),v(9,Gr,1,2,"po-clean",14),h()(),m(10,"po-button",15,3),g("keydown",function(c){return p(o),d(i.onKeyPress(c))})("keydown.tab",function(c){return p(o),d(i.handleCleanKeyboardTab(c))})("p-click",function(){return p(o),d(i.togglePicker())}),h()(),v(12,Qr,1,0,"ng-container",16)(13,Yr,5,9,"ng-template",null,4,X)(15,Xr,1,1,"ng-template",null,5,X)(17,ta,1,3,"ng-template",null,6,X),h(),v(19,ia,1,8,"po-field-container-bottom",17),h()}if(t&2){let o=L(7),r=L(16),c=L(18);l("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),u(6),P("po-input-icon-right",i.clean&&o.value)("po-input-icon-right-aa",i.clean&&o.value&&i.size==="small")("po-input-aa",i.size==="small"),l("autocomplete",i.autocomplete)("disabled",i.disabled)("id",i.id)("placeholder",i.disabled?"":i.placeholder)("readonly",i.readonly)("required",i.required),B("name",i.name)("data-append-in-body",i.appendBox),u(3),l("ngIf",i.clean&&!i.disabled&&!i.readonly),u(),P("po-datepicker-button-aa",i.size==="small"),l("p-disabled",i.disabled||i.readonly)("p-size",i.size),u(2),l("ngIf",i.appendBox)("ngIfThen",c)("ngIfElse",r),u(7),l("ngIf",!i.readonly)}},dependencies:[M,Ae,nt,rt,oe,J,Dt,wt,xe,It,Pt],encapsulation:2,changeDetection:0})}return n})();var We=function(n){return n[n.startsWith=0]="startsWith",n[n.contains=1]="contains",n[n.endsWith=2]="endsWith",n}(We||{});var jt={en:{noData:"No data found",chooseOption:"Choose an option",clear:"Clear"},es:{noData:"Datos no encontrados",chooseOption:"Elija una opci\xF3n",clear:"limpia"},pt:{noData:"Nenhum dado encontrado",chooseOption:"Escolha uma op\xE7\xE3o",clear:"Apagar"},ru:{noData:"\u0414\u0430\u043D\u043D\u044B\u0435 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B",chooseOption:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043E\u043F\u0446\u0438\u044E",clear:"\u0447\u0438\u0441\u0442\u044B\u0439"}};var ra=400,rn="label",an="value",aa="bottom",sn=(()=>{class n{changeDetector;poThemeService;additionalHelpEventTrigger;additionalHelpTooltip;blur=new b;autoFocus=!1;label;help;name;filterService;set infiniteScroll(e){this._infiniteScroll=_(e)}get infiniteScroll(){return this._infiniteScroll}set infiniteScrollDistance(e){this._infiniteScrollDistance=e>100||e<0?100:e}get infiniteScrollDistance(){return this._infiniteScrollDistance}icon;optional;clean;emitObjectValue=!1;disabledTabFilter=!1;removeInitialFilter=!1;fieldErrorMessage;additionalHelp=new b;errorLimit=!1;change=new b;keydown=new b;ngModelChange=new b;inputChange=new b;controlValueWithLabel=!1;listboxControlPosition=aa;cacheOptions=[];defaultService;firstInWriteValue=!0;isFirstFilter=!0;isFiltering=!1;keyupSubscribe;onModelChange;previousSearchValue="";selectedOption;selectedValue;selectedView;service;visibleOptions=[];page=1;pageSize=10;loading=!1;displayAdditionalHelp=!1;dynamicLabel="label";dynamicValue="value";shouldApplyFocus=!1;hasValidatorRequired=!1;cacheStaticOptions=[];comboOptionsList=[];onModelTouched=null;_changeOnEnter=!1;_debounceTime=400;_disabled=!1;_disabledInitFilter=!1;_fieldLabel="label";_fieldValue="value";_filterMinlength=0;_filterMode=We.startsWith;_filterParams;_literals;_options=[];_placeholder="";_required=!1;_size=void 0;_sort=!1;language;_infiniteScrollDistance=100;_infiniteScroll=!1;fromWriteValue=!1;validatorChange;set placeholder(e){this._placeholder=e||this.literals.chooseOption}get placeholder(){return this._placeholder}set debounceTime(e){let t=parseInt(e,10);this._debounceTime=!isNaN(t)&&t>0?t:ra}get debounceTime(){return this._debounceTime}set disabledInitFilter(e){this._disabledInitFilter=_(e)}get disabledInitFilter(){return this._disabledInitFilter}set fieldValue(e){!this.service&&!this.filterService&&(this.dynamicValue=e),this._fieldValue=e||an,ae(this.filterService,"string")&&this.service&&(this.service.fieldValue=this._fieldValue)}get fieldValue(){return this._fieldValue}set fieldLabel(e){!this.service&&!this.filterService&&(this.dynamicLabel=e),this._fieldLabel=e||rn,ae(this.filterService,"string")&&this.service&&(this.service.fieldLabel=this._fieldLabel)}get fieldLabel(){return this._fieldLabel}set filterMinlength(e){let t=typeof e=="string"?parseInt(e,10):e;this._filterMinlength=Number.isInteger(t)?t:0}get filterMinlength(){return this._filterMinlength}set required(e){this._required=_(e),this.validateModel(this.selectedValue)}get required(){return this._required}showRequired=!1;set size(e){this._size=ie(e,this.poThemeService,j)}get size(){return this._size??Y(this.poThemeService,j)}set changeOnEnter(e){this._changeOnEnter=_(e)}get changeOnEnter(){return this._changeOnEnter}set disabled(e){this._disabled=_(e),this.validateModel(this.selectedValue)}get disabled(){return this._disabled}set sort(e){this._sort=_(e),this.comboListDefinitions()}get sort(){return this._sort}set options(e){this._options=Array.isArray(e)?e:[],this.comboListDefinitions()}get options(){return this._options}set filterMode(e){switch(this._filterMode=e in We?e:We.startsWith,this._filterMode.toString()){case"startsWith":this._filterMode=We.startsWith;break;case"contains":this._filterMode=We.contains;break;case"endsWith":this._filterMode=We.endsWith;break}}get filterMode(){return this._filterMode}set filterParams(e){this._filterParams=e||e===0||e===!1?e:void 0}get filterParams(){return this._filterParams}set literals(e){e instanceof Object&&!(e instanceof Array)?this._literals=w(w(w({},jt[re]),jt[this.language]),e):this._literals=jt[this.language]}get literals(){return this._literals||jt[this.language]}cache=!0;appendBox=!1;constructor(e,t,i){this.changeDetector=t,this.poThemeService=i,this.language=e.getShortLanguage()}get isOptionGroupList(){return this._options.length&&this._options[0].hasOwnProperty("options")}ngOnInit(){this.dynamicValue=this.checkIfService("value"),this.dynamicLabel=this.checkIfService("label"),this.updateComboList()}onInitService(){this.filterService&&(this.setService(this.filterService),this.initInputObservable())}setService(e){e&&(ae(e,"object")?this.service=e:(this.service=this.defaultService,this.service.configProperties(e,this.fieldLabel,this.fieldValue)))}compareMethod(e,t,i){switch(i){case We.startsWith:return this.startsWith(e,t);case We.contains:return this.contains(e,t);case We.endsWith:return this.endsWith(e,t)}}startsWith(e,t){return t[this.dynamicLabel].toLowerCase().startsWith(e.toLowerCase())}contains(e,t){return t[this.dynamicLabel].toLowerCase().indexOf(e.toLowerCase())>-1}endsWith(e,t){return t[this.dynamicLabel].toLowerCase().endsWith(e.toLowerCase())}getOptionFromValue(e,t){return t?t.find(i=>this.isEqual(i[this.dynamicValue],e)):null}getOptionFromLabel(e,t){return t?t.find(i=>i[this.dynamicLabel].toString().toLowerCase()===e.toString().toLowerCase()):null}updateSelectedValue(e,t=!0){let i=e&&e[this.dynamicLabel]||"";if(this.updateInternalVariables(e),this.changeOnEnter&&t?this.setInputValue(i):this.changeOnEnter||this.setInputValue(i),t){let o=e?.[this.dynamicValue]!==void 0?e[this.dynamicValue]:void 0;this.updateModel(o)}}callModelChange(e){return this.onModelChange?this.onModelChange(e):this.ngModelChange.emit(e)}isEqual(e,t){return(e||e===0)&&t?e.toString()===t.toString():((e===null&&t!==null||e===void 0&&t!==void 0)&&(e=`${e}`),e===t)}searchForLabel(e,t,i){if(e&&t&&t.length){let o=[],r=!1,c;t.forEach(C=>{if("options"in C)return r=!1,c=C;C[this.dynamicLabel]&&(this.compareMethod(e,C,i)||this.service)&&(this.isOptionGroupList&&!r&&(o.push(c),r=!0),o.push(C))}),this.selectedView=o[this.isOptionGroupList?1:0],this.updateComboList(o)}else this.updateComboList()}updateComboList(e){let t=e||[...this.comboOptionsList],i;this.removeInitialFilter?i=t:i=!e&&!this.infiniteScroll&&this.selectedValue?[w({},this.selectedOption)]:t,this.visibleOptions=i,!this.selectedView&&this.visibleOptions.length&&(this.selectedView=t.find(o=>o[this.dynamicValue]!==void 0))}getNextOption(e,t,i=!1){let o=i?t.slice(0).reverse():t.slice(0),r=null,c=!1;for(let C of o){if(C[this.dynamicValue]&&!r&&(r=C),C[this.dynamicValue]&&c)return C;this.isEqual(C[this.dynamicValue],e)&&(c=!0)}return r}getIndexSelectedView(){for(let e=0;e<this.visibleOptions.length;e++)if(this.compareObjects(this.visibleOptions[e],this.selectedView))return e;return null}compareObjects(e,t){return JSON.stringify(e)===JSON.stringify(t)}verifyValidOption(){let e=this.getInputValue(),t=this.getOptionFromLabel(e,this.comboOptionsList);if(this.service||this.updateComboList([...this.cacheStaticOptions]),t&&t[this.dynamicValue]!==this.selectedValue)this.updateSelectedValue(t),this.previousSearchValue=t[this.dynamicLabel];else if(this.selectedValue&&this.selectedOption&&this.selectedOption[this.dynamicLabel]!==e){this.updateSelectedValueWithOldOption(),this.previousSearchValue=this.selectedOption[this.dynamicLabel];return}else if(e&&!t){let i=!!(this.selectedOption&&this.selectedOption[this.dynamicLabel]!==e);this.updateSelectedValue(null,i||this.changeOnEnter),this.previousSearchValue="";return}}writeValue(e){if(e=this.getValueWrite(e),this.fromWriteValue=!0,dt(e)&&!this.service&&this.comboOptionsList&&this.comboOptionsList.length){let t=this.getOptionFromValue(e,this.comboOptionsList);this.updateSelectedValue(t),this.comboOptionsList=this.comboOptionsList.map(i=>this.isEqual(i[this.dynamicValue],e)?Ne(w({},i),{selected:!0}):i),this.updateComboList(),this.removeInitialFilter=!1;return}if(e&&this.service)return this.getObjectByValue(e);this.updateSelectedValue(null),this.updateComboList(),this.updateHasNext()}setDisabledState(e){this.disabled=e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.validatorChange=e}validate(e){if(!this.hasValidatorRequired&&this.fieldErrorMessage&&e.hasValidator(Oe.required)&&(this.hasValidatorRequired=!0),he(this.required||this.hasValidatorRequired,this.disabled,e.value))return this.changeDetector.markForCheck(),{required:{valid:!1}}}clear(e){this.callModelChange(e),this.updateSelectedValue(null),this.updateComboList(),this.initInputObservable(),this.updateHasNext(),(this.service||this.filterService)&&this.keyupSubscribe.unsubscribe()}configAfterSetFilterService(e){e?(this.comboOptionsList=[],this.unsubscribeKeyupObservable(),this.onInitService()):(this.service=void 0,this.comboOptionsList=this.cacheStaticOptions),this.visibleOptions=[],this.isFirstFilter=!0}unsubscribeKeyupObservable(){this.keyupSubscribe&&this.keyupSubscribe.unsubscribe()}validateModel(e){this.validatorChange&&this.validatorChange(e)}comboListDefinitions(){this.comboOptionsList=this.options.length>0?this.listingComboOptions(this.options):this.options,this.cacheStaticOptions=this.comboOptionsList,this.updateComboList()}checkIfService(e){if((this.service||this.filterService)&&e==="label")return rn;if((this.service||this.filterService)&&e==="value")return an;if(!this.service&&e==="label")return this.fieldLabel;if(!this.service&&e==="value")return this.fieldValue}compareOptions(e){return function(t,i){let o=t[e].toString().toLowerCase(),r=i[e].toString().toLowerCase();return o<r?-1:o>r?1:0}}getValueUpdate(e,t){let{[this.dynamicValue]:i,[this.dynamicLabel]:o}=t||{};return this.controlValueWithLabel&&i?{value:i,label:o}:e}getValueWrite(e){return this.controlValueWithLabel&&e?.value?e?.value:e}hasDuplicatedOption(e,t,i){return i?i.some(o=>o[this.dynamicLabel]===t):e.some(o=>o[this.dynamicValue]===t)}listingComboOptions(e){let t=e.concat(),i=this.verifyComboOptions(t);return this.sortOptions(i),this.isOptionGroupList&&i.length>0?this.verifyComboOptionsGroup(i):i}sortOptions(e){if(e.length>0&&this.sort)return e.sort(this.compareOptions(this.dynamicLabel))}validateValue(e,t=!1){let{options:i}=e;return this.isOptionGroupList?dt(e[this.dynamicLabel])&&i&&i.length>0||t===!0&&dt(e[this.dynamicValue]):dt(e[this.dynamicValue])&&!i}verifyComboOptions(e,t=!1,i){return e.reduce((o,r)=>(!this.verifyIfHasLabel(r)||this.hasDuplicatedOption(o,r[this.dynamicValue]||r[this.dynamicLabel],i)||!this.validateValue(r,t)||o.push(r),o),[])}verifyComboOptionsGroup(e){return e.reduce((t,i)=>{let{options:o}=i,r=this.verifyComboOptions(o,!0,t);return r.length>0&&(this.sortOptions(r),t.push({label:i[this.dynamicLabel],options:!0},...r)),t},[])}verifyIfHasLabel(e={}){let{options:t}=e;return this.isOptionGroupList&&t&&!e[this.dynamicLabel]||!e[this.dynamicLabel]&&!e[this.dynamicValue]||!this.isOptionGroupList&&t?!1:(e[this.dynamicLabel]||(e[this.dynamicLabel]=e[this.dynamicValue].toString()),!0)}updateInternalVariables(e){e?(this.selectedView=e,this.selectedOption=e):(this.selectedView=void 0,this.selectedOption=void 0)}updateModel(e){e!==this.selectedValue&&(this.fromWriteValue||this.callModelChange(this.getValueUpdate(e,this.selectedOption)),this.change.emit(this.emitObjectValue?this.selectedOption:e)),this.selectedValue=e,this.fromWriteValue=!1}updateSelectedValueWithOldOption(){let e=this.getOptionFromValue(this.selectedValue,this.comboOptionsList);if(e&&e[this.dynamicLabel])return this.updateSelectedValue(e)}updateHasNext(){this.service&&this.infiniteScroll&&(this.defaultService.hasNext=!0)}static \u0275fac=function(t){return new(t||n)(f(H),f(T),f(I))};static \u0275dir=O({type:n,inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],autoFocus:[2,"p-auto-focus","autoFocus",_],label:[0,"p-label","label"],help:[0,"p-help","help"],name:"name",filterService:[0,"p-filter-service","filterService"],infiniteScroll:[0,"p-infinite-scroll","infiniteScroll"],infiniteScrollDistance:[0,"p-infinite-scroll-distance","infiniteScrollDistance"],icon:[0,"p-icon","icon"],optional:[0,"p-optional","optional"],clean:[2,"p-clean","clean",_],emitObjectValue:[2,"p-emit-object-value","emitObjectValue",_],disabledTabFilter:[2,"p-disabled-tab-filter","disabledTabFilter",_],removeInitialFilter:[0,"p-remove-initial-filter","removeInitialFilter"],fieldErrorMessage:[0,"p-field-error-message","fieldErrorMessage"],errorLimit:[0,"p-error-limit","errorLimit"],controlValueWithLabel:[2,"p-control-value-with-label","controlValueWithLabel",_],listboxControlPosition:[0,"p-listbox-control-position","listboxControlPosition"],placeholder:[0,"p-placeholder","placeholder"],debounceTime:[0,"p-debounce-time","debounceTime"],disabledInitFilter:[0,"p-disabled-init-filter","disabledInitFilter"],fieldValue:[0,"p-field-value","fieldValue"],fieldLabel:[0,"p-field-label","fieldLabel"],filterMinlength:[0,"p-filter-minlength","filterMinlength"],required:[0,"p-required","required"],showRequired:[0,"p-show-required","showRequired"],size:[0,"p-size","size"],changeOnEnter:[0,"p-change-on-enter","changeOnEnter"],disabled:[0,"p-disabled","disabled"],sort:[0,"p-sort","sort"],options:[0,"p-options","options"],filterMode:[0,"p-filter-mode","filterMode"],filterParams:[0,"p-filter-params","filterParams"],literals:[0,"p-literals","literals"],cache:[2,"p-cache","cache",_],appendBox:[2,"p-append-in-body","appendBox",_]},outputs:{blur:"p-blur",additionalHelp:"p-additional-help",change:"p-change",keydown:"p-keydown",ngModelChange:"ngModelChange",inputChange:"p-input-change"},features:[G]})}return n})();var yi=(()=>{class n{http;fieldLabel="label";fieldValue="value";hasNext=!0;headers=new bt({"X-PO-No-Message":"true"});_url;messages=[];get url(){return this._url}constructor(e){this.http=e}getFilteredData(e,t){let i=this.prepareParams(e,t);return this.http.get(`${this.url}`,{responseType:"json",params:i,headers:this.headers}).pipe(je(o=>this.hasNext=o.hasNext),Te(o=>this.parseToArrayComboOption(o.items)))}getObjectByValue(e,t){let i=Li(t);return this.http.get(`${this.url}/${e}`,{params:i,headers:this.headers}).pipe(Te(o=>this.parseToComboOption(o)))}configProperties(e,t,i){this._url=e,this.fieldLabel=t,this.fieldValue=i}scrollListener(e){return Ze(e,"scroll").pipe(it(100))}prepareParams(e,t){let{page:i,pageSize:o,value:r}=e,c=Li(t);return i?Ne(w({},c),{page:i,pageSize:o,filter:r}):Ne(w({},c),{filter:r})}parseToArrayComboOption(e){if(e&&e.length>0){let t=e.map(i=>this.parseToComboOption(i));return this.displayMessages(),t}return[]}parseToComboOption(e){if(!e?.[this.fieldValue])return this.addMessage(e,this.fieldValue),{value:""};let t=e[this.fieldLabel],i=e[this.fieldValue];return{label:t,value:i}}addMessage(e,t){this.messages.push(`Cannot read property "${t}" of ${JSON.stringify(e)},
      see [p-field-value] property at https://po-ui.io/documentation/po-combo`)}displayMessages(){this.messages.length&&(this.messages.forEach(e=>console.error(e)),this.messages=[])}static \u0275fac=function(t){return new(t||n)(Ee(Le))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ln=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(f(Xt))};static \u0275dir=O({type:n,selectors:[["","p-combo-option-template",""]],standalone:!1})}return n})();var pa=["outerContainer"],da=["containerElement"],ca=["contentElement"],ua=["iconArrow"],ha=["inp"],ma=["poListbox"];function fa(n,s){if(n&1&&(m(0,"div",20),N(1,"po-icon",21),h()),n&2){let e=a();u(),P("po-field-icon-disabled",e.disabled)("po-field-icon-aa",e.size==="small"),l("p-icon",e.icon)}}function ga(n,s){if(n&1){let e=y();m(0,"po-clean",22),g("p-change-event",function(i){p(e);let o=a();return d(o.clear(i))})("click",function(i){return p(e),a().clear(null),d(i.preventDefault())})("keydown.enter",function(i){return p(e),a().clearAndFocus(),d(i.preventDefault())})("keydown.tab",function(i){p(e);let o=a();return d(o.handleCleanKeyboardTab(i))}),h()}if(n&2){let e=a();P("po-combo-clean-aa",e.size==="small"),l("p-element-ref",e.inputEl)("p-size",e.size),B("aria-label",e.literals.clean)}}function _a(n,s){n&1&&ee(0)}function va(n,s){n&1&&ee(0)}function ya(n,s){if(n&1&&v(0,va,1,0,"ng-container",23),n&2){a();let e=L(22);l("ngTemplateOutlet",e)}}function ba(n,s){n&1&&ee(0)}function Ca(n,s){if(n&1&&v(0,ba,1,0,"ng-container",23),n&2){a(2);let e=L(22);l("ngTemplateOutlet",e)}}function wa(n,s){if(n&1&&v(0,Ca,1,1,"ng-template",24),n&2){a();let e=L(5);l("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayDisableClose",!0)}}function Da(n,s){if(n&1){let e=y();m(0,"div",25,7)(2,"po-listbox",26,8),g("p-selectcombo-item",function(i){p(e);let o=a();return d(o.onOptionClick(i,i.event))})("p-update-infinite-scroll",function(){p(e);let i=a();return d(i.showMoreInfiniteScroll())})("p-close",function(){p(e);let i=a();return d(i.onCloseCombo())})("keydown",function(i){p(e);let o=a();return d(o.onListboxKeyDown(i))}),h()()}if(n&2){let e=a();l("hidden",!e.comboOpen&&!e.isServerSearching),u(2),l("p-items",e.visibleOptions)("p-field-value",e.dynamicValue)("p-field-label",e.dynamicLabel)("p-template",e.comboOptionTemplate)("p-search-value",e.getInputValue())("p-infinite-loading",e.infiniteLoading)("p-infinite-scroll",e.infiniteScroll)("p-filtering",e.isFiltering)("p-cache",e.cache)("p-filter-mode",e.filterMode)("p-visible",e.comboOpen)("p-is-searching",e.isServerSearching)("p-should-mark-letter",e.shouldMarkLetters)("p-compare-cache",e.compareObjects(e.cacheOptions,e.visibleOptions))("p-combo-service",e.service)("p-infinite-scroll-distance",e.infiniteScrollDistance)("p-size",e.size)("p-container-width",e.containerWidth)}}var Va=8,dn=(()=>{class n extends sn{element;differs;defaultService;renderer;controlPosition;changeDetector;poThemeService;comboOptionTemplate;outerContainer;containerElement;contentElement;iconElement;inputEl;poListbox;comboIcon="ICON_ARROW_DOWN";comboOpen=!1;differ;id=`po-combo[${ue()}]`;isProcessingValueByTab=!1;scrollTop=0;shouldMarkLetters=!0;infiniteLoading=!1;containerWidth;_isServerSearching=!1;lastKey;clickoutListener;eventResizeListener;filterSubscription;getSubscription;subscriptionScrollEvent;constructor(e,t,i,o,r,c,C,V){super(V,c,C),this.element=e,this.differs=t,this.defaultService=i,this.renderer=o,this.controlPosition=r,this.changeDetector=c,this.poThemeService=C,this.differ=t.find([]).create(null)}set isServerSearching(e){e?(this._isServerSearching=e,this.changeDetector.detectChanges(),this.setContainerPosition(),this.initializeListeners()):this._isServerSearching=e}get isServerSearching(){return this._isServerSearching}ngAfterViewInit(){this.autoFocus&&this.focus(),this.setContainerWidth()}ngOnChanges(e){e.debounceTime&&(this.unsubscribeKeyupObservable(),this.initInputObservable()),e.filterService&&this.configAfterSetFilterService(this.filterService)}ngOnDestroy(){this.removeListeners(),this.filterSubscription&&this.filterSubscription.unsubscribe(),this.getSubscription&&this.getSubscription.unsubscribe(),this.infiniteScroll&&this.subscriptionScrollEvent?.unsubscribe()}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}focus(){this.disabled||this.inputEl.nativeElement.focus()}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}onBlur(e){this.onModelTouched?.(),this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp(),e.type==="blur"&&this.blur.emit()}onKeyDown(e){let t=e?.keyCode,i=e?.target?.value,o=document.activeElement===this.inputEl.nativeElement;if(e.shiftKey&&t===se.tab){this.controlComboVisibility(!1);return}if(this.service&&t===se.tab&&i&&!this.disabledTabFilter)return this.controlComboVisibility(!1),this.getObjectByValue(i);if(t===se.arrowDown&&(e.preventDefault(),this.visibleOptions.length&&this.focusItem(),this.comboOpen?this.controlComboVisibility(!0):this.toggleComboVisibility(),this.isFiltering=this.changeOnEnter?this.isFiltering:!1),t===se.enter&&this.selectedView&&this.comboOpen){let r=this.selectedView.value!==this.selectedValue||i!==this.selectedView.label;this.controlComboVisibility(!1),this.updateSelectedValue(this.selectedView,r),this.isFiltering=!1,this.service||this.updateComboList([...this.cacheStaticOptions]);return}if(t===se.enter&&(e.preventDefault(),this.toggleComboVisibility()),t===se.esc)if(t===this.lastKey){this.lastKey="",this.selectedValue&&this.clearAndFocus();return}else this.onCloseCombo();t===se.tab&&this.shouldHandleTab(e)&&!this.isCleanVisible()&&(e.preventDefault(),this.focusItem()),this.lastKey=e.keyCode,o&&this.keydown.emit(e)}onKeyUp(e){let t=e.keyCode||e.which,i=e.target.value;if(t!==se.arrowUp&&t!==se.arrowDown&&t!==se.enter&&t!==se.esc&&t!==se.tab){if(i)!this.service&&this.previousSearchValue!==i&&(this.shouldMarkLetters=!0,this.isFiltering=!0,this.searchForLabel(i,this.comboOptionsList,this.filterMode),this.inputChange.emit(i));else{let r=this.service&&this.selectedValue&&this.selectedOption.label===this.previousSearchValue;this.updateSelectedValue(null),this.service?r&&this.updateComboList([...this.cacheOptions]):this.updateComboList(),this.isFiltering=!1}this.previousSearchValue!==i&&(this.changeDetector.detectChanges(),this.controlComboVisibility(!0))}this.previousSearchValue=i}initInputObservable(){if(this.service){let e=Ze(this.inputEl.nativeElement,"keyup").pipe(ji(t=>this.isValidCharacterToSearch(t.keyCode)),Te(t=>t.currentTarget.value),$t(),je(()=>{this.shouldMarkLetters=!1}),it(this.debounceTime));this.keyupSubscribe=e.subscribe(t=>{(t.length>=this.filterMinlength||!t)&&this.controlApplyFilter(t)})}}controlApplyFilter(e,t){(!this.isProcessingValueByTab&&(!this.selectedOption||e!==this.selectedOption[this.dynamicLabel])||!this.cache)&&(this.defaultService.hasNext=!0,this.page=this.setPage(),this.options=[],this.applyFilter(e,!0,t)),this.isProcessingValueByTab=!1}applyFilter(e,t=!1,i){if(this.removeInitialFilter&&(this.defaultService.hasNext=!0),this.defaultService.hasNext){this.controlComboVisibility(!1,t),this.isServerSearching=!0;let o=this.infiniteScroll?{property:this.fieldLabel,value:e,page:this.page,pageSize:this.pageSize}:{property:this.fieldLabel,value:e};this.filterSubscription=this.service.getFilteredData(o,this.filterParams).subscribe(r=>{this.setOptionsByApplyFilter(e,r,t),i&&this.focusItem()},r=>this.onErrorFilteredData())}}setOptionsByApplyFilter(e,t,i=!1){this.shouldMarkLetters=!0,this.isServerSearching=!1,this.infiniteLoading=!1,this.options=this.prepareOptions(t),this.searchForLabel(e,t,this.filterMode),this.changeDetector.detectChanges(),this.controlComboVisibility(!0,i),this.isFirstFilter&&(this.isFirstFilter=!this.isFirstFilter,this.updateCacheOptions())}getErrorPattern(){return this.fieldErrorMessage&&this.hasInvalidClass()?this.fieldErrorMessage:""}hasInvalidClass(){return this.element.nativeElement.classList.contains("ng-invalid")&&this.element.nativeElement.classList.contains("ng-dirty")}getObjectByValue(e){this.selectedValue!==e&&this.selectedOption?.[this.dynamicLabel]!==e&&(this.isProcessingValueByTab=!0,this.getSubscription=this.service.getObjectByValue(e,this.filterParams).subscribe(t=>this.updateOptionByFilteredValue(t),t=>this.onErrorGetObjectByValue()))}updateOptionByFilteredValue(e){e?(this.options=[e],this.onOptionClick(e)):this.updateSelectedValue(null),setTimeout(()=>{this.isProcessingValueByTab=!1},this.debounceTime)}setShouldApplyFocus(e){this.shouldApplyFocus=e}toggleComboVisibility(e){this.disabled||(this.setShouldApplyFocus(!0),this.service&&!this.disabledInitFilter&&this.applyFilterInFirstClick(),this.controlComboVisibility(!this.comboOpen,!1,e))}applyFilterInFirstClick(){let e=this.isFirstFilter&&!this.selectedValue;if(this.removeInitialFilter||e){this.options=[];let t=this.setScrollingControl();this.applyFilter("",t)}}controlComboVisibility(e,t=!1,i){e?this.open(t,i):this.close(t)}onCloseCombo(){this.controlComboVisibility(!1),this.inputEl.nativeElement.focus()}onOptionClick(e,t){let i=this.getInputValue(),o=e[this.dynamicValue]!==this.selectedValue||!!(this.selectedView&&i!==this.selectedView[this.dynamicLabel]);t&&t.stopPropagation(),this.updateSelectedValue(e,o),this.controlComboVisibility(!1),this.service||this.updateComboList([...this.cacheStaticOptions]),this.previousSearchValue=this.selectedView[this.dynamicLabel],this.shouldApplyFocus&&this.inputEl.nativeElement.focus()}calculateScrollTop(e,t){return!e.length||t<=1?0:e[0].offsetTop}cleanListbox(){this.updateSelectedValue(null),this.options.map(e=>e.selected=!1)}getInputValue(){return this.inputEl.nativeElement.value}setInputValue(e){this.inputEl.nativeElement.value=e,e===null&&this.cleanListbox()}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}wasClickedOnToggle(e){if(this.comboOpen&&!this.inputEl.nativeElement.contains(e.target)&&!this.iconElement.nativeElement.contains(e.target)&&(!this.contentElement||!this.contentElement.nativeElement.contains(e.target)))this.controlComboVisibility(!1),this.verifyValidOption(),this.selectedView=this.changeOnEnter&&!this.selectedValue?void 0:this.selectedView;else if(this.service&&!this.getInputValue()&&!this.isFirstFilter){let t=this.setScrollingControl();this.applyFilter("",t)}}isValidCharacterToSearch(e){return e!==9&&e!==13&&e!==16&&e!==17&&e!==18&&e!==20&&e!==27&&e!==37&&e!==38&&e!==39&&e!==40&&e!==93}searchOnEnterOrArrow(e,t){(e.key==="ArrowDown"||e.key==="Enter")&&this.service&&!this.selectedView&&t.length>=this.filterMinlength&&this.controlApplyFilter(t,e.key==="ArrowDown")}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}showMoreInfiniteScroll(){this.defaultService.hasNext&&(this.infiniteLoading=!0),this.page++,this.applyFilter("",!0)}clearAndFocus(){this.clear(null),this.inputEl.nativeElement.focus()}updateCacheOptions(){this.cacheOptions=this.comboOptionsList.map(e=>e.value===this.selectedValue?Ne(w({},e),{selected:!0}):e)}isCleanVisible(){return this.clean&&!this.disabled&&!!this.inputEl.nativeElement.value}handleCleanKeyboardTab(e){this.shouldHandleTab(e)&&(e.preventDefault(),this.focusItem())}onListboxKeyDown(e){let t=e?.keyCode;t===se.tab&&e.shiftKey&&(this.focusInput(),e.preventDefault()),t===se.esc&&e.stopPropagation()}adjustContainerPosition(){this.controlPosition.adjustPosition(this.listboxControlPosition)}close(e){this.comboOpen=!1,e||(this.getInputValue()||(this.page=this.setPage(),this.defaultService.hasNext=!0),this.infiniteScroll&&(this.options=this.setOptions())),this.changeDetector.detectChanges(),this.comboIcon="ICON_ARROW_DOWN",this.removeListeners(),this.isFiltering=!1,this.renderer.removeClass(this.inputEl.nativeElement,"po-combo-input-focus")}initializeListeners(){this.removeListeners(),this.clickoutListener=this.renderer.listen("document","click",e=>{this.wasClickedOnToggle(e)}),this.eventResizeListener=this.renderer.listen("window","resize",()=>{setTimeout(()=>this.adjustContainerPosition(),250)}),window.addEventListener("scroll",this.onScroll,!0)}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}onErrorGetObjectByValue(){this.updateOptionByFilteredValue(null)}onScroll=()=>{this.adjustContainerPosition()};onErrorFilteredData(){this.isServerSearching=!1,this.updateComboList([]),this.controlComboVisibility(!0)}open(e,t){this.comboOpen=!0,!e&&this.infiniteScroll&&(this.getInputValue()||(this.page=1),this.options=this.setOptions()),this.changeDetector.detectChanges(),this.comboIcon="ICON_ARROW_UP",this.initializeListeners(),t?this.renderer.addClass(this.inputEl.nativeElement,"po-combo-input-focus"):this.inputEl.nativeElement.focus(),this.setContainerPosition(),this.comboOpen&&this.setContainerWidth()}removeListeners(){this.clickoutListener&&this.clickoutListener(),this.eventResizeListener&&this.eventResizeListener(),window.removeEventListener("scroll",this.onScroll,!0)}setContainerPosition(){this.controlPosition?.setElements(this.containerElement?.nativeElement,Va,this.inputEl,["top","bottom"],!0),this.adjustContainerPosition()}setContainerWidth(){this.outerContainer&&(this.containerWidth=this.outerContainer.nativeElement.offsetWidth)}setOptions(){return this.getInputValue()?this.options:[]}prepareOptions(e){return this.infiniteScroll?[...this.options,...e]:e}setPage(){return this.infiniteScroll?1:void 0}setScrollingControl(){return!!this.infiniteScroll}focusItem(){this.poListbox?.listboxItemList?.nativeElement.focus(),setTimeout(()=>{let e=null;if(this.selectedValue&&(e=document.querySelector('.po-listbox-item[aria-selected="true"]')),!e){let t=document.querySelectorAll(".po-listbox-item");e=t.length>0?t[0]:null}e&&e.focus()})}focusInput(e){e?.preventDefault(),this.inputEl.nativeElement.focus()}shouldHandleTab(e){return this.comboOpen&&this.appendBox&&!e.shiftKey}static \u0275fac=function(t){return new(t||n)(f(D),f(ot),f(yi),f(Fe),f(Se),f(T),f(I),f(H))};static \u0275cmp=k({type:n,selectors:[["po-combo"]],contentQueries:function(t,i,o){if(t&1&&ti(o,ln,7),t&2){let r;F(r=S())&&(i.comboOptionTemplate=r.first)}},viewQuery:function(t,i){if(t&1&&(x(pa,5,D),x(da,5,D),x(ca,5,D),x(ua,7,D),x(ha,7,D),x(ma,5)),t&2){let o;F(o=S())&&(i.outerContainer=o.first),F(o=S())&&(i.containerElement=o.first),F(o=S())&&(i.contentElement=o.first),F(o=S())&&(i.iconElement=o.first),F(o=S())&&(i.inputEl=o.first),F(o=S())&&(i.poListbox=o.first)}},standalone:!1,features:[W([yi,Se,{provide:Q,useExisting:z(()=>n),multi:!0},{provide:$,useExisting:z(()=>n),multi:!0}]),A,Ce],decls:23,vars:45,consts:[["outerContainer",""],["searchContainer","","trigger","cdkOverlayOrigin"],["inp",""],["iconArrow",""],["dropdownDefault",""],["dropdownCDK",""],["dropdownListbox",""],["containerElement",""],["poListbox","","contentElement",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],["cdkOverlayOrigin","",1,"po-field-container-content","po-combo-container-content"],[1,"po-combo-container-wrapper"],["class","po-field-icon-container-left",4,"ngIf"],["autocomplete","off","type","text",1,"po-combo-input",3,"click","keyup","blur","keydown","ngClass","disabled","id","placeholder","required"],[1,"po-field-icon-container-right"],["tabindex","0","role","button","class","po-combo-clean po-icon-input",3,"po-combo-clean-aa","p-element-ref","p-size","p-change-event","click","keydown.enter","keydown.tab",4,"ngIf"],[1,"po-combo-arrow","po-field-icon",3,"click"],[3,"p-icon"],[4,"ngIf","ngIfThen","ngIfElse"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"],[1,"po-field-icon-container-left"],[1,"po-field-icon","po-icon-input",3,"p-icon"],["tabindex","0","role","button",1,"po-combo-clean","po-icon-input",3,"p-change-event","click","keydown.enter","keydown.tab","p-element-ref","p-size"],[4,"ngTemplateOutlet"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayDisableClose"],[1,"po-combo-container",3,"hidden"],["p-type","option",3,"p-selectcombo-item","p-update-infinite-scroll","p-close","keydown","p-items","p-field-value","p-field-label","p-template","p-search-value","p-infinite-loading","p-infinite-scroll","p-filtering","p-cache","p-filter-mode","p-visible","p-is-searching","p-should-mark-letter","p-compare-cache","p-combo-service","p-infinite-scroll-distance","p-size","p-container-width"]],template:function(t,i){if(t&1){let o=y();m(0,"div",null,0)(2,"po-field-container",9)(3,"div",10,1)(6,"div",11),v(7,fa,2,5,"div",12),m(8,"input",13,2),g("click",function(){return p(o),d(i.toggleComboVisibility())})("keyup",function(c){return p(o),d(i.onKeyUp(c))})("blur",function(c){return p(o),d(i.onBlur(c))})("keyup",function(c){return p(o),d(i.searchOnEnterOrArrow(c,c.target.value))})("keydown",function(c){return p(o),d(i.onKeyDown(c))}),h(),m(10,"div",14),v(11,ga,1,5,"po-clean",15),m(12,"div",16,3),g("click",function(){return p(o),d(i.toggleComboVisibility(!0))}),N(14,"po-icon",17),h()()()(),v(15,_a,1,0,"ng-container",18)(16,ya,1,1,"ng-template",null,4,X)(18,wa,1,3,"ng-template",null,5,X),m(20,"po-field-container-bottom",19),g("p-additional-help",function(){return p(o),d(i.emitAdditionalHelp())}),h()(),v(21,Da,5,19,"ng-template",null,6,X),h()}if(t&2){let o=L(9),r=L(17),c=L(19);u(2),l("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),u(5),l("ngIf",i.icon),u(),P("po-combo-input-aa",i.size==="small")("po-input-icon-left",i.icon)("po-input-icon-left-aa",i.icon&&i.size==="small"),l("ngClass",i.clean&&o.value?i.size==="small"?"po-input-double-icon-right-aa":"po-input-double-icon-right":i.size==="small"?"po-input-icon-right-aa":"po-input-icon-right")("disabled",i.disabled)("id",i.id)("placeholder",i.disabled?"":i.placeholder)("required",i.required),B("name",i.name)("data-append-in-body",i.appendBox),u(3),l("ngIf",i.isCleanVisible()),u(),P("po-field-icon-disabled",i.disabled)("po-field-icon-disabled-aa",i.disabled&&i.size==="small"),u(2),P("po-field-icon",!i.disabled)("po-field-icon-aa",i.size==="small")("po-combo-default-border",!i.disabled&&o.value)("po-combo-background-arrow-up",!i.disabled&&i.comboOpen),l("p-icon",i.comboOpen?"ICON_ARROW_UP po-icon-input":"ICON_ARROW_DOWN po-icon-input"),u(),l("ngIf",i.appendBox)("ngIfThen",c)("ngIfElse",r),u(5),l("p-additional-help-tooltip",i.getAdditionalHelpTooltip())("p-append-in-body",i.appendBox)("p-help",i.help)("p-disabled",i.disabled)("p-error-pattern",i.getErrorPattern())("p-error-limit",i.errorLimit)("p-show-additional-help",i.displayAdditionalHelp)("p-show-additional-help-icon",i.showAdditionalHelpIcon())}},dependencies:[ce,M,Ae,Dt,wt,xe,oe,J,te,pi],encapsulation:2,changeDetection:0})}return n})();var bi=(()=>{class n{cd;poThemeService;additionalHelpEventTrigger;additionalHelpTooltip;appendBox=!1;autoFocus=!1;icon;emitAllChanges=!1;label;help;name;errorAsyncProperties;errorPattern="";errorLimit=!1;optional;showErrorMessageRequired=!1;upperCase=!1;_maskNoLengthValidation=!1;set maskNoLengthValidation(e){this._maskNoLengthValidation=_(e),this.validateModel()}get maskNoLengthValidation(){return this._maskNoLengthValidation}additionalHelp=new b;blur=new b;enter=new b;change=new b;changeModel=new b;keydown=new b;displayAdditionalHelp=!1;type;onChangePropagate=null;objMask;modelLastUpdate;isInvalid;hasValidatorRequired=!1;subscription=new me;onTouched=null;passedWriteValue=!1;validatorChange;_maxlength;_minlength;_noAutocomplete=!1;_placeholder="";_size=void 0;set noAutocomplete(e){this._noAutocomplete=_(e)}get noAutocomplete(){return this._noAutocomplete}set placeholder(e){this._placeholder=e||""}get placeholder(){return this._placeholder}disabled=!1;set setDisabled(e){this.disabled=e===""?!0:_(e),this.validateModel()}readonly=!1;set setReadonly(e){this.readonly=e===""?!0:_(e)}required=!1;set setRequired(e){this.required=e===""?!0:_(e),this.validateModel()}set size(e){this._size=ie(e,this.poThemeService,j)}get size(){return this._size??Y(this.poThemeService,j)}showRequired=!1;clean=!1;set setClean(e){this.clean=e===""?!0:_(e)}pattern;set setPattern(e){this.pattern=e,this.validateModel()}set maxlength(e){isNaN(parseInt(e,10))?e||(this._maxlength=void 0,this.validateModel()):(this._maxlength=parseInt(e,10),this.validateModel())}get maxlength(){return this._maxlength}set minlength(e){isNaN(parseInt(e,10))?e||(this._minlength=void 0,this.validateModel()):(this._minlength=parseInt(e,10),this.validateModel())}get minlength(){return this._minlength}mask="";set setMask(e){this.mask=e,this.objMask=new Xe(this.mask,this.maskFormatModel)}maskFormatModel=!1;set setMaskFormatModel(e){this.maskFormatModel=e===""?!0:_(e),this.objMask instanceof Xe&&(this.objMask.formatModel=this.maskFormatModel,this.validateModel())}constructor(e,t){this.cd=e,this.poThemeService=t,this.objMask=new Xe(this.mask,this.maskFormatModel)}ngOnDestroy(){this.subscription.unsubscribe()}callOnChange(e){this.updateModel(e),this.controlChangeModelEmitter(e)}callUpdateModelWithTimeout(e){setTimeout(()=>this.updateModel(e))}controlChangeModelEmitter(e){(this.modelLastUpdate!==e||this.emitAllChanges)&&(this.changeModel.emit(e),this.modelLastUpdate=e)}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}setDisabledState(e){this.disabled=e,this.cd?.markForCheck()}registerOnChange(e){this.onChangePropagate=e}registerOnTouched(e){this.onTouched=e}registerOnValidatorChange(e){this.validatorChange=e}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}updateModel(e){this.onChangePropagate&&this.onChangePropagate(e)}validate(e){return this.subscription?.unsubscribe(),!this.hasValidatorRequired&&this.showErrorMessageRequired&&e.hasValidator(Oe.required)&&(this.hasValidatorRequired=!0),he(this.required,this.disabled,this.getScreenValue())?(this.isInvalid=!0,this.cd?.markForCheck(),{required:{valid:!1}}):ut(this.maxlength,this.getScreenValue(),this.maskFormatModel?!1:this.maskNoLengthValidation)?(this.isInvalid=!0,this.cd?.markForCheck(),{maxlength:{valid:!1}}):ci(this.minlength,this.getScreenValue(),this.maskFormatModel?!1:this.maskNoLengthValidation)?(this.isInvalid=!0,this.cd?.markForCheck(),{minlength:{valid:!1}}):Mo(this.pattern,e.value)?(this.isInvalid=!0,this.cd?.markForCheck(),this.validatePatternOnWriteValue(e.value),{pattern:{valid:!1}}):(this.errorPattern!==""&&(this.subscription=e.statusChanges.pipe(Ve(t=>(t==="INVALID"&&(this.isInvalid=!0,this.cd?.markForCheck()),[]))).subscribe()),this.isInvalid=!1,this.extraValidation(e))}writeValue(e){this.writeValueModel(e),this.cd?.markForCheck()}validateModel(){this.validatorChange&&this.validatorChange()}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}validatePatternOnWriteValue(e){e&&this.passedWriteValue&&(setTimeout(()=>{this.updateModel(e)}),this.passedWriteValue=!1)}static \u0275fac=function(t){return new(t||n)(f(T),f(I))};static \u0275dir=O({type:n,inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],appendBox:[2,"p-append-in-body","appendBox",_],autoFocus:[2,"p-auto-focus","autoFocus",_],icon:[0,"p-icon","icon"],emitAllChanges:[2,"p-emit-all-changes","emitAllChanges",_],label:[0,"p-label","label"],help:[0,"p-help","help"],name:"name",errorAsyncProperties:[0,"p-error-async-properties","errorAsyncProperties"],errorPattern:[0,"p-error-pattern","errorPattern"],errorLimit:[0,"p-error-limit","errorLimit"],optional:[0,"p-optional","optional"],showErrorMessageRequired:[0,"p-required-field-error-message","showErrorMessageRequired"],upperCase:[2,"p-upper-case","upperCase",_],maskNoLengthValidation:[0,"p-mask-no-length-validation","maskNoLengthValidation"],noAutocomplete:[0,"p-no-autocomplete","noAutocomplete"],placeholder:[0,"p-placeholder","placeholder"],setDisabled:[0,"p-disabled","setDisabled"],setReadonly:[0,"p-readonly","setReadonly"],setRequired:[0,"p-required","setRequired"],size:[0,"p-size","size"],showRequired:[0,"p-show-required","showRequired"],setClean:[0,"p-clean","setClean"],setPattern:[0,"p-pattern","setPattern"],maxlength:[0,"p-maxlength","maxlength"],minlength:[0,"p-minlength","minlength"],setMask:[0,"p-mask","setMask"],setMaskFormatModel:[0,"p-mask-format-model","setMaskFormatModel"]},outputs:{additionalHelp:"p-additional-help",blur:"p-blur",enter:"p-enter",change:"p-change",changeModel:"p-change-model",keydown:"p-keydown"},features:[G]})}return n})();var Sa=["inp"],xa=(n,s,e,t)=>({"po-input-icon-left":n,"po-input-icon-left-aa":s,"po-input-icon-right":e,"po-input-icon-right-aa":t});function Ta(n,s){if(n&1&&(m(0,"div",8),N(1,"po-icon",9),h()),n&2){let e=a();u(),P("po-field-icon-disabled",e.disabled)("po-field-icon-aa",e.size==="small"),l("p-icon",e.icon)}}function Pa(n,s){if(n&1){let e=y();m(0,"po-clean",10),g("p-change-event",function(i){p(e);let o=a();return d(o.clear(i))}),h()}if(n&2){let e=a();l("p-element-ref",e.inputEl)("p-size",e.size)}}function Ea(n,s){if(n&1){let e=y();m(0,"po-field-container-bottom",11),g("p-additional-help",function(){p(e);let i=a();return d(i.emitAdditionalHelp())}),h()}if(n&2){let e=a();l("p-additional-help-tooltip",e.getAdditionalHelpTooltip())("p-append-in-body",e.appendBox)("p-help",e.help)("p-disabled",e.disabled)("p-error-limit",e.errorLimit)("p-error-pattern",e.getErrorPatternMessage())("p-show-additional-help",e.displayAdditionalHelp)("p-show-additional-help-icon",e.showAdditionalHelpIcon())}}var Bi=2,Ci=13,ka=15,Wt=16,cn=(()=>{class n extends bi{el;poLanguageService;poThemeService;inputEl;id=`po-decimal[${ue()}]`;_decimalsLength=Bi;_thousandMaxlength=Ci;_locale;_min;_max;decimalSeparator;fireChange=!1;isKeyboardAndroid=!1;minusSign="-";oldDotsLength=null;thousandSeparator;valueBeforeChange;subscriptionValidator=new me;regex={thousand:new RegExp("\\,","g"),decimal:new RegExp("\\.","g")};get autocomplete(){return this.noAutocomplete?"off":"on"}set decimalsLength(e){let t=Re(e);t=this.isValueBetweenAllowed(t,ka)?t:Bi,this.isGreaterThanTotalLengthLimit(t,this.thousandMaxlength)&&(this.thousandMaxlength=Wt-t),this._decimalsLength=t}get decimalsLength(){return this._decimalsLength}set thousandMaxlength(e){let t=Re(e);this.decimalsLength>Bi&&!t&&(t=Wt-this.decimalsLength),t=this.isValueBetweenAllowed(t,Ci)?t:Ci,this.isGreaterThanTotalLengthLimit(this.decimalsLength,t)&&(this.decimalsLength=Wt-t),this._thousandMaxlength=t}get thousandMaxlength(){return this._thousandMaxlength}set locale(e){this._locale=e,this.setNumbersSeparators()}set min(e){isNaN(e)?e||(this._min=void 0,this.validateModel()):(this._min=e,this.validateModel())}get min(){return this._min}set max(e){isNaN(e)?e||(this._max=void 0,this.validateModel()):(this._max=e,this.validateModel())}get max(){return this._max}constructor(e,t,i,o){super(i,o),this.el=e,this.poLanguageService=t,this.poThemeService=o,this.isKeyboardAndroid=!!navigator.userAgent.match(/Android/i)}ngOnInit(){this.setNumbersSeparators()}setNumbersSeparators(){let{decimalSeparator:e,thousandSeparator:t}=this.poLanguageService.getNumberSeparators(this._locale);this.decimalSeparator=e,this.thousandSeparator=t,this.regex={thousand:new RegExp("\\"+t,"g"),decimal:new RegExp("\\"+e,"g")}}ngAfterViewInit(){this.verifyAutoFocus()}ngOnDestroy(){this.subscriptionValidator?.unsubscribe()}clear(e){this.callOnChange(e),this.controlChangeEmitter(),this.errorAsyncProperties?.triggerMode==="changeModel"&&this.verifyErrorAsync(e)}extraValidation(e){let t=e.value,i=Math.trunc(t);return this.errorPattern=this.errorPattern!=="Valor Inv\xE1lido"?this.errorPattern:"",ui(this.min,t)?{min:{valid:!1}}:hi(this.max,t)?{max:{valid:!1}}:ut(this.thousandMaxlength,i)&&this.thousandMaxlength<Ci||ut(Wt,t)?{max:{valid:!1}}:null}focus(){this.disabled||this.inputEl.nativeElement.focus()}getScreenValue(){return this.inputEl?this.inputEl.nativeElement.value:""}hasInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&(this.getScreenValue()!==""||this.showErrorMessageRequired&&(this.required||this.hasValidatorRequired))}hasLetters(e=""){return e.match(/[a-zA-Z:;+=_`^~"'?!@#$%&*()><{}\[\]/\\|]+/)}hasNotSpace(e=""){return e.match(/^\S*$/)}isValidNumber(e){let t=String.fromCharCode(e.which),i=e.which!==8&&e.which!==0;return!this.hasLetters(t)&&this.hasNotSpace(t)&&i}onBlur(e){this.onTouched?.(),this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp();let t=e.target.value;if(t){if(this.hasLetters(t)||this.containsMoreThanOneDecimalSeparator(t)){this.setViewValue(""),this.callOnChange(void 0);return}let i=this.formatValueWithoutThousandSeparator(t),o=this.formatToViewValue(i);if(this.setViewValue(o),!o){this.callOnChange(void 0);return}}this.blur.emit(),this.controlChangeEmitter()}onFocus(e){this.valueBeforeChange=this.getScreenValue(),this.enter.emit()}onInput(e){let t=e.target.selectionStart,i=e.target.selectionEnd,o;this.isKeyboardAndroid&&this.onInputKeyboardAndroid(e),o=this.formatValueWithoutThousandSeparator(e.target.value),o=this.addZeroBefore(o);let r=this.formatMask(o);r&&(this.setViewValue(r),this.setCursorInput(e,t,i)),this.callOnChange(this.formatToModelValue(o)),this.errorAsyncProperties?.triggerMode==="changeModel"&&this.verifyErrorAsync(this.formatToModelValue(o))}onInputKeyboardAndroid(e){let t=e.target.value,i=e.target.selectionStart,o=this.hasLetters(t);if(o)return this.setViewValue(t.replace(o[0],"")),e.preventDefault();{let r=i-1,c=t.charAt(r);this.setPositionValue(e),this.isValidKey(e,c)&&this.setViewValue(t)}}onKeyDown(e){document.activeElement===this.inputEl.nativeElement&&this.keydown.emit(e)}onKeyPress(e){this.isValidKey(e)}writeValueModel(e){let t;this.inputEl&&(e||e===0?(t=this.formatToViewValue(e),this.setViewValue(t)):this.setViewValue("")),t&&(this.change.emit(e),this.verifyErrorAsync(e))}getErrorPatternMessage(){return this.errorPattern!==""&&this.hasInvalidClass()?this.errorPattern:""}addZeroBefore(e){return e===this.decimalSeparator?`0${e}`:e}containsComma(e){return e.includes(this.decimalSeparator)}containsMoreThanOneDecimalSeparator(e=""){let t=e.match(this.regex.decimal);return!!(t&&t.length>1)}controlChangeEmitter(){let e=this.getScreenValue();e!==this.valueBeforeChange&&(this.fireChange=!0,setTimeout(()=>{this.change.emit(e);let t=this.errorAsyncProperties;(t?.triggerMode==="change"||!t?.triggerMode)&&this.verifyErrorAsync(e)},200))}formatMask(e){if(e.match(this.regex.decimal)){let t=new RegExp(`(\\d)(?=(\\d{3})+(?!\\d)${this.decimalSeparator})`,"g");return e.toString().replace(t,`$1${this.thousandSeparator}`)}return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${this.thousandSeparator}`)}formatToModelValue(e){let t=this.replaceCommaToDot(e),i=t?parseFloat(Number(t).toFixed(this.decimalsLength)):void 0;return i===0||i?i:void 0}formatToViewValue(e){e=this.replaceCommaToDot(e);let t=Number(e).toFixed(this.decimalsLength),i=this.getValueBeforeSeparator(t,"."),o=this.getValueAfterSeparator(t,"."),r=this.formatMask(i);return r==="NaN"?"":this.decimalsLength===0?r:`${r}${this.decimalSeparator}${o}`}formatValueWithoutThousandSeparator(e=""){return e.toString().replace(this.regex.thousand,"")}getValueAfterSeparator(e="",t){return e.split(t)[1]||""}getValueBeforeSeparator(e="",t){return e.split(t)[0]||""}hasLessDot(e){if(e){let t=e.match(this.regex.thousand),i=t&&t.length;if(i<this.oldDotsLength)return this.oldDotsLength=i,!0}return e||(this.oldDotsLength=null),!1}hasMoreDot(e){if(e){let t=e.match(this.regex.thousand),i=t&&t.length;if(i>this.oldDotsLength)return this.oldDotsLength=i,!0}return e||(this.oldDotsLength=null),!1}hasMinusSignInvalidPosition(e){let t=e.key===this.minusSign,i=e.target.selectionStart;return t&&i!==0}isInvalidKey(e,t){let i=!this.isValidNumber(e);return this.verifyInsertComma(e)||this.verifyThousandLength(e)||this.verifyValueAfterComma(e)||this.verifyInsertMinusSign(e)||this.hasMinusSignInvalidPosition(e)||i||this.validateCursorPositionBeforeSeparator(e)||this.verifyDecimalLengthIsZeroAndKeyPressedIsComma(t)}isGreaterThanTotalLengthLimit(e,t){return e+t>Wt}isKeyDecimalSeparator(e){return e.key===this.decimalSeparator||e.char===this.decimalSeparator}isPositionAfterDecimalSeparator(e,t){let i=t&&t.indexOf(this.decimalSeparator);if(i&&this.decimalsLength>0)return e>i}isSelectionStartDifferentSelectionEnd(e){return e.selectionStart!==e.selectionEnd}isValidKey(e,t){let i=e.which||e.keyCode;if(!((e.which===8||e.which===0)&&!this.isKeyboardAndroid))return t&&(e.key=t),this.isInvalidKey(e,i)?(e.preventDefault(),!1):!0}isValueBetweenAllowed(e,t){return e>=0&&e<=t}verifyDecimalLengthIsZeroAndKeyPressedIsComma(e){return e===44&&this.decimalsLength===0}verifyAutoFocus(){this.autoFocus&&this.focus()}setInitialSelectionRange(e,t,i){return t===1&&i===1?e.setSelectionRange(t+1,i+1):e.setSelectionRange(t-1,i-1)}replaceAt(e,t,i){return e.substring(0,t)+i+e.substring(t+1)}replaceCommaToDot(e=""){return this.decimalSeparator===","&&(e=e.toString().replace(this.regex.decimal,".")),e}setCursorInput(e,t,i){let o=e.target,r=o.value;return this.hasMoreDot(r)||r==="0"+this.decimalSeparator?o.setSelectionRange(t+1,i+1):(this.hasLessDot(r)&&this.setInitialSelectionRange(o,t,i),o.setSelectionRange(t,i))}setPositionValue(e){let t=e.target.value,i=e.target.selectionStart-1;i>0&&e.key===this.minusSign&&(e.target.value=t.substring(0,i)+t.substr(i+1))}setViewValue(e){this.inputEl.nativeElement.value=e}validateCursorPositionBeforeSeparator(e){let t=e.target,i=this.formatValueWithoutThousandSeparator(t.value),o=this.getValueBeforeSeparator(t.value,this.decimalSeparator),r=this.getValueBeforeSeparator(i,this.decimalSeparator);return this.isSelectionStartDifferentSelectionEnd(t)?!1:t.selectionStart<=o.length&&r.length===this.thousandMaxlength&&!this.isKeyDecimalSeparator(e)}verifyErrorAsync(e){if(this.errorPattern!==""&&this.errorAsyncProperties?.errorAsync){let t=this.errorAsyncProperties.errorAsync(e);gt(t)&&(this.subscriptionValidator?.unsubscribe(),this.subscriptionValidator=t.pipe(Ve(i=>{let o=this.el.nativeElement;return i?(o.classList.add("ng-invalid"),o.classList.add("ng-dirty"),this.cd.detectChanges()):o.classList.contains("ng-invalid")&&o.classList.contains("ng-dirty")&&!this.isInvalid&&(o.classList.remove("ng-invalid"),this.cd.detectChanges()),Ke("")})).subscribe())}}verifyThousandLength(e){let t=e.target,i=this.formatValueWithoutThousandSeparator(t.value),o=this.getValueBeforeSeparator(i,this.decimalSeparator);return this.isSelectionStartDifferentSelectionEnd(t)?!1:o.length>=this.thousandMaxlength&&!this.isKeyDecimalSeparator(e)&&this.isPositionAfterDecimalSeparator(t.selectionStart-this.decimalsLength,t.value)}verifyInsertComma(e){return this.containsComma(e.target.value)&&e.key===this.decimalSeparator}verifyInsertMinusSign(e){let t=e.target.value,i=t.lastIndexOf(this.minusSign)!==-1,o=t.lastIndexOf("-"),r=t.match(new RegExp("-","g"));return this.isKeyboardAndroid&&i&&r.length>1&&(e.target.value=this.replaceAt(t,o,"")),i&&e.key===this.minusSign}verifyValueAfterComma(e){let t=e.target.value,i=e.target.selectionStart,o=this.getValueAfterSeparator(t,this.decimalSeparator);return this.isPositionAfterDecimalSeparator(i,t)&&o.length>=this.decimalsLength}static \u0275fac=function(t){return new(t||n)(f(D),f(H),f(T),f(I))};static \u0275cmp=k({type:n,selectors:[["po-decimal"]],viewQuery:function(t,i){if(t&1&&x(Sa,7,D),t&2){let o;F(o=S())&&(i.inputEl=o.first)}},inputs:{decimalsLength:[0,"p-decimals-length","decimalsLength"],thousandMaxlength:[0,"p-thousand-maxlength","thousandMaxlength"],locale:[0,"p-locale","locale"],min:[0,"p-min","min"],max:[0,"p-max","max"]},standalone:!1,features:[W([{provide:Q,useExisting:z(()=>n),multi:!0},{provide:$,useExisting:z(()=>n),multi:!0}]),A],decls:8,vars:26,consts:[["inp",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],["class","po-field-icon-container-left",4,"ngIf"],["inputmode","decimal","type","text",1,"po-input",3,"blur","focus","input","keypress","keydown","autocomplete","ngClass","disabled","id","placeholder","readonly","required"],[1,"po-field-icon-container-right"],["class","po-icon-input",3,"p-element-ref","p-size","p-change-event",4,"ngIf"],[3,"p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-limit","p-error-pattern","p-show-additional-help","p-show-additional-help-icon","p-additional-help",4,"ngIf"],[1,"po-field-icon-container-left"],[1,"po-field-icon","po-icon-input",3,"p-icon"],[1,"po-icon-input",3,"p-change-event","p-element-ref","p-size"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-limit","p-error-pattern","p-show-additional-help","p-show-additional-help-icon"]],template:function(t,i){if(t&1){let o=y();m(0,"po-field-container",1)(1,"div",2),v(2,Ta,2,5,"div",3),m(3,"input",4,0),g("blur",function(c){return p(o),d(i.onBlur(c))})("focus",function(c){return p(o),d(i.onFocus(c))})("input",function(c){return p(o),d(i.onInput(c))})("keypress",function(c){return p(o),d(i.onKeyPress(c))})("keydown",function(c){return p(o),d(i.onKeyDown(c))}),h(),m(5,"div",5),v(6,Pa,1,2,"po-clean",6),h()(),v(7,Ea,1,8,"po-field-container-bottom",7),h()}t&2&&(l("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),u(2),l("ngIf",i.icon),u(),P("po-input-aa",i.size==="small"),l("autocomplete",i.autocomplete)("ngClass",Zi(21,xa,i.icon&&i.size!=="small",i.icon&&i.size==="small",i.clean&&i.size!=="small",i.clean&&i.size==="small"))("disabled",i.disabled)("id",i.id)("placeholder",i.disabled?"":i.placeholder)("readonly",i.readonly)("required",i.required),B("max",i.max)("min",i.min)("name",i.name),u(3),l("ngIf",i.clean&&!i.disabled&&!i.readonly),u(),l("ngIf",!i.readonly))},dependencies:[ce,M,xe,oe,J,te],encapsulation:2,changeDetection:0})}return n})();var Ut={en:{invalidFormat:"Date in invalid format",startDateGreaterThanEndDate:"Start date greater than end date",invalidDate:"Invalid date",dateOutOfPeriod:"Date out of period"},es:{invalidFormat:"Fecha en formato no v\xE1lido",startDateGreaterThanEndDate:"Fecha de inicio mayor que fecha final",invalidDate:"Fecha invalida",dateOutOfPeriod:"Fecha fuera de per\xEDodo"},pt:{invalidFormat:"Data no formato inv\xE1lido",startDateGreaterThanEndDate:"Data inicial maior que data final",invalidDate:"Data inv\xE1lida",dateOutOfPeriod:"Data fora do per\xEDodo"},ru:{invalidFormat:"\u0414\u0430\u0442\u0430 \u0432 \u043D\u0435\u0432\u0435\u0440\u043D\u043E\u043C \u0444\u043E\u0440\u043C\u0430\u0442\u0435",startDateGreaterThanEndDate:"\u0414\u0430\u0442\u0430 \u043D\u0430\u0447\u0430\u043B\u0430 \u0431\u043E\u043B\u044C\u0448\u0435 \u0434\u0430\u0442\u044B \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F",invalidDate:"\u041D\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0434\u0430\u0442\u0430",dateOutOfPeriod:"\u0434\u0430\u0442\u0430 \u0432\u043D\u0435 \u043F\u0435\u0440\u0438\u043E\u0434\u0430"}};var un=(()=>{class n{changeDetector;poDateService;poThemeService;languageService;additionalHelpEventTrigger;name;additionalHelpTooltip;appendBox=!1;autoFocus=!1;help;label;optional;fieldErrorMessage;additionalHelp=new b;errorLimit=!1;onChange=new b;keydown=new b;errorMessage="";dateRange={start:"",end:""};displayAdditionalHelp=!1;format="dd/mm/yyyy";isDateRangeInputFormatValid=!0;isStartDateRangeInputValid=!0;onTouchedModel;poMaskObject;hasValidatorRequired=!1;_clean=!1;_disabled;_endDate;_literals;_maxDate;_minDate;_noAutocomplete=!1;_readonly=!1;_required=!1;_startDate;_locale;_size=void 0;language;onChangeModel;validatorChange;subscription=new me;get isDateRangeInputValid(){return this.isDateRangeInputFormatValid&&this.isStartDateRangeInputValid}set clean(e){this._clean=_(e)}get clean(){return this._clean}set disabled(e){this._disabled=_(e),this.validateModel(this.dateRange)}get disabled(){return this._disabled}set endDate(e){this._endDate=this.convertPatternDateFormat(e),this.dateRange.end=this.endDate,this.updateScreenByModel(this.dateRange),this.updateModel(this.dateRange)}get endDate(){return this._endDate}set literals(e){e instanceof Object&&!(e instanceof Array)?this._literals=w(w(w({},Ut[re]),Ut[this.language]),e):this._literals=Ut[this.language]}get literals(){return this._literals||Ut[this.language]}set minDate(e){if(e instanceof Date){let t=e.getFullYear(),i=new Date(t,e.getMonth(),e.getDate(),0,0,0);et(i,t),this._minDate=i}else this._minDate=at(e,!0,!1)}get minDate(){return this._minDate}set maxDate(e){if(e instanceof Date){let t=e.getFullYear(),i=new Date(t,e.getMonth(),e.getDate(),23,59,59);et(i,t),this._maxDate=i}else this._maxDate=at(e,!1,!0)}get maxDate(){return this._maxDate}set noAutocomplete(e){this._noAutocomplete=_(e)}get noAutocomplete(){return this._noAutocomplete}set readonly(e){this._readonly=_(e),this.validateModel(this.dateRange)}get readonly(){return this._readonly}set required(e){this._required=_(e),this.validateModel(this.dateRange)}get required(){return this._required}showRequired=!1;set size(e){this._size=ie(e,this.poThemeService,j)}get size(){return this._size??Y(this.poThemeService,j)}set startDate(e){this._startDate=this.convertPatternDateFormat(e),this.dateRange.start=this.startDate,this.updateScreenByModel(this.dateRange),this.updateModel(this.dateRange)}get startDate(){return this._startDate}set locale(e){e?(this._locale=e.length>=2?e:re,this.poMaskObject=this.buildMask(Pe(this.format,this.languageService.getDateSeparator(this.locale)))):(this._locale=this.language,this.poMaskObject=this.buildMask(Pe(this.format,this.languageService.getDateSeparator(this.locale))))}get locale(){return this._locale||this.language}constructor(e,t,i,o){this.changeDetector=e,this.poDateService=t,this.poThemeService=i,this.languageService=o,this.language=o.getShortLanguage()}ngOnDestroy(){this.subscription?.unsubscribe()}setDisabledState(e){this.disabled=e}registerOnChange(e){this.onChangeModel=e}registerOnTouched(e){this.onTouchedModel=e}registerOnValidatorChange(e){this.validatorChange=e}validate(e){let t=e.value||{},i=t.start?this.convertPatternDateFormat(t.start):"",o=t.end?this.convertPatternDateFormat(t.end):"";return!this.hasValidatorRequired&&this.fieldErrorMessage&&e.hasValidator(Oe.required)&&(this.hasValidatorRequired=!0),this.requiredDateRangeFailed(i,o)?(this.errorMessage="",{required:{valid:!1}}):this.verifyValidDate(i,o)?this.dateRangeObjectFailed(e.value)||this.dateRangeFormatFailed(i,o)?(this.errorMessage=this.literals.invalidFormat,{date:{valid:!1}}):this.dateRangeFailed(i,o)?(this.errorMessage=this.literals.startDateGreaterThanEndDate,{date:{valid:!1}}):i&&!this.validateDateInRange(i)||o&&!this.validateDateInRange(o)?(this.errorMessage=this.literals.dateOutOfPeriod,{date:{valid:!1}}):(this.fieldErrorMessage&&(this.subscription?.unsubscribe(),this.subscription=e.statusChanges.pipe(Ve(r=>(r==="INVALID"&&this.changeDetector.markForCheck(),[]))).subscribe()),null):(this.errorMessage=this.literals.invalidDate,{date:{valid:!1}})}validateDateInRange(e){return ai(at(e,!1,!1),this._minDate,this._maxDate)}writeValue(e){this.resetDateRangeInputValidation(),(!e||this.dateRangeObjectFailed(e))&&(this.dateRange={start:"",end:""}),e||this.validateModel(this.dateRange),this.dateRangeObjectFailed(e)&&this.updateModel(e),this.isDateRangeObject(e)&&(this.dateRange={start:this.convertPatternDateFormat(e.start),end:this.convertPatternDateFormat(e.end)},this.updateModel(this.dateRange)),this.updateScreenByModel(this.dateRange)}buildMask(e=this.format){let t=e.toUpperCase();return t=t.replace(/DD/g,"99"),t=t.replace(/MM/g,"99"),t=t.replace(/YYYY/g,"9999"),new Xe(t,!0)}dateFormatFailed(e){return e&&!this.poDateService.isValidIso(e)}updateModel(e){let t=typeof e=="object"?w({},e):e;this.onChangeModel&&this.onChangeModel(t)}validateModel(e){let t=w({},e);this.validatorChange&&this.validatorChange(t)}verifyValidDate(e,t){return e!==""&&t!==""?this.dateIsValid(e)&&this.dateIsValid(t):e!==""?this.dateIsValid(e):this.dateIsValid(t)}convertPatternDateFormat(e){return e instanceof Date?this.poDateService.convertDateToISO(e):e}dateRangeFailed(e,t){return!this.poDateService.isDateRangeValid(t,e)||!this.isStartDateRangeInputValid}dateRangeFormatFailed(e,t){return this.dateFormatFailed(t)||this.dateFormatFailed(e)||!this.isDateRangeInputFormatValid}dateRangeObjectFailed(e){return e&&!this.isDateRangeObject(e)}isDateRangeObject(e){return e&&e.hasOwnProperty("start")&&e.hasOwnProperty("end")}requiredDateRangeFailed(e,t){return this.isDateRangeInputValid&&he(this.required||this.hasValidatorRequired,this.disabled,e)&&he(this.required||this.hasValidatorRequired,this.disabled,t)}dateIsValid(e){let[t,i,o]=e.split("-"),r=Number(t),c=Number(i),C=Number(o);return c===1||c===3||c===5||c===7||c===8||c===10||c===12?!(C<1||C>31):c===4||c===6||c===9||c===11?!(C<1||C>30):r%4===0&&r%100!==0||r%400===0?!(C<1||C>29):!(C<1||C>28)}static \u0275fac=function(t){return new(t||n)(f(T),f($e),f(I),f(H))};static \u0275dir=O({type:n,inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",name:"name",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],appendBox:[2,"p-append-in-body","appendBox",_],autoFocus:[2,"p-auto-focus","autoFocus",_],help:[0,"p-help","help"],label:[0,"p-label","label"],optional:[0,"p-optional","optional"],fieldErrorMessage:[0,"p-field-error-message","fieldErrorMessage"],errorLimit:[0,"p-error-limit","errorLimit"],clean:[0,"p-clean","clean"],disabled:[0,"p-disabled","disabled"],endDate:[0,"p-end-date","endDate"],literals:[0,"p-literals","literals"],minDate:[0,"p-min-date","minDate"],maxDate:[0,"p-max-date","maxDate"],noAutocomplete:[0,"p-no-autocomplete","noAutocomplete"],readonly:[0,"p-readonly","readonly"],required:[0,"p-required","required"],showRequired:[0,"p-show-required","showRequired"],size:[0,"p-size","size"],startDate:[0,"p-start-date","startDate"],locale:[0,"p-locale","locale"]},outputs:{additionalHelp:"p-additional-help",onChange:"p-change",keydown:"p-keydown"},features:[G]})}return n})();var Ma=["dateRangeField"],Aa=["endDateInput"],La=["startDateInput"],Oa=["iconCalendar"],Ra=["calendarPicker"];function Ha(n,s){if(n&1){let e=y();m(0,"po-clean",18),g("p-change-event",function(){p(e);let i=a();return d(i.clear())}),h()}if(n&2){let e=a();l("p-size",e.size)}}function qa(n,s){if(n&1){let e=y();m(0,"po-field-container-bottom",19),g("p-additional-help",function(){p(e);let i=a();return d(i.emitAdditionalHelp())}),h()}if(n&2){let e=a();l("p-additional-help-tooltip",e.getAdditionalHelpTooltip())("p-append-in-body",e.appendBox)("p-help",e.help)("p-disabled",e.disabled)("p-error-pattern",e.getErrorMessage)("p-error-limit",e.errorLimit)("p-show-additional-help",e.displayAdditionalHelp)("p-show-additional-help-icon",e.showAdditionalHelpIcon())}}function za(n,s){if(n&1){let e=y();ye(0),m(1,"div",20,4)(3,"po-calendar",21),g("ngModelChange",function(i){p(e);let o=a();return d(o.onCalendarChange(i))}),h()(),be()}if(n&2){let e=a();u(3),l("ngModel",e.dateRange)("p-max-date",e.maxDate)("p-min-date",e.minDate)("p-locale",e.locale)}}var Ba=37,Na=39,ja=8,wi=10,Wa=8,hn="bottom-left",Ua=[{provide:Q,useExisting:z(()=>Di),multi:!0},{provide:$,useExisting:z(()=>Di),multi:!0},Se],Di=(()=>{class n extends un{changeDetector;controlPosition;renderer;cd;poLanguageService;poThemeService;dateRangeField;endDateInput;startDateInput;iconCalendar;calendarPicker;isCalendarVisible=!1;clickListener;eventResizeListener;poDatepickerRangeElement;get autocomplete(){return this.noAutocomplete?"off":"on"}get enableCleaner(){return this.clean&&(this.startDateInputValue||this.endDateInputValue)&&!this.disabled&&!this.readonly}get endDateInputName(){return"end-date"}get endDateInputValue(){return this.endDateInput.nativeElement.value}get getErrorMessage(){return this.fieldErrorMessage&&!this.errorMessage&&this.hasInvalidClass()?this.fieldErrorMessage:this.errorMessage!==""&&this.hasInvalidClass()?this.errorMessage:""}get isDateRangeInputUncompleted(){return this.endDateInputValue.length<wi&&this.startDateInputValue.length<wi}get isDirtyDateRangeInput(){return this.endDateInputValue.length>0||this.startDateInputValue.length>0}get startDateInputName(){return"start-date"}get startDateInputValue(){return this.startDateInput.nativeElement.value}constructor(e,t,i,o,r,c,C,V){super(e,c,V,r),this.changeDetector=e,this.controlPosition=t,this.renderer=i,this.cd=o,this.poLanguageService=r,this.poThemeService=V,this.poDatepickerRangeElement=C}static getKeyCode(e){return e.keyCode||e.which}static getTargetElement(e){return e.target||e.srcElement}static isValidKey(e){let t=e>=48&&e<=57,i=e>=96&&e<=105;return t||i}ngAfterViewInit(){this.autoFocus&&this.focus()}ngOnInit(){this.poMaskObject=this.buildMask(Pe(this.format,this.poLanguageService.getDateSeparator(this.locale)))}ngOnChanges(e){(e.minDate||e.maxDate)&&this.validateModel(this.dateRange),e.locale&&(this.dateRange&&this.updateScreenByModel(this.dateRange),this.poMaskObject=this.buildMask(Pe(this.format,this.poLanguageService.getDateSeparator(this.locale))))}ngOnDestroy(){this.removeListeners()}clear(){this.resetDateRangeInputValidation(),this.dateRange={start:"",end:""},this.updateScreenByModel(this.dateRange),this.updateModel(this.dateRange)}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}eventOnClick(e){this.poMaskObject.click(e)}focus(){this.disabled||this.startDateInput.nativeElement.focus()}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}onBlur(e){this.onTouchedModel?.(),this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp();let t=e.target.name===this.startDateInputName;this.updateModelByScreen(t),this.removeFocusFromDatePickerRangeField()}onCalendarChange({start:e,end:t}){let i=e&&!t;this.updateScreenByModel({start:e||"",end:t||""}),this.updateModelByScreen(i,e||"",t||""),e&&t&&setTimeout(()=>{this.isCalendarVisible=!1,this.cd.markForCheck()},300)}onFocus(e){this.applyFocusOnDatePickerRangeField(),this.poMaskObject.resetPositions(e)}onKeydown(e){let t=document.activeElement===this.startDateInput.nativeElement,i=document.activeElement===this.endDateInput.nativeElement,o=t||i;this.readonly||(this.isSetFocusOnBackspace(e)?(e.preventDefault(),this.setFocusOnBackspace()):this.poMaskObject.keydown(e),o&&this.keydown.emit(e))}onKeyup(e){if(this.readonly)return;let t=e.target.name===this.startDateInputName;this.setFocus(e),this.poMaskObject.keyup(e),this.updateModelWhenComplete(t,this.startDateInputValue,this.endDateInputValue)}resetDateRangeInputValidation(){this.isStartDateRangeInputValid=!0,this.isDateRangeInputFormatValid=!0}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}toggleCalendar(){this.disabled||this.readonly||(this.isCalendarVisible=!this.isCalendarVisible,this.changeDetector.detectChanges(),this.isCalendarVisible?(this.setCalendarPosition(),this.initializeListeners()):this.removeListeners())}updateScreenByModel(e){let t={start:e.start,end:e.end},i=this.poDateService.isDateRangeValid(t.end,t.start),o=C=>!this.dateFormatFailed(C)&&i,r=o(t.end)?this.formatModelToScreen(t.end):"",c=o(t.start)?this.formatModelToScreen(t.start):"";this.endDateInput.nativeElement.value=r,this.startDateInput.nativeElement.value=c,this.changeDetector.detectChanges()}applyFocusOnDatePickerRangeField(){this.dateRangeField.nativeElement.classList.add("po-datepicker-range-field-focused")}formatDate(e,t="",i="",o=""){let r=Pe(e||this.format,this.poLanguageService.getDateSeparator(this.locale));return t=t&&t.includes("T")?t.slice(0,2):t,r=r.replace("dd",("0"+t).slice(-2)),r=r.replace("mm",("0"+i).slice(-2)),r=r.replace("yyyy",String(o)),r}formatScreenToModel(e=""){let[t,i,o]=e.split(this.poLanguageService.getDateSeparator(this.locale));return e?this.formatDate("yyyy-mm-dd",t,i,o):""}formatModelToScreen(e=""){let[t,i,o]=e.split("-");return e?this.formatDate(this.format,o,i,t):""}getDateRangeFormatValidation(e,t,i){return this.setDateRangeInputValidation(e,t),{isValid:this.isDateRangeInputFormatValid&&this.isStartDateRangeInputValid&&this.verifyValidDate(e,t),dateRangeModel:this.getValidatedModel(e,t,i)}}getValidatedModel(e,t,i){let o={start:"",end:""};return o.end=(i||this.isStartDateRangeInputValid)&&!this.dateFormatFailed(t)?t:"",o.start=(!i||this.isStartDateRangeInputValid)&&!this.dateFormatFailed(e)?e:"",o}hasAttrCalendar(e){let t="attr-calendar";return e?.hasAttribute(t)||e?.parentElement?.hasAttribute(t)}hasInvalidClass(){return this.poDatepickerRangeElement.nativeElement.classList.contains("ng-invalid")&&this.poDatepickerRangeElement.nativeElement.classList.contains("ng-dirty")}initializeListeners(){this.clickListener=this.renderer.listen("document","click",e=>{this.wasClickedOnPicker(e)}),this.eventResizeListener=this.renderer.listen("window","resize",()=>{this.isCalendarVisible=!1}),window.addEventListener("scroll",this.onScroll,!0)}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}isEqualBeforeValue(e,t){return this.isDateRangeInputFormatValid&&t===this.dateRange.end&&e===this.dateRange.start}isSetFocusOnBackspace(e){return e.target.name===this.endDateInputName&&this.endDateInput.nativeElement.selectionStart===0&&this.endDateInput.nativeElement.selectionEnd===0&&e.keyCode===ja}onScroll=()=>{this.isCalendarVisible&&this.controlPosition.adjustPosition(hn)};removeFocusFromDatePickerRangeField(){this.dateRangeField.nativeElement.classList.remove("po-datepicker-range-field-focused")}setDateRangeInputValidation(e,t){this.isStartDateRangeInputValid=this.poDateService.isDateRangeValid(t,e),this.isDateRangeInputFormatValid=!this.dateFormatFailed(e)&&!this.dateFormatFailed(t)}setFocus(e){let t=n.getTargetElement(e),i=n.getKeyCode(e),o=t.name;this.setFocusOnArrowLeft(i,o),this.setFocusOnArrowRight(i,o,t),this.setFocusOnStartDateCompleted(i,o)}setFocusAndPosition(e,t,i){this.focusOnElement(t),setTimeout(()=>{t.nativeElement.setSelectionRange(i,i),this.poMaskObject.initialPosition=e,this.poMaskObject.finalPosition=e})}focusOnElement(e){e.nativeElement.focus()}removeListeners(){this.clickListener&&this.clickListener(),this.eventResizeListener&&this.eventResizeListener(),window.removeEventListener("scroll",this.onScroll,!0)}setCalendarPosition(){this.controlPosition.setElements(this.calendarPicker.nativeElement,Wa,this.dateRangeField,["bottom-left","bottom-right","top-left","top-right"],!1,!0),this.controlPosition.adjustPosition(hn)}setFocusOnArrowLeft(e,t){let i=this.endDateInput.nativeElement.selectionStart===0;if(t===this.endDateInputName&&i&&e===Ba){let o=this.startDateInput.nativeElement.value.length;this.setFocusAndPosition(o,this.startDateInput,o)}}setFocusOnArrowRight(e,t,i){let o=this.startDateInput.nativeElement.selectionStart===i.value.length;t===this.startDateInputName&&o&&e===Na&&this.setFocusAndPosition(0,this.endDateInput,0)}setFocusOnBackspace(){let e=this.startDateInput.nativeElement.value.length;this.startDateInput.nativeElement.value=this.startDateInputValue.slice(0,-1),this.setFocusAndPosition(e,this.startDateInput,e)}setFocusOnStartDateCompleted(e,t){let i=this.startDateInput.nativeElement.selectionStart===wi,o=this.startDateInputValue.length===wi&&i,r=n.isValidKey(e);t===this.startDateInputName&&o&&r&&this.setFocusAndPosition(0,this.endDateInput,0)}updateModelWhenComplete(e,t,i){let o=this.formatScreenToModel(i),r=this.formatScreenToModel(t),c=this.getDateRangeFormatValidation(r,o,e);if(this.isEqualBeforeValue(r,o)){this.resetDateRangeInputValidation(),this.validateModel(this.dateRange);return}c.isValid&&(this.dateRange={start:r,end:o},this.updateModel(this.dateRange),this.onChange.emit(w({},this.dateRange)))}updateModelByScreen(e,t,i){let o=i||this.formatScreenToModel(this.endDateInputValue),r=t||this.formatScreenToModel(this.startDateInputValue);if(this.isDateRangeInputUncompleted&&this.isDirtyDateRangeInput){this.updateModel(this.dateRange);return}if(this.isEqualBeforeValue(r,o)){this.resetDateRangeInputValidation(),this.validateModel(this.dateRange);return}let c=this.getDateRangeFormatValidation(r,o,e);c.isValid&&(this.dateRange={start:r,end:o},this.updateModel(this.dateRange),this.onChange.emit(w({},this.dateRange))),!c.isValid&&this.verifyFormattedDates(r,o)&&(this.dateRange=w({},c.dateRangeModel),this.updateModel(c.dateRangeModel))}verifyFormattedDates(e,t){return!!e||!!t}wasClickedOnPicker(e){this.isCalendarVisible&&(!this.calendarPicker.nativeElement.contains(e.target)&&!this.iconCalendar.nativeElement.contains(e.target)&&!this.hasAttrCalendar(e.target)&&(this.isCalendarVisible=!1),this.cd.markForCheck())}static \u0275fac=function(t){return new(t||n)(f(T),f(Se),f(Fe),f(T),f(H),f($e),f(D),f(I))};static \u0275cmp=k({type:n,selectors:[["po-datepicker-range"]],viewQuery:function(t,i){if(t&1&&(x(Ma,7,D),x(Aa,7,D),x(La,7,D),x(Oa,7,D),x(Ra,5,D)),t&2){let o;F(o=S())&&(i.dateRangeField=o.first),F(o=S())&&(i.endDateInput=o.first),F(o=S())&&(i.startDateInput=o.first),F(o=S())&&(i.iconCalendar=o.first),F(o=S())&&(i.calendarPicker=o.first)}},standalone:!1,features:[W(Ua),A,Ce],decls:20,vars:34,consts:[["dateRangeField",""],["startDateInput",""],["endDateInput",""],["iconCalendar",""],["calendarPicker",""],[3,"p-disabled","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],[1,"po-field-container-input"],[1,"po-datepicker-range-field","po-input"],[1,"po-datepicker-range-start-date"],["maxlength","10","type","text",1,"po-datepicker-range-input",3,"blur","focus","keydown","keyup","click","autocomplete","disabled","name","readonly"],[1,"po-datepicker-range-separator"],[1,"po-datepicker-range-end-date"],[1,"po-datepicker-range-icon"],[3,"p-size","p-change-event",4,"ngIf"],[3,"click","p-icon"],[3,"p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon","p-additional-help",4,"ngIf"],[4,"ngIf"],[3,"p-change-event","p-size"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"],[1,"po-calendar-range-picker"],["p-mode","range",3,"ngModelChange","ngModel","p-max-date","p-min-date","p-locale"]],template:function(t,i){if(t&1){let o=y();m(0,"po-field-container",5)(1,"div",6)(2,"div",7)(3,"div",8,0)(5,"div",9)(6,"input",10,1),g("blur",function(c){return p(o),d(i.onBlur(c))})("focus",function(c){return p(o),d(i.onFocus(c))})("keydown",function(c){return p(o),d(i.onKeydown(c))})("keyup",function(c){return p(o),d(i.onKeyup(c))})("click",function(c){return p(o),d(i.eventOnClick(c))}),h()(),m(8,"div",11),R(9,"-"),h(),m(10,"div",12)(11,"input",10,2),g("blur",function(c){return p(o),d(i.onBlur(c))})("focus",function(c){return p(o),d(i.onFocus(c))})("keydown",function(c){return p(o),d(i.onKeydown(c))})("keyup",function(c){return p(o),d(i.onKeyup(c))})("click",function(c){return p(o),d(i.eventOnClick(c))}),h()(),m(13,"div",13),v(14,Ha,1,1,"po-clean",14),h(),m(15,"div",13)(16,"po-icon",15,3),g("click",function(){return p(o),d(i.toggleCalendar())}),h()()()()(),v(18,qa,1,8,"po-field-container-bottom",16),h(),v(19,za,4,4,"ng-container",17)}t&2&&(P("po-date-picker-container-disabled",i.disabled),l("p-disabled",i.disabled)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),u(3),P("po-input-aa",i.size==="small")("po-datepicker-range-field-disabled",i.disabled),B("disabled",i.disabled),u(2),P("po-datepicker-range-start-date-aa",i.size==="small"),u(),l("autocomplete",i.autocomplete)("disabled",i.disabled)("name",i.startDateInputName)("readonly",i.readonly),B("aria-label",i.label),u(5),l("autocomplete",i.autocomplete)("disabled",i.disabled)("name",i.endDateInputName)("readonly",i.readonly),u(3),l("ngIf",i.enableCleaner),u(2),Ge("po-field-icon ",i.disabled?"po-icon-input-disabled":"po-icon-input",""),P("po-field-icon-disabled",i.disabled||i.readonly)("po-field-icon-aa",i.size==="small"),l("p-icon",!i.disabled||!i.readonly?"ICON_CALENDAR po-clickable":"ICON_CALENDAR"),u(2),l("ngIf",!i.readonly),u(),l("ngIf",i.isCalendarVisible))},dependencies:[M,nt,rt,xe,It,oe,J,te],encapsulation:2,changeDetection:0})}return n})();var Ga=["inp"],Mt=(()=>{class n extends bi{poThemeService;inputEl;type="text";el;valueBeforeChange;timeoutChange;subscriptionValidator=new me;get autocomplete(){return this.noAutocomplete?"off":"on"}constructor(e,t,i){super(t,i),this.poThemeService=i,this.el=e}onKeydown(e){this.mask&&!this.readonly&&e.target.keyCode!==229&&(this.objMask.keydown(e),this.passedWriteValue&&this.validateClassesForMask(!0))}onKeyup(e){this.mask&&!this.readonly&&(e.target.keyCode!==229&&this.objMask.keyup(e),this.callOnChange(this.objMask.valueToModel),this.errorAsyncProperties?.triggerMode==="changeModel"&&this.verifyErrorAsync())}ngAfterViewInit(){this.afterViewInit()}afterViewInit(){this.verifyAutoFocus()}ngOnDestroy(){this.subscriptionValidator?.unsubscribe()}focus(){this.disabled||this.inputEl.nativeElement.focus()}onKeyDown(e){document.activeElement===this.inputEl.nativeElement&&this.keydown.emit(e)}verifyAutoFocus(){this.autoFocus&&this.focus()}eventOnInput(e){let t="";this.mask?(this.objMask.blur(e),this.inputEl.nativeElement.value=this.objMask.valueToInput,t=this.objMask.valueToModel):(t=this.validMaxLength(this.maxlength,e.target.value),this.inputEl.nativeElement.value=t),this.inputEl.nativeElement.value=this.upperCase?String(this.inputEl.nativeElement.value).toUpperCase():this.inputEl.nativeElement.value,t=this.upperCase?t.toUpperCase():t,this.callOnChange(t),this.errorAsyncProperties?.triggerMode==="changeModel"&&this.verifyErrorAsync()}validMaxLength(e,t){return(e||e===0)&&t.length>e?t.toString().substring(0,e):t}eventOnFocus(e){this.valueBeforeChange=this.inputEl.nativeElement.value,this.enter.emit()}eventOnBlur(e){this.onTouched?.(),this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp(),this.mask&&this.objMask.blur(e),e.type==="blur"&&(this.blur.emit(),this.controlChangeEmitter())}controlChangeEmitter(){let e=this.inputEl.nativeElement.value;e!==this.valueBeforeChange&&(clearTimeout(this.timeoutChange),this.timeoutChange=setTimeout(()=>{this.change.emit(e);let t=this.errorAsyncProperties;(t?.triggerMode==="change"||!t?.triggerMode)&&this.verifyErrorAsync()},200))}eventOnClick(e){this.mask&&this.objMask.click(e)}hasInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&(this.inputEl.nativeElement.value!==""||this.showErrorMessageRequired&&(this.required||this.hasValidatorRequired))}verifyErrorAsync(){if(this.errorPattern!==""&&this.errorAsyncProperties?.errorAsync){let e=this.errorAsyncProperties.errorAsync(this.inputEl.nativeElement.value);gt(e)&&(this.subscriptionValidator.unsubscribe(),this.subscriptionValidator=e.pipe(Ve(t=>{let i=this.el.nativeElement;return t?(i.classList.add("ng-invalid"),i.classList.add("ng-dirty"),this.cd.detectChanges()):i.classList.contains("ng-invalid")&&i.classList.contains("ng-dirty")&&!this.isInvalid&&(i.classList.remove("ng-invalid"),this.cd.detectChanges()),Ke("")})).subscribe())}}getErrorPattern(){return this.errorPattern!==""&&this.hasInvalidClass()?this.errorPattern:""}validateClassesForPattern(){let e=this.getScreenValue(),t=this.el.nativeElement;e&&!this.verifyPattern(this.pattern,e)?(t.classList.add("ng-invalid"),t.classList.add("ng-dirty")):t.classList.remove("ng-invalid")}validateClassesForMask(e=!1){let t=this.el.nativeElement,i=this.inputEl.nativeElement.value;!e&&!i?t.classList.add("ng-invalid-mask"):t.classList.remove("ng-invalid-mask")}verifyPattern(e,t){return new RegExp(e).test(t)}clear(e){this.callOnChange(e),this.controlChangeEmitter(),this.errorAsyncProperties?.triggerMode==="changeModel"&&this.verifyErrorAsync()}writeValueModel(e){this.passedWriteValue=!0,this.inputEl&&(e?this.mask?(this.inputEl.nativeElement.value=this.objMask.controlFormatting(String(e)),this.objMask.formatModel&&this.callUpdateModelWithTimeout(this.objMask.valueToModel)):this.inputEl.nativeElement.value=e:this.inputEl.nativeElement.value=""),e&&(this.validateInitMask(),this.changeModel.emit(e),this.verifyErrorAsync())}getScreenValue(){let e=this.inputEl&&this.inputEl.nativeElement.value||void 0;if(this.type==="number"){let t=parseFloat(e);return t||t===0?t:null}else return e}validateInitMask(){this.mask&&this.validateClassesForMask()}static \u0275fac=function(t){return new(t||n)(f(D),f(T),f(I))};static \u0275dir=O({type:n,viewQuery:function(t,i){if(t&1&&x(Ga,7,D),t&2){let o;F(o=S())&&(i.inputEl=o.first)}},hostBindings:function(t,i){t&1&&g("keydown",function(r){return i.onKeydown(r)})("keyup",function(r){return i.onKeyup(r)})},features:[A]})}return n})();var Qa=["inp"];function $a(n,s){if(n&1&&(m(0,"div",8),N(1,"po-icon",9),h()),n&2){let e=a();u(),Ge("po-field-icon ",e.disabled?"po-icon-input-disabled":"po-icon-input",""),P("po-field-icon-disabled",e.disabled)("po-field-icon-aa",e.size==="small"),l("p-icon",e.icon)}}function Ya(n,s){if(n&1){let e=y();m(0,"po-clean",10),g("p-change-event",function(i){p(e);let o=a();return d(o.clear(i))}),h()}if(n&2){let e=a();Gi(e.disabled?"po-icon-input-disabled":"po-icon-input"),l("p-element-ref",e.inputEl)("p-size",e.size)}}function Ja(n,s){if(n&1){let e=y();m(0,"po-field-container-bottom",11),g("p-additional-help",function(){p(e);let i=a();return d(i.emitAdditionalHelp())}),h()}if(n&2){let e=a();l("p-additional-help-tooltip",e.getAdditionalHelpTooltip())("p-append-in-body",e.appendBox)("p-help",e.help)("p-disabled",e.disabled)("p-error-pattern",e.getErrorPattern())("p-error-limit",e.errorLimit)("p-show-additional-help",e.displayAdditionalHelp)("p-show-additional-help-icon",e.showAdditionalHelpIcon())}}var mn=(()=>{class n extends Mt{poThemeService;inp;id=`po-input[${ue()}]`;constructor(e,t,i){super(e,t,i),this.poThemeService=i}extraValidation(e){return null}static \u0275fac=function(t){return new(t||n)(f(D),f(T),f(I))};static \u0275cmp=k({type:n,selectors:[["po-input"]],viewQuery:function(t,i){if(t&1&&x(Qa,7),t&2){let o;F(o=S())&&(i.inp=o.first)}},standalone:!1,features:[W([{provide:Q,useExisting:z(()=>n),multi:!0},{provide:$,useExisting:z(()=>n),multi:!0}]),A],decls:8,vars:27,consts:[["inp",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],["class","po-field-icon-container-left",4,"ngIf"],[1,"po-input",3,"blur","click","focus","input","keydown","autocomplete","disabled","id","placeholder","readonly","required","type"],[1,"po-field-icon-container-right"],[3,"class","p-element-ref","p-size","p-change-event",4,"ngIf"],[3,"p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon","p-additional-help",4,"ngIf"],[1,"po-field-icon-container-left"],[3,"p-icon"],[3,"p-change-event","p-element-ref","p-size"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"]],template:function(t,i){if(t&1){let o=y();m(0,"po-field-container",1)(1,"div",2),v(2,$a,2,8,"div",3),m(3,"input",4,0),g("blur",function(c){return p(o),d(i.eventOnBlur(c))})("click",function(c){return p(o),d(i.eventOnClick(c))})("focus",function(c){return p(o),d(i.eventOnFocus(c))})("input",function(c){return p(o),d(i.eventOnInput(c))})("keydown",function(c){return p(o),d(i.onKeyDown(c))}),h(),m(5,"div",5),v(6,Ya,1,5,"po-clean",6),h()(),v(7,Ja,1,8,"po-field-container-bottom",7),h()}t&2&&(l("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),u(2),l("ngIf",i.icon),u(),P("po-input-icon-left",i.icon)("po-input-icon-left-aa",i.icon&&i.size==="small")("po-input-icon-right",i.clean)("po-input-icon-right-aa",i.clean&&i.size==="small")("po-input-aa",i.size==="small"),l("autocomplete",i.autocomplete)("disabled",i.disabled)("id",i.id)("placeholder",i.disabled?"":i.placeholder)("readonly",i.readonly)("required",i.required)("type",i.type),B("name",i.name),u(3),l("ngIf",i.clean&&!i.disabled&&!i.readonly),u(),l("ngIf",!i.readonly))},dependencies:[M,xe,oe,J,te],encapsulation:2,changeDetection:0})}return n})();var Vi={en:{modalPrimaryActionLabel:"Select",modalSecondaryActionLabel:"Cancel",modalPlaceholder:"Search",modalTitle:"Select a record",modalTableNoColumns:De.en.noColumns,modalTableNoData:De.en.noData,modalTableLoadingData:De.en.loadingData,modalTableLoadMoreData:De.en.loadMoreData,modalAdvancedSearch:"Advanced search",modalAdvancedSearchTitle:"Advanced search",modalAdvancedSearchPrimaryActionLabel:"Filter",modalAdvancedSearchSecondaryActionLabel:"Return",modalDisclaimerGroupTitle:"Presenting results filtered by:"},es:{modalPrimaryActionLabel:"Seleccionar",modalSecondaryActionLabel:"Cancelar",modalPlaceholder:"Buscar",modalTitle:"Seleccione un registro",modalTableNoColumns:De.es.noColumns,modalTableNoData:De.es.noData,modalTableLoadingData:De.es.loadingData,modalTableLoadMoreData:De.es.loadMoreData,modalAdvancedSearch:"B\xFAsqueda Avanzada",modalAdvancedSearchTitle:"B\xFAsqueda Avanzada",modalAdvancedSearchPrimaryActionLabel:"Filtrar",modalAdvancedSearchSecondaryActionLabel:"Vuelve",modalDisclaimerGroupTitle:"Presentar resultados filtrados por:"},pt:{modalPrimaryActionLabel:"Selecionar",modalSecondaryActionLabel:"Cancelar",modalPlaceholder:"Pesquisar",modalTitle:"Selecione um registro",modalTableNoColumns:De.pt.noColumns,modalTableNoData:De.pt.noData,modalTableLoadingData:De.pt.loadingData,modalTableLoadMoreData:De.pt.loadMoreData,modalAdvancedSearch:"Busca avan\xE7ada",modalAdvancedSearchTitle:"Busca Avan\xE7ada",modalAdvancedSearchPrimaryActionLabel:"Filtrar",modalAdvancedSearchSecondaryActionLabel:"Voltar",modalDisclaimerGroupTitle:"Apresentando resultados filtrados por:"},ru:{modalPrimaryActionLabel:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C",modalSecondaryActionLabel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",modalPlaceholder:"\u041F\u043E\u0438\u0441\u043A",modalTitle:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u0430\u043F\u0438\u0441\u044C",modalTableNoColumns:De.ru.noColumns,modalTableNoData:De.ru.noData,modalTableLoadingData:De.ru.loadingData,modalTableLoadMoreData:De.ru.loadMoreData,modalAdvancedSearch:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u043D\u044B\u0439 \u043F\u043E\u0438\u0441\u043A",modalAdvancedSearchTitle:"\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043D\u043D\u044B\u0439 \u043F\u043E\u0438\u0441\u043A",modalAdvancedSearchPrimaryActionLabel:"\u0424\u0438\u043B\u044C\u0442\u0440",modalAdvancedSearchSecondaryActionLabel:"\u041D\u0430\u0437\u0430\u0434",modalDisclaimerGroupTitle:"\u041F\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u043D\u044B\u0435 \u0440\u0435\u0437\u0443\u043B\u044C\u0442\u0430\u0442\u044B \u043E\u0442\u0444\u0438\u043B\u044C\u0442\u0440\u043E\u0432\u0430\u043D\u044B \u043F\u043E:"}},fn=(()=>{class n{changeDetector;poModal;poTable;advancedFilters;columns;items;filterService;filterParams;hideColumnsManager=!1;infiniteScroll=!1;multiple=!1;model=new b;selectedItems;fieldLabel;fieldValue;spacing;size;textWrap=!1;virtualScroll=!0;changeVisibleColumns=new b;columnRestoreManager=new b;hasNext=!0;isLoading=!1;page=1;pageSize=10;searchValue="";appliedSearchValue="";tableLiterals;advancedFilterModalTitle="";dynamicFormValue={};disclaimer;disclaimerGroup;isAdvancedFilter=!1;primaryActionAdvancedFilter;secondaryActionAdvancedFilter;selecteds=[];sort;filterSubscription;searchSubscription;showMoreSubscription;disclaimerLabel;_literals;_title;language=re;primaryAction={action:()=>{let e=[];this.multiple?e=this.selecteds:this.items.forEach(t=>{t.$selected&&e.push(t)}),this.model.emit(e),this.poModal.close()},label:this.literals.modalPrimaryActionLabel};secondaryAction={action:()=>{this.model.emit(null),this.poModal.close()},label:this.literals.modalSecondaryActionLabel};set literals(e){e instanceof Object&&!(e instanceof Array)?(this._literals=w(w(w({},Vi[re]),Vi[this.language]),e),e.modalTitle&&(this.title=this.literals.modalTitle)):this._literals=Vi[this.language],this.primaryAction.label=this.literals.modalPrimaryActionLabel,this.secondaryAction.label=this.literals.modalSecondaryActionLabel,this.setTableLiterals()}get literals(){return this._literals||Vi[this.language]}set title(e){this._title=ae(e,"string")?e:this.literals.modalTitle}get title(){return this._title}constructor(e,t){this.changeDetector=t,this.language=e.getShortLanguage()}ngOnDestroy(){this.filterSubscription&&this.filterSubscription.unsubscribe(),this.searchSubscription&&this.searchSubscription.unsubscribe(),this.showMoreSubscription&&this.showMoreSubscription.unsubscribe()}ngOnInit(){this.setAdvancedFilterModalProperties(),this.initializeData(),this.setTableLiterals()}createDisclaimer(){this.disclaimerGroup.disclaimers=[],this.searchValue="",this.appliedSearchValue="";for(let[e,t]of Object.entries(this.dynamicFormValue))this.addDisclaimer(t,e);Object.values(this.dynamicFormValue).some(e=>e!==null&&typeof e<"u")||this.initializeData()}addDisclaimer(e,t){this.disclaimerLabel="";let i=this.advancedFilters.find(r=>r.property===t);this.disclaimer={property:t},this.disclaimer.value=e;let o=i.label||Vo(i.property);i.type==="currency"&&e&&this.formatValueToCurrency(i,e),i.type==="boolean"&&(e===!0||e===!1)&&this.formatValueToBoolean(i,e),i.options&&e&&this.applyDisclaimerLabelValue(i,e),this.disclaimerLabel||(this.disclaimerLabel=this.disclaimer.value),this.disclaimer.label=`${o}: ${this.disclaimerLabel}`,this.disclaimerGroup.disclaimers=[...this.disclaimerGroup.disclaimers,this.disclaimer]}onChangeDisclaimerGroup(){this.appliedSearchValue||(this.isLoading=!0,this.searchValue="",this.appliedSearchValue="",this.searchFilteredItems())}search(){this.page=1,this.appliedSearchValue=this.searchValue,this.appliedSearchValue?(this.isLoading=!0,this.disclaimerGroup.disclaimers=[],this.searchFilteredItems()):this.initializeData()}searchFilteredItems(){this.searchSubscription=this.getFilteredItems(this.appliedSearchValue).pipe(qt(e=>(this.setLookupResponseProperties(),Mi(e)))).subscribe(e=>this.setLookupResponseProperties(e),()=>{})}showMoreEvent(){this.page++,this.isLoading=!0,this.searchValue!==this.appliedSearchValue&&(this.searchValue=this.appliedSearchValue),this.showMoreSubscription=this.getFilteredItems(this.appliedSearchValue).pipe(qt(e=>(this.hasNext=!1,this.isLoading=!1,Mi(e)))).subscribe(e=>{this.items=[...this.items,...e.items],this.hasNext=e.hasNext,this.isLoading=!1,this.changeDetector.detectChanges(),this.setSelectedItems()},()=>{})}setSelectedItems(){this.selecteds.forEach(e=>{this.multiple?this.poTable.selectRowItem(t=>t[this.fieldValue]===e.value):this.poTable.selectRowItem(t=>t[this.fieldValue]===e[this.fieldValue])})}setDisclaimersItems(){this.selectedItems&&Array.isArray(this.selectedItems)&&this.selectedItems.length>0?this.selecteds=[...this.selectedItems]:this.selectedItems&&!Array.isArray(this.selectedItems)?this.selecteds=[this.selectedItems]:this.selecteds=[]}applyDisclaimerLabelValue(e,t){let o=(Array.isArray(t)?t:[t]).map(r=>e.options.find(C=>C.value===r).label);o.join()&&(this.disclaimerLabel=o.join(", "))}formatValueToCurrency(e,t){let i=new Intl.NumberFormat(e.locale?e.locale:this.language,{minimumFractionDigits:2}).format(t);this.disclaimerLabel=i}formatValueToBoolean(e,t){let i;t?i=e.booleanTrue?e.booleanTrue:t:i=e.booleanFalse?e.booleanFalse:t,this.disclaimerLabel=`${i}`}setAdvancedFilterModalProperties(){this.advancedFilterModalTitle=this.literals.modalAdvancedSearchTitle,this.disclaimerGroup={title:this.literals.modalDisclaimerGroupTitle,disclaimers:[]},this.primaryActionAdvancedFilter={action:()=>{this.destroyDynamicForm(),this.isAdvancedFilter=!1,this.page=1,this.createDisclaimer()},label:this.literals.modalAdvancedSearchPrimaryActionLabel},this.secondaryActionAdvancedFilter={action:()=>{this.destroyDynamicForm(),this.isAdvancedFilter=!1},label:this.literals.modalAdvancedSearchSecondaryActionLabel}}getAdvancedFilters(e){if(e&&e.length>0){let t={},i;return e.forEach(o=>{t[o.property]=o.value instanceof Array?o.value.join():o.value,i=w(w({},i),t)}),i}}getFilteredItems(e){let t=this.getFilteredParams(e);return this.filterService.getFilteredItems(t)}getFilteredParams(e){let{page:t,pageSize:i,filterParams:o,sort:r}=this,c={},C=this.getOrderParam(r),V=this.getAdvancedFilters(this.disclaimerGroup.disclaimers),q={filter:e,page:t,pageSize:i,order:C,filterParams:o,advancedFilters:V};for(let ve in q)q.hasOwnProperty(ve)&&q[ve]!==void 0&&(c[ve]=q[ve]);return c}getOrderParam(e={type:void 0}){let{column:t,type:i}=e;if(t)return i===Eo.Descending?`-${t.property}`:`${t.property}`}initializeData(){this.isLoading=!0,this.filterSubscription=this.getFilteredItems("").subscribe(e=>{this.setLookupResponseProperties(e)})}setLookupResponseProperties(e){this.items=e?.items??[],this.hasNext=e?.hasNext??!1,this.isLoading=!1,this.changeDetector.detectChanges(),this.setDisclaimersItems(),this.setSelectedItems()}setTableLiterals(){this.tableLiterals={noColumns:this.literals.modalTableNoColumns,noData:this.literals.modalTableNoData,loadingData:this.literals.modalTableLoadingData,loadMoreData:this.literals.modalTableLoadMoreData}}static \u0275fac=function(t){return new(t||n)(f(H),f(T))};static \u0275dir=O({type:n,viewQuery:function(t,i){if(t&1&&(x(si,7),x(mi,7)),t&2){let o;F(o=S())&&(i.poModal=o.first),F(o=S())&&(i.poTable=o.first)}},inputs:{advancedFilters:[0,"p-advanced-filters","advancedFilters"],columns:[0,"p-columns","columns"],items:[0,"p-items","items"],filterService:[0,"p-filter-service","filterService"],filterParams:[0,"p-filter-params","filterParams"],hideColumnsManager:[2,"p-hide-columns-manager","hideColumnsManager",_],infiniteScroll:[2,"p-infinite-scroll","infiniteScroll",_],multiple:[2,"p-multiple","multiple",_],selectedItems:[0,"p-selected-items","selectedItems"],fieldLabel:[0,"p-field-label","fieldLabel"],fieldValue:[0,"p-field-value","fieldValue"],spacing:[0,"p-spacing","spacing"],size:[0,"p-size","size"],textWrap:[2,"p-text-wrap","textWrap",_],virtualScroll:[2,"p-virtual-scroll","virtualScroll",_],literals:[0,"p-literals","literals"],title:[0,"p-title","title"]},outputs:{model:"p-change-model",changeVisibleColumns:"p-change-visible-columns",columnRestoreManager:"p-restore-column-manager"},features:[G]})}return n})();var gn={en:{removeAll:"Remove all"},es:{removeAll:"Eliminar todos"},pt:{removeAll:"Remover todos"},ru:{removeAll:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u0441\u0435"}},_n=(()=>{class n{changeDetector;title;change=new b;remove=new b;removeAll=new b;literals;_disclaimers=[];_hideRemoveAll=!1;differ;previousDisclaimers=[];set disclaimers(e){this.previousDisclaimers=[...this.disclaimers],this._disclaimers=this.checkDisclaimers(e)}get disclaimers(){return this._disclaimers}set hideRemoveAll(e){this._hideRemoveAll=e===""?!0:_(e)}get hideRemoveAll(){return this._hideRemoveAll}constructor(e,t,i){this.changeDetector=i;let o=t.getShortLanguage();this.differ=e.find([]).create(null),this.literals=w(w({},gn[re]),gn[o])}ngDoCheck(){this.checkChanges()}isRemoveAll(){return!this.hideRemoveAll&&this.disclaimers.filter(e=>!e.hideClose).length>1}onKeyPress(e){St(e)&&this.removeAllItems()}removeAllItems(){let e=[];this.disclaimers.forEach(t=>{t.hideClose||e.push(t)}),e.forEach(t=>this.removeDisclaimer(t)),this.emitChangeDisclaimers(),this.removeAll.emit([...e])}removeDisclaimer(e){let t=this.disclaimers.findIndex(i=>i.$id===e.$id);this.disclaimers.splice(t,1)}emitChangeDisclaimers(){setTimeout(()=>{this.change.emit(this.disclaimers)}),this.previousDisclaimers=[...this._disclaimers],this.changeDetector?.detectChanges()}checkChanges(){this.differ?this.differ.diff(this.disclaimers)&&this.disclaimersAreChanged(this.disclaimers)&&this.emitChangeDisclaimers():this.changeDetector?.detectChanges()}checkDisclaimers(e){if(Array.isArray(e)){for(let t=0;t<e.length;t++){let i=e[t];i.value||i.value===0||i.value===!1?i.$id=ue():(e.splice(t,1),t--)}return e}return[]}disclaimersAreChanged(e){let t=e;return t.length!==this.previousDisclaimers.length?!0:t.some((i,o)=>i.value!==this.previousDisclaimers[o].value||i.property!==this.previousDisclaimers[o].property)}static \u0275fac=function(t){return new(t||n)(f(ot),f(H),f(T))};static \u0275dir=O({type:n,inputs:{title:[0,"p-title","title"],disclaimers:[0,"p-disclaimers","disclaimers"],hideRemoveAll:[0,"p-hide-remove-all","hideRemoveAll"]},outputs:{change:"p-change",remove:"p-remove",removeAll:"p-remove-all"}})}return n})();var yn=(()=>{class n{label;removeAllAction=new b;removeAction(){this.removeAllAction.emit()}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-disclaimer-remove"]],inputs:{label:[0,"p-label","label"]},outputs:{removeAllAction:"p-remove-all-action"},standalone:!1,decls:1,vars:1,consts:[["p-type","danger",1,"po-clickable",3,"p-click","p-value"]],template:function(t,i){t&1&&(m(0,"po-tag",0),g("p-click",function(){return i.removeAction()}),h()),t&2&&l("p-value",i.label)},dependencies:[Tt],encapsulation:2})}return n})();function es(n,s){if(n&1){let e=y();m(0,"po-disclaimer-remove",5),g("keydown",function(i){p(e);let o=a(2);return d(o.onKeyPress(i))})("p-remove-all-action",function(){p(e);let i=a(2);return d(i.removeAllItems())}),h()}if(n&2){let e=a(2);l("p-label",e.literals.removeAll)}}function ts(n,s){if(n&1){let e=y();m(0,"po-tag",6),g("p-close",function(i){let o=p(e).$implicit,r=a(2);return d(r.onCloseAction(o,i))}),h()}if(n&2){let e=s.$implicit;l("p-value",e.label||e.value)("p-removable",!e.hideClose)}}function is(n,s){if(n&1&&(m(0,"div",1)(1,"div",2),R(2),h(),v(3,es,1,1,"po-disclaimer-remove",3)(4,ts,1,2,"po-tag",4),h()),n&2){let e=a();u(2),Me(e.title),u(),l("ngIf",e.isRemoveAll()),u(),l("ngForOf",e.disclaimers)}}var bn=(()=>{class n extends _n{changeDetector;subscription=new me;el=zt(D);constructor(e,t,i){super(e,t,i),this.changeDetector=i}ngAfterViewInit(){this.handleKeyboardNavigationTag()}ngOnChanges(e){e.disclaimers&&setTimeout(()=>{this.handleKeyboardNavigationTag()})}onCloseAction(e,t){let i=this.disclaimers.findIndex(o=>o.value===e.value);this.removeDisclaimer(e),this.emitChangeDisclaimers(),this.remove.emit({removedDisclaimer:w({},e),currentDisclaimers:[...this.disclaimers]}),setTimeout(()=>{this.focusOnNextTag(i,t)},300)}focusOnNextTag(e,t){if(t==="enter"){let i=this.el.nativeElement.querySelectorAll(".po-tag-remove");e=e||e===0?e:i.length,this.focusOnRemoveTag(i,e)}else e=0;this.handleKeyboardNavigationTag(e)}handleKeyboardNavigationTag(e=0){this.subscription.unsubscribe(),this.subscription=new me;let t=this.el.nativeElement.querySelectorAll(".po-tag-remove");this.initializeTagRemoveElements(t,e)}handleArrowLeft(e,t){t>0&&(this.setTabIndex(e[t],-1),e[t-1].focus(),this.setTabIndex(e[t-1],0))}handleArrowRight(e,t){t<e.length-1&&(this.setTabIndex(e[t],-1),e[t+1].focus(),this.setTabIndex(e[t+1],0))}setTabIndex(e,t){e.setAttribute("tabindex",t)}initializeTagRemoveElements(e,t){e.forEach((i,o)=>{o===t?this.setTabIndex(e[t],0):e.length===t?this.setTabIndex(e[t-1],0):this.setTabIndex(i,-1),this.subscription.add(Ze(i,"keydown").subscribe(r=>{this.handleKeyDown(r,e,o)})),o!==0&&this.subscription.add(Ze(e,"blur").subscribe(()=>{this.setTabIndex(e[o],-1),this.setTabIndex(e[0],0)}))})}handleKeyDown(e,t,i){let o="Space",r="ArrowLeft",c="ArrowRight";e.code===o&&(e.preventDefault(),e.stopPropagation()),e.key===r?this.handleArrowLeft(t,i):e.key===c&&this.handleArrowRight(t,i)}focusOnRemoveTag(e,t){e.length===t?e[t-1]?.focus():e[t]?.focus()}static \u0275fac=function(t){return new(t||n)(f(ot),f(H),f(T))};static \u0275cmp=k({type:n,selectors:[["po-disclaimer-group"]],standalone:!1,features:[A,Ce],decls:1,vars:1,consts:[["class","po-disclaimer-group",4,"ngIf"],[1,"po-disclaimer-group"],[1,"po-disclaimer-group-title"],["class","po-disclaimer-group-disclaimer-align",3,"p-label","keydown","p-remove-all-action",4,"ngIf"],["class","po-disclaimer-group-disclaimer-align",3,"p-value","p-removable","p-close",4,"ngFor","ngForOf"],[1,"po-disclaimer-group-disclaimer-align",3,"keydown","p-remove-all-action","p-label"],[1,"po-disclaimer-group-disclaimer-align",3,"p-close","p-value","p-removable"]],template:function(t,i){t&1&&v(0,is,5,3,"div",0),t&2&&l("ngIf",i.disclaimers.length>0)},dependencies:[we,M,Tt,yn],encapsulation:2,changeDetection:0})}return n})();var ns=["inpsearch"],rs=["container"];function as(n,s){if(n&1){let e=y();m(0,"div",16)(1,"span",17),g("click",function(){p(e);let i=a();return d(i.onAdvancedFilter())})("keydown.enter",function(){p(e);let i=a();return d(i.onAdvancedFilter())}),R(2),h()()}if(n&2){let e=a();u(2),U(" ",e.literals.modalAdvancedSearch," ")}}function ss(n,s){if(n&1){let e=y();m(0,"po-disclaimer-group",18),g("p-change",function(){p(e);let i=a();return d(i.onChangeDisclaimerGroup())}),h()}if(n&2){let e=a();l("p-disclaimers",e.disclaimerGroup==null?null:e.disclaimerGroup.disclaimers)("p-title",e.disclaimerGroup==null?null:e.disclaimerGroup.title)}}function ls(n,s){if(n&1){let e=y();m(0,"po-disclaimer-group",19),g("p-remove",function(i){p(e);let o=a();return d(o.onUnselectFromDisclaimer(i.removedDisclaimer))})("p-remove-all",function(i){p(e);let o=a();return d(o.onAllUnselectedTag(i))}),h()}if(n&2){let e=a();l("p-disclaimers",e.selecteds)}}var Cn=(()=>{class n extends fn{inputSearchEl;container;keyUpObservable=null;tableHeight;componentRef;dynamicForm;constructor(e,t){super(e,t)}ngOnInit(){super.ngOnInit(),this.setTableHeight()}onSelect(e){let t=w({value:e[this.fieldValue],label:e[this.fieldLabel]},e);this.multiple?this.selectedItems=this.selectedItems?[...this.selectedItems,t]:[t]:this.selectedItems=[t],this.selecteds=[...this.selectedItems]}onUnselect(e){this.multiple?this.selectedItems=this.selectedItems.filter(t=>t.value!==e[this.fieldValue]):this.selectedItems=[],this.selecteds=[...this.selectedItems]}onUnselectFromDisclaimer(e){this.selectedItems=this.selectedItems.filter(t=>t.value!==e.value),this.selectedItems.length===0?this.selecteds=[]:this.selecteds=[...this.selectedItems],this.poTable.unselectRowItem(t=>t[this.fieldValue]===e.value)}onAllSelected(e){let t=e.filter(i=>!this.selectedItems?.some(o=>o[this.fieldValue]===i[this.fieldValue])).map(i=>w({value:i[this.fieldValue],label:i[this.fieldLabel]},i));this.selectedItems=[...this.selectedItems,...t],this.selecteds=[...this.selectedItems]}onAllUnselected(e){let t=this.selectedItems?.filter(i=>!e.some(o=>o[this.fieldValue]===i[this.fieldValue]));t?.length?(this.selectedItems=[...t],this.selecteds=[...this.selectedItems]):(this.selectedItems=[],this.selecteds=[])}onAllUnselectedTag(e){this.poTable.unselectRows(),this.selectedItems=[],this.selecteds=[]}openModal(){this.poModal.open()}sortBy(e){let t=e.type==="ascending";Fo(this.items,e.column.property,t),this.sort=e}destroyDynamicForm(){this.componentRef&&this.componentRef.destroy()}onAdvancedFilter(){this.setupModalAdvancedFilter(),this.createDynamicForm()}setTableHeight(){this.tableHeight=this.infiniteScroll?515:615}setupModalAdvancedFilter(){this.dynamicFormValue={},this.isAdvancedFilter=!0}createDynamicForm(){import("./chunk-USOQ6LXL.js").then(({PoDynamicFormComponent:e})=>{this.componentRef=this.container.createComponent(e),this.componentRef.instance.fields=this.advancedFilters,this.componentRef.instance.value=this.dynamicFormValue,this.componentRef.instance.formOutput.pipe(je(t=>{this.dynamicForm=t,this.primaryActionAdvancedFilter.disabled=this.dynamicForm.invalid}),Ve(t=>t.valueChanges)).subscribe(()=>{this.primaryActionAdvancedFilter.disabled=this.dynamicForm.invalid}),this.changeDetector.markForCheck()})}static \u0275fac=function(t){return new(t||n)(f(H),f(T))};static \u0275cmp=k({type:n,selectors:[["po-lookup-modal"]],viewQuery:function(t,i){if(t&1&&(x(ns,5),x(rs,5,Ui)),t&2){let o;F(o=S())&&(i.inputSearchEl=o.first),F(o=S())&&(i.container=o.first)}},standalone:!1,features:[A],decls:18,vars:34,consts:[["iconLookup",""],["inpsearch",""],["poTable",""],["container",""],["p-click-out","false","p-hide-close","false","p-size","lg",3,"p-components-size","p-primary-action","p-secondary-action","p-title"],[3,"hidden"],[1,"po-lookup-header","po-pull-right",3,"p-optional"],[1,"po-lookup-filter-content"],[1,"po-field-icon-container-right"],["p-icon","ICON_SEARCH",1,"po-field-icon","po-icon-input",3,"click"],["name","contentSearch","type","text",1,"po-input","po-input-icon-right",3,"ngModelChange","keydown.enter","ngModel","placeholder"],["class","po-lookup-advanced-search",4,"ngIf"],["class","po-md-12",3,"p-disclaimers","p-title","p-change",4,"ngIf"],[1,"po-row","po-lookup-container-table"],[1,"po-md-12",3,"p-selected","p-unselected","p-all-selected","p-all-unselected","p-show-more","p-sort-by","p-change-visible-columns","p-restore-column-manager","p-components-size","p-selectable","p-hide-detail","p-single-select","p-hide-action-fixed-columns","p-sort","p-columns","p-height","p-hide-columns-manager","p-items","p-literals","p-loading","p-show-more-disabled","p-infinite-scroll","p-spacing","p-text-wrap","p-virtual-scroll"],["class","po-md-12",3,"p-disclaimers","p-remove","p-remove-all",4,"ngIf"],[1,"po-lookup-advanced-search"],["tabindex","0",1,"po-lookup-advanced-search-link",3,"click","keydown.enter"],[1,"po-md-12",3,"p-change","p-disclaimers","p-title"],[1,"po-md-12",3,"p-remove","p-remove-all","p-disclaimers"]],template:function(t,i){if(t&1){let o=y();m(0,"po-modal",4)(1,"div",5)(2,"po-field-container",6)(3,"div",7)(4,"div",8)(5,"po-icon",9,0),g("click",function(){return p(o),d(i.search())}),h()(),m(7,"input",10,1),de("ngModelChange",function(c){return p(o),pe(i.searchValue,c)||(i.searchValue=c),d(c)}),g("keydown.enter",function(){return p(o),d(i.search())}),h()(),v(9,as,3,1,"div",11),h(),v(10,ss,1,2,"po-disclaimer-group",12),m(11,"div",13)(12,"po-table",14,2),g("p-selected",function(c){return p(o),d(i.onSelect(c))})("p-unselected",function(c){return p(o),d(i.onUnselect(c))})("p-all-selected",function(c){return p(o),d(i.onAllSelected(c))})("p-all-unselected",function(c){return p(o),d(i.onAllUnselected(c))})("p-show-more",function(){return p(o),d(i.showMoreEvent())})("p-sort-by",function(c){return p(o),d(i.sortBy(c))})("p-change-visible-columns",function(c){return p(o),d(i.changeVisibleColumns.emit(c))})("p-restore-column-manager",function(c){return p(o),d(i.columnRestoreManager.emit(c))}),h()(),v(14,ls,1,1,"po-disclaimer-group",15),h(),m(15,"div",5),ee(16,null,3),h()()}t&2&&(l("p-components-size",i.size)("p-primary-action",i.isAdvancedFilter?i.primaryActionAdvancedFilter:i.primaryAction)("p-secondary-action",i.isAdvancedFilter?i.secondaryActionAdvancedFilter:i.secondaryAction)("p-title",i.isAdvancedFilter?i.advancedFilterModalTitle:i.title),u(),l("hidden",i.isAdvancedFilter),u(),l("p-optional",!1),u(3),P("po-field-icon-aa",i.size==="small"),u(2),P("po-input-aa",i.size==="small"),le("ngModel",i.searchValue),l("placeholder",i.literals.modalPlaceholder),u(2),l("ngIf",i.advancedFilters&&i.advancedFilters.length>0),u(),l("ngIf",!!i.disclaimerGroup),u(),B("data-multiple",i.multiple),u(),l("p-components-size",i.size)("p-selectable",!0)("p-hide-detail",!0)("p-single-select",!i.multiple)("p-hide-action-fixed-columns",!0)("p-sort",!0)("p-columns",i.columns)("p-height",i.tableHeight)("p-hide-columns-manager",i.hideColumnsManager)("p-items",i.items)("p-literals",i.tableLiterals)("p-loading",i.isLoading)("p-show-more-disabled",!i.hasNext)("p-infinite-scroll",i.infiniteScroll)("p-spacing",i.spacing)("p-text-wrap",i.textWrap)("p-virtual-scroll",i.virtualScroll),u(2),l("ngIf",i.multiple),u(),l("hidden",!i.isAdvancedFilter))},dependencies:[M,oo,nt,rt,bn,J,si,mi,te],encapsulation:2,changeDetection:0})}return n})();var wn=(()=>{class n{templateRef;constructor(e){this.templateRef=e}static \u0275fac=function(t){return new(t||n)(f(Xt))};static \u0275dir=O({type:n,selectors:[["","p-multiselect-option-template",""]],standalone:!1})}return n})();var Ue=function(n){return n[n.startsWith=0]="startsWith",n[n.contains=1]="contains",n[n.endsWith=2]="endsWith",n}(Ue||{});var ps=400,Dn="label",Vn="value",ds="bottom",Fi={en:{noData:"No data found",placeholderSearch:"Search",selectAll:"Select all",selectItem:"Select items"},es:{noData:"Datos no encontrados",placeholderSearch:"Busca",selectAll:"Seleccionar todo",selectItem:"Seleccionar items"},pt:{noData:"Nenhum dado encontrado",placeholderSearch:"Buscar",selectAll:"Selecionar todos",selectItem:"Selecionar itens"},ru:{noData:"\u0414\u0430\u043D\u043D\u044B\u0435 \u043D\u0435 \u043D\u0430\u0439\u0434\u0435\u043D\u044B",placeholderSearch:"\u0438\u0441\u043A\u0430\u0442\u044C",selectAll:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0432\u0441\u0435",selectItem:"\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B"}},Fn=(()=>{class n{poThemeService;cd;additionalHelpEventTrigger;additionalHelpTooltip;autoFocus=!1;blur=new b;label;help;optional;placeholder="";placeholderSearch="";name;hideSelectAll;fieldErrorMessage;errorLimit=!1;additionalHelp=new b;change=new b;keydown=new b;appendBox=!1;controlValueWithLabel=!1;listboxControlPosition=ds;selectedOptions=[];visibleOptionsDropdown=[];visibleTags=[];isServerSearching=!1;isFirstFilter=!0;filterSubject=new ft;service;defaultService;displayAdditionalHelp=!1;onModelTouched=null;clickOutListener;resizeListener;getObjectsByValuesSubscription;_filterService;_debounceTime=400;_disabled=!1;_filterMode=Ue.startsWith;_hideSearch=!1;_literals;_options;_required=!1;_sort=!1;_autoHeight=!1;_fieldLabel=Dn;_fieldValue=Vn;_size=void 0;language;lastLengthModel;onModelChange;validatorChange;autoHeightInitialValue;set filterService(e){e&&(this._filterService=e,this.autoHeight=this.autoHeightInitialValue!==void 0?this.autoHeightInitialValue:!0,this.options=[])}get filterService(){return this._filterService}set autoHeight(e){this._autoHeight=e,this.autoHeightInitialValue=e}get autoHeight(){return this._autoHeight}set debounceTime(e){let t=parseInt(e,10);this._debounceTime=!isNaN(t)&&t>0?t:ps}get debounceTime(){return this._debounceTime}set literals(e){e instanceof Object&&!(e instanceof Array)?this._literals=w(w(w({},Fi[re]),Fi[this.language]),e):this._literals=Fi[this.language]}get literals(){return this._literals||Fi[this.language]}set required(e){this._required=e===""?!0:_(e),this.validateModel()}get required(){return this._required}showRequired=!1;set size(e){this._size=ie(e,this.poThemeService,j)}get size(){return this._size??Y(this.poThemeService,j)}set disabled(e){this._disabled=e===""?!0:_(e),this.validateModel(),this.updateVisibleItems()}get disabled(){return this._disabled}set hideSearch(e){this._hideSearch=e===""?!0:_(e)}get hideSearch(){return this._hideSearch}set options(e){this._options=e}get options(){return this._options}set sort(e){this._sort=e===""?!0:_(e),this.validAndSortOptions()}get sort(){return this._sort}set filterMode(e){switch(this._filterMode=e in Ue?e:Ue.startsWith,this._filterMode.toString()){case"startsWith":this._filterMode=Ue.startsWith;break;case"contains":this._filterMode=Ue.contains;break;case"endsWith":this._filterMode=Ue.endsWith;break}}get filterMode(){return this._filterMode}set fieldLabel(e){this._fieldLabel=e||Dn,ae(this.filterService,"string")&&this.service&&(this.service.fieldLabel=this._fieldLabel)}get fieldLabel(){return this._fieldLabel}set fieldValue(e){this._fieldValue=e||Vn,ae(this.filterService,"string")&&this.service&&(this.service.fieldValue=this._fieldValue)}get fieldValue(){return this._fieldValue}constructor(e,t,i){this.poThemeService=t,this.cd=i,this.language=e.getShortLanguage()}ngOnInit(){this.filterService&&this.setService(this.filterService),this.filterSubject.pipe(it(this.debounceTime),$t(),je(()=>this.isServerSearching=!0),Ve(e=>this.applyFilter(e)),je(()=>this.isServerSearching=!1)).subscribe(),this.setLabelsAndValuesOptions(),this.validAndSortOptions(),this.updateList(this.options)}setService(e){ae(e,"object")?this.service=e:(this.service=this.defaultService,this.service.configProperties(e,this.fieldLabel,this.fieldValue)),this.isFirstFilter=!0}validAndSortOptions(){this.options&&this.options.length&&(Do(this.options,this.fieldValue),Co(this.options,this.fieldValue),this.setUndefinedLabels(this.options),this.sort&&yo(this.options,this.fieldLabel))}setUndefinedLabels(e){e.forEach(t=>{t[this.fieldLabel]||(t[this.fieldLabel]=t[this.fieldValue])})}updateList(e){e&&(this.visibleOptionsDropdown=e)}callOnChange(e){this.onModelChange&&(this.onModelChange(this.getValueUpdate(e)),this.eventChange(e))}eventChange(e){e&&this.lastLengthModel!==e.length&&this.change.emit(e),this.lastLengthModel=e?e.length:null}getValuesFromOptions(e){return e&&e.length?e.map(t=>t[this.fieldValue]):[]}getLabelByValue(e){let t=this.options.findIndex(i=>i[this.fieldValue]===e);return this.options[t].label}searchByLabel(e,t,i){if(e&&t&&t.length){let o=[];t.forEach(r=>{r[this.fieldLabel]&&this.compareMethod(e,r,i)&&o.push(r)}),this.visibleOptionsDropdown=o}else this.visibleOptionsDropdown=[...t]}compareMethod(e,t,i){switch(i){case Ue.startsWith:return this.startsWith(e,t);case Ue.contains:return this.contains(e,t);case Ue.endsWith:return this.endsWith(e,t)}}startsWith(e,t){return t[this.fieldLabel].toLowerCase().startsWith(e.toLowerCase())}contains(e,t){return t[this.fieldLabel].toLowerCase().indexOf(e.toLowerCase())>-1}endsWith(e,t){return t[this.fieldLabel].toLowerCase().endsWith(e.toLowerCase())}validate(e){return he(this.required,this.disabled,e.value)?(this.cd?.markForCheck(),{required:{valid:!1}}):null}updateSelectedOptions(e,t=this.options){this.selectedOptions=[],e.length===0&&(this.lastLengthModel=void 0),this.filterService?this.selectedOptions=e:e.forEach(i=>{t.forEach(o=>{o[this.fieldValue]===i[this.fieldValue]&&this.selectedOptions.push(o)})}),this.updateVisibleItems()}writeValue(e){e=this.getValueWrite(e)||[],this.service&&e.length?this.getObjectsByValuesSubscription=this.service.getObjectsByValues(e).subscribe(t=>{this.updateSelectedOptions(t),this.callOnChange(this.selectedOptions)}):(this.updateSelectedOptions(e.map(t=>({[this.fieldValue]:t}))),this.selectedOptions&&this.selectedOptions.length<e.length&&this.callOnChange(this.selectedOptions))}setDisabledState(e){this.disabled=e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.validatorChange=e}getValueUpdate(e){return this.controlValueWithLabel&&e?.length?e.map(t=>({value:t[this.fieldValue],label:t[this.fieldLabel]})):this.getValuesFromOptions(e)}getValueWrite(e){return this.controlValueWithLabel&&e?.length&&e.every(t=>t?.value!==void 0)?e.map(t=>t.value):e}setLabelsAndValuesOptions(){this.fieldLabel&&this.fieldValue&&this.options&&this.options.map(e=>{e.label=e[this.fieldLabel],e.value=e[this.fieldValue]})}validateModel(){this.validatorChange&&this.validatorChange()}static \u0275fac=function(t){return new(t||n)(f(H),f(I),f(T))};static \u0275dir=O({type:n,inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],autoFocus:[2,"p-auto-focus","autoFocus",_],label:[0,"p-label","label"],help:[0,"p-help","help"],optional:[0,"p-optional","optional"],placeholder:[0,"p-placeholder","placeholder"],placeholderSearch:[0,"p-placeholder-search","placeholderSearch"],name:"name",hideSelectAll:[2,"p-hide-select-all","hideSelectAll",_],fieldErrorMessage:[0,"p-field-error-message","fieldErrorMessage"],errorLimit:[0,"p-error-limit","errorLimit"],appendBox:[2,"p-append-in-body","appendBox",_],controlValueWithLabel:[2,"p-control-value-with-label","controlValueWithLabel",_],listboxControlPosition:[0,"p-listbox-control-position","listboxControlPosition"],filterService:[0,"p-filter-service","filterService"],autoHeight:[2,"p-auto-height","autoHeight",_],debounceTime:[0,"p-debounce-time","debounceTime"],literals:[0,"p-literals","literals"],required:[0,"p-required","required"],showRequired:[0,"p-show-required","showRequired"],size:[0,"p-size","size"],disabled:[0,"p-disabled","disabled"],hideSearch:[0,"p-hide-search","hideSearch"],options:[0,"p-options","options"],sort:[0,"p-sort","sort"],filterMode:[0,"p-filter-mode","filterMode"],fieldLabel:[0,"p-field-label","fieldLabel"],fieldValue:[0,"p-field-value","fieldValue"]},outputs:{blur:"p-blur",additionalHelp:"p-additional-help",change:"p-change",keydown:"p-keydown"},features:[G]})}return n})();var Si=(()=>{class n{http;fieldLabel="label";fieldValue="value";_url;messages=[];get url(){return this._url}constructor(e){this.http=e}getFilteredData({value:e}){let t=e?{filter:e}:{};return this.http.get(this.url,{params:t}).pipe(Te(i=>this.parseToArrayMultiselectOptions(i.items)))}getObjectsByValues(e){return this.http.get(`${this.url}?${this.fieldValue}=${e.toString()}`).pipe(Te(t=>this.parseToArrayMultiselectOptions(t.items)))}configProperties(e,t,i){this._url=e,this.fieldLabel=t,this.fieldValue=i}parseToArrayMultiselectOptions(e){return e&&e.length>0?e.map(t=>this.parseToMultiselectOption(t)):[]}parseToMultiselectOption(e){let t=e[this.fieldLabel],i=e[this.fieldValue];return{[this.fieldLabel]:t,[this.fieldValue]:i}}static \u0275fac=function(t){return new(t||n)(Ee(Le))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var us=["container"],hs=["divElement"],ms=["listbox"],Sn=(()=>{class n{cd;isServerSearching=!1;hideSearch=!1;literals;placeholderSearch;selectedOptions=[];options=[];visibleOptions=[];hideSelectAll=!1;fieldValue;fieldLabel;multiselectTemplate;containerWidth;size;changeSearch=new b;change=new b;closeDropdown=new b;container;divElement;listbox;scrollTop=0;show=!1;constructor(e){this.cd=e}get hasOptions(){return!!this.options?.length}scrollTo(e){this.scrollTop=e<=2?0:e*44-88,this.cd.markForCheck()}isSelectedItem(e){return this.selectedOptions.some(t=>t[this.fieldValue]===e[this.fieldValue])}clickItem(e,t){if(t)this.updateSelectedValues(e,t);else{let{selected:i,option:o}=e;this.updateSelectedValues(i,o)}}onClickSelectAll(){let e=this.selectedOptions.map(({[this.fieldValue]:t})=>t);this.everyVisibleOptionsSelected(e)?this.selectedOptions=[]:this.selectedOptions=this.uniqueSelectedOptions(e),this.change.emit(this.selectedOptions)}updateSelectedValues(e,t){e?this.selectedOptions.push(t):this.selectedOptions=this.selectedOptions.filter(i=>i[this.fieldValue]!==t[this.fieldValue]),this.change.emit(this.selectedOptions)}everyVisibleOptionsSelected(e){return this.visibleOptions?.every(t=>e.includes(t[this.fieldValue]))}someVisibleOptionsSelected(e){return this.visibleOptions?.some(t=>e.includes(t[this.fieldValue]))}getStateSelectAll(){let e=this.selectedOptions.map(({[this.fieldValue]:t})=>t);return this.everyVisibleOptionsSelected(e)?!0:this.someVisibleOptionsSelected(e)?null:!1}callChangeSearch(e){this.changeSearch.emit(e)}controlVisibility(e){this.show=e,setTimeout(()=>{e&&this.listbox?.searchElement&&!this.hideSearch&&(this.listbox.searchElement.setFocus(),this.listbox.searchElement.clean())}),this.cd.markForCheck()}uniqueSelectedOptions(e){let t=[...this.selectedOptions];for(let i of this.visibleOptions)e.includes(i[this.fieldValue])||t.push(i);return t}static \u0275fac=function(t){return new(t||n)(f(T))};static \u0275cmp=k({type:n,selectors:[["po-multiselect-dropdown"]],viewQuery:function(t,i){if(t&1&&(x(us,7,D),x(hs,7,D),x(ms,5)),t&2){let o;F(o=S())&&(i.container=o.first),F(o=S())&&(i.divElement=o.first),F(o=S())&&(i.listbox=o.first)}},inputs:{isServerSearching:[0,"p-searching","isServerSearching"],hideSearch:[0,"p-hide-search","hideSearch"],literals:[0,"p-literals","literals"],placeholderSearch:[0,"p-placeholder-search","placeholderSearch"],selectedOptions:[0,"p-selected-options","selectedOptions"],options:[0,"p-options","options"],visibleOptions:[0,"p-visible-options","visibleOptions"],hideSelectAll:[0,"p-hide-select-all","hideSelectAll"],fieldValue:[0,"p-field-value","fieldValue"],fieldLabel:[0,"p-field-label","fieldLabel"],multiselectTemplate:[0,"p-multiselect-template","multiselectTemplate"],containerWidth:[0,"p-container-width","containerWidth"],size:[0,"p-size","size"]},outputs:{changeSearch:"p-change-search",change:"p-change",closeDropdown:"p-close-dropdown"},standalone:!1,decls:7,vars:17,consts:[["container",""],["divElement",""],["listbox",""],[1,"po-multiselect-container",3,"hidden"],[3,"scrollTop"],["p-type","check",3,"p-change","p-change-all","p-change-search","p-close","p-items","p-selected-options","p-checkboxAllValue","p-field-value","p-field-value-search","p-field-label","p-literal-search","p-literals","p-is-searching","p-hide-search","p-hide-select-all","p-template","p-placeholder-search","p-size","p-container-width"]],template:function(t,i){if(t&1){let o=y();m(0,"div",3,0)(2,"div",4,1),ye(4),m(5,"po-listbox",5,2),g("p-change",function(c){return p(o),d(i.clickItem(c))})("p-change-all",function(){return p(o),d(i.onClickSelectAll())})("p-change-search",function(c){return p(o),d(i.callChangeSearch(c))})("p-close",function(){return p(o),d(i.closeDropdown.emit())}),h(),be(),h()()}t&2&&(l("hidden",!i.show),u(2),l("scrollTop",i.scrollTop),u(3),l("p-items",i.visibleOptions)("p-selected-options",i.selectedOptions)("p-checkboxAllValue",i.getStateSelectAll())("p-field-value",i.fieldValue)("p-field-value-search",i.fieldValue)("p-field-label",i.fieldLabel)("p-literal-search",i.literals)("p-literals",i.literals)("p-is-searching",i.isServerSearching)("p-hide-search",i.hideSearch)("p-hide-select-all",i.hideSelectAll)("p-template",i.multiselectTemplate)("p-placeholder-search",i.placeholderSearch)("p-size",i.size)("p-container-width",i.containerWidth))},dependencies:[pi],encapsulation:2,changeDetection:0})}return n})();var xn=["dropdownElement"],gs=["iconElement"],_s=["inputElement"],vs=["outerContainer"];function ys(n,s){if(n&1&&(m(0,"span",17),R(1),h()),n&2){let e=a();P("po-multiselect-input-placeholder-aa",e.size==="small"),u(),U(" ",e.placeholder?e.placeholder:e.literals.selectItem," ")}}function bs(n,s){if(n&1){let e=y();m(0,"po-tag",18),g("p-close",function(i){let o=p(e).$implicit,r=a();return d(r.closeTag(o[r.fieldValue],i))}),h()}if(n&2){let e=s.$implicit,t=s.index,i=a();P("po-clickable",e[i.fieldValue]===""&&!i.disabled),l("p-value",e[i.fieldLabel])("p-literals",t+1===i.visibleTags.length&&i.hasMoreTag?i.literalsTag:void 0)("p-removable",!0)("p-disabled",i.disabled)("p-append-in-body",i.appendBox)}}function Cs(n,s){n&1&&ee(0)}function ws(n,s){n&1&&ee(0)}function Ds(n,s){if(n&1&&v(0,ws,1,0,"ng-container",19),n&2){a();let e=L(19);l("ngTemplateOutlet",e)}}function Vs(n,s){n&1&&ee(0)}function Fs(n,s){if(n&1&&v(0,Vs,1,0,"ng-container",19),n&2){a(2);let e=L(19);l("ngTemplateOutlet",e)}}function Ss(n,s){if(n&1&&v(0,Fs,1,1,"ng-template",20),n&2){a();let e=L(4);l("cdkConnectedOverlayOrigin",e)("cdkConnectedOverlayOpen",!0)("cdkConnectedOverlayDisableClose",!0)}}function xs(n,s){if(n&1){let e=y();m(0,"po-multiselect-dropdown",21,7),g("p-change",function(i){p(e);let o=a();return d(o.changeItems(i))})("p-change-search",function(i){p(e);let o=a();return d(o.changeSearch(i))})("p-close-dropdown",function(){p(e);let i=a();return d(i.controlDropdownVisibility(!1))})("keydown",function(i){p(e);let o=a();return d(o.onKeyDownDropdown(i,0))}),h()}if(n&2){let e=a();l("p-searching",e.isServerSearching)("p-hide-search",e.hideSearch)("p-hide-select-all",e.hideSelectAll)("p-literals",e.literals)("p-options",e.options)("p-visible-options",e.visibleOptionsDropdown)("p-selected-options",e.selectedOptions)("p-placeholder-search",e.placeholderSearch)("p-field-value",e.fieldValue)("p-field-label",e.fieldLabel)("p-multiselect-template",e.multiselectOptionTemplate)("p-size",e.size)("p-container-width",e.containerWidth)}}var Ts=8,Ps=52,Es=8,Tn={pt:{remove:"Remover todos os itens selecionados"},ru:{remove:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0432\u0441\u0435 \u0432\u044B\u0431\u0440\u0430\u043D\u043D\u044B\u0435 \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u044B"},es:{remove:"Eliminar todos los elementos seleccionados"},en:{remove:"Clear all selected items"}},ks=[Si,Se,{provide:Q,useExisting:z(()=>xi),multi:!0},{provide:$,useExisting:z(()=>xi),multi:!0}],xi=(()=>{class n extends Fn{renderer;changeDetector;el;controlPosition;defaultService;poThemeService;multiselectOptionTemplate;dropdownElement;dropdown;iconElement;inputElement;outerContainer;literalsTag;dropdownIcon="ICON_ARROW_DOWN";dropdownOpen=!1;initialized=!1;hasMoreTag;timeoutResize;visibleElement=!1;containerWidth;subscription=new me;enterCloseTag=!1;initCalculateItems=!0;isCalculateVisibleItems=!0;cacheOptions;focusOnTag=!1;constructor(e,t,i,o,r,c,C){super(c,C,t),this.renderer=e,this.changeDetector=t,this.el=i,this.controlPosition=o,this.defaultService=r,this.poThemeService=C;let V=c.getShortLanguage();this.literalsTag=w(w({},Tn[re]),Tn[V])}ngAfterViewInit(){this.autoFocus&&this.focus(),this.initialized=!0}ngOnChanges(e){this.filterService&&(e.filterService||e.fieldValue||e.fieldLabel)&&this.setService(this.filterService)}ngDoCheck(){let e=this.inputElement.nativeElement.offsetWidth;(e&&!this.visibleElement&&this.initialized||e&&this.isCalculateVisibleItems)&&(this.debounceResize(),this.visibleElement=!0)}ngOnDestroy(){this.removeListeners(),this.getObjectsByValuesSubscription?.unsubscribe(),this.filterSubject?.unsubscribe(),this.subscription.unsubscribe()}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}focus(){this.disabled||this.inputElement.nativeElement.focus()}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}getInputWidth(){return this.el.nativeElement.querySelector(".po-multiselect-input").offsetWidth-Ps}getTagsWidth(){let e=this.el.nativeElement.querySelectorAll("po-tag");return Array.from(e).map(t=>t.offsetWidth)}getErrorPattern(){return this.fieldErrorMessage&&this.hasInvalidClass()?this.fieldErrorMessage:""}hasInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")}calculateVisibleItems(){this.hasMoreTag=!1;let e=this.getTagsWidth(),t=this.getInputWidth(),i=63,o=e[0];if(this.visibleTags=[],t>0){let r=0,c=0;for(c=0;c<this.selectedOptions.length;c++)if(r+=e[c]+Es,this.visibleTags.push(this.selectedOptions[c]),r>t){r-=e[c],this.isCalculateVisibleItems=!1;break}if(o||!this.selectedOptions.length){if(c===this.selectedOptions.length){this.isCalculateVisibleItems=!1;return}if(this.hasMoreTag=!0,r+i>t){this.visibleTags.splice(-2,2);let C="+"+(this.selectedOptions.length+1-c).toString();this.visibleTags.push({[this.fieldValue]:"",[this.fieldLabel]:C})}else{this.visibleTags.splice(-1,1);let C="+"+(this.selectedOptions.length-c).toString();this.visibleTags.push({[this.fieldValue]:"",[this.fieldLabel]:C})}}this.initCalculateItems&&setTimeout(()=>{this.handleKeyboardNavigationTag()},300),this.initCalculateItems=!1}this.changeDetector.markForCheck()}changeItems(e){this.updateSelectedOptions(e),this.callOnChange(this.selectedOptions),this.autoHeight&&this.dropdownOpen&&(this.changeDetector.detectChanges(),this.adjustContainerPosition()),setTimeout(()=>{this.handleKeyboardNavigationTag()},300)}updateVisibleItems(){this.selectedOptions&&(this.visibleTags=[].concat(this.selectedOptions)),this.debounceResize(),this.inputElement.nativeElement.offsetWidth||(this.isCalculateVisibleItems=!0)}debounceResize(){this.autoHeight||(clearTimeout(this.timeoutResize),this.timeoutResize=setTimeout(()=>{this.calculateVisibleItems()},200)),this.changeDetector.markForCheck()}onBlur(e){this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp(),typeof this.inputElement.nativeElement.getAttribute("aria-label")=="string"&&this.inputElement.nativeElement.getAttribute("aria-label").includes("Unselected")&&this.inputElement.nativeElement.setAttribute("aria-label",this.label?this.label:""),this.onModelTouched?.(),e.type==="blur"&&this.blur.emit()}onKeyDown(e){let t=document.activeElement===this.inputElement.nativeElement;if(e.shiftKey&&e.keyCode===se.tab&&!this.focusOnTag&&this.controlDropdownVisibility(!1),this.focusOnTag=!1,e.keyCode===se.tab&&this.appendBox&&this.dropdownOpen){e.preventDefault(),this.focusOnFirstItem();return}if(e.keyCode===se.esc){e.preventDefault(),this.controlDropdownVisibility(!1);return}if(e.keyCode===se.arrowDown){e.preventDefault(),this.controlDropdownVisibility(!0),this.dropdown?.listbox?.setFocus();return}if(e.keyCode===se.enter&&!this.enterCloseTag)if(this.visibleTags.length===0){this.toggleDropdownVisibility(),this.focus();return}else{e.preventDefault(),this.toggleDropdownVisibility();return}e.keyCode===se.space&&(e.preventDefault(),this.toggleDropdownVisibility()),this.enterCloseTag=!1,t&&this.keydown.emit(e)}toggleDropdownVisibility(){this.disabled||(this.filterService&&this.applyFilterInFirstClick(),this.controlDropdownVisibility(!this.dropdownOpen))}onKeyDownDropdown(e,t){e.key==="Tab"&&e.target.className.includes("po-listbox-item-type-check")&&(e.preventDefault(),this.inputElement.nativeElement.focus()),e.key==="Escape"&&(e.preventDefault(),this.controlDropdownVisibility(!1),setTimeout(()=>{this.inputElement.nativeElement.focus()},50))}openDropdown(e){e&&!this.disabled&&this.controlDropdownVisibility(!0)}controlDropdownVisibility(e){e?this.open():this.close()}scrollToSelectedOptions(){if(this.selectedOptions&&this.selectedOptions.length){let e=this.options.findIndex(t=>t[this.fieldValue]===this.selectedOptions[0][this.fieldValue]);this.dropdown.scrollTo(e)}}setVisibleOptionsDropdown(e){this.visibleOptionsDropdown=e,this.changeDetector.markForCheck()}changeSearch(e){(e.event.keyCode===se.arrowDown||e.event.keyCode===se.tab)&&this.focusOnFirstItem(),e&&e[this.fieldValue]!==void 0?this.filterService?this.filterSubject.next(e[this.fieldValue]):this.searchByLabel(e[this.fieldValue],this.options,this.filterMode):this.setVisibleOptionsDropdown(this.options),setTimeout(()=>this.adjustContainerPosition())}focusOnFirstItem(){let e=this.dropdown.listbox.element.nativeElement.querySelectorAll(".po-listbox-item-type-check"),t=e.length>0?e[0]:null;t?t.focus():(this.close(),this.inputElement.nativeElement.focus())}closeTag(e,t){let i;if(this.enterCloseTag=!0,e==null||typeof e=="string"&&e.includes("+")){i=null;let o=this.selectedOptions.filter(r=>!this.visibleTags.includes(r));for(let r of this.visibleTags)this.selectedOptions.includes(r)||(this.selectedOptions.splice(this.visibleTags.length-1,o.length),this.updateVisibleItems(),this.callOnChange(this.selectedOptions))}else i=this.selectedOptions.findIndex(o=>o[this.fieldValue]===e),this.selectedOptions.splice(i,1),this.updateVisibleItems(),this.callOnChange(this.selectedOptions);setTimeout(()=>{this.focusOnNextTag(i,t)},300)}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}wasClickedOnToggle(e){this.dropdownOpen&&!this.inputElement.nativeElement.contains(e.target)&&!this.iconElement.nativeElement.contains(e.target)&&!this.dropdownElement.nativeElement.contains(e.target)&&this.controlDropdownVisibility(!1)}applyFilter(e=""){let t={property:this.fieldLabel,value:e};return this.service.getFilteredData(t).pipe(qt(i=>(this.isServerSearching=!1,Ke([]))),je(i=>{this.setOptionsByApplyFilter(i)}))}applyFilterInFirstClick(){this.isFirstFilter?(this.isServerSearching=!0,this.filterSubject.next(new String)):this.options=[...this.cacheOptions]}setOptionsByApplyFilter(e){this.isFirstFilter&&(this.cacheOptions=[...e],this.isFirstFilter=!1),this.options=[...e],this.setVisibleOptionsDropdown(this.options)}adjustContainerPosition(){this.controlPosition.adjustPosition(this.listboxControlPosition)}close(){this.dropdownIcon="ICON_ARROW_DOWN",this.dropdown?.listbox?.searchElement?.resetKeys(),this.dropdownOpen=!1,this.dropdown?.controlVisibility(!1),this.setVisibleOptionsDropdown(this.options),this.removeListeners()}focusOnNextTag(e,t){if(t==="enter"){let i=this.el.nativeElement.querySelectorAll(".po-tag-remove");e=e||e===0?e:i.length,i.length===0&&(this.inputElement.nativeElement.focus(),this.inputElement.nativeElement.setAttribute("aria-label",`Unselected items ${this.label}`),this.controlDropdownVisibility(!0)),this.focusOnRemoveTag(i,e)}else e=0;this.handleKeyboardNavigationTag(e)}focusOnRemoveTag(e,t){e.length===t?e[t-1]?.focus():e[t]?.focus()}handleKeyboardNavigationTag(e=0){this.subscription.unsubscribe(),this.subscription=new me;let t=this.el.nativeElement.querySelectorAll(".po-tag-remove");this.initializeTagRemoveElements(t,e)}setTabIndex(e,t){e.setAttribute("tabindex",t)}handleArrowLeft(e,t){t>0&&(this.setTabIndex(e[t],-1),e[t-1].focus(),this.setTabIndex(e[t-1],0))}handleArrowRight(e,t){t<e.length-1&&(this.setTabIndex(e[t],-1),e[t+1].focus(),this.setTabIndex(e[t+1],0))}handleKeyDown(e,t,i){let o="Space",r="ArrowLeft",c="ArrowRight";this.focusOnTag=!0,e.code===o&&(e.preventDefault(),e.stopPropagation()),e.key===r?this.handleArrowLeft(t,i):e.key===c&&this.handleArrowRight(t,i)}initializeTagRemoveElements(e,t){e.forEach((i,o)=>{o===t?this.setTabIndex(e[t],0):e.length===t?this.setTabIndex(e[t-1],0):this.setTabIndex(i,-1),this.subscription.add(Ze(i,"keydown").subscribe(r=>{this.handleKeyDown(r,e,o)}))})}initializeListeners(){this.clickOutListener=this.renderer.listen("document","click",e=>{this.wasClickedOnToggle(e)}),this.resizeListener=this.renderer.listen("window","resize",()=>{this.updateVisibleItems(),st()?this.adjustContainerPosition():this.close()}),window.addEventListener("scroll",this.onScroll,!0)}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}onScroll=()=>{this.adjustContainerPosition()};open(){this.dropdownIcon="ICON_ARROW_UP",this.dropdownOpen=!0,this.dropdown.controlVisibility(!0),this.setVisibleOptionsDropdown(this.options),this.initializeListeners(),this.scrollToSelectedOptions(),this.changeDetector.detectChanges(),this.setPositionDropdown(),this.dropdownOpen&&this.setContainerWidth()}removeListeners(){this.clickOutListener&&this.clickOutListener(),this.resizeListener&&this.resizeListener(),window.removeEventListener("scroll",this.onScroll,!0),this.changeDetector.markForCheck()}setContainerWidth(){this.outerContainer&&(this.containerWidth=this.outerContainer.nativeElement.offsetWidth)}setPositionDropdown(){this.controlPosition.setElements(this.dropdown.container.nativeElement,Ts,this.inputElement,["top","bottom"],!0),this.adjustContainerPosition()}static \u0275fac=function(t){return new(t||n)(f(Fe),f(T),f(D),f(Se),f(Si),f(H),f(I))};static \u0275cmp=k({type:n,selectors:[["po-multiselect"]],contentQueries:function(t,i,o){if(t&1&&ti(o,wn,7),t&2){let r;F(r=S())&&(i.multiselectOptionTemplate=r.first)}},viewQuery:function(t,i){if(t&1&&(x(xn,5,D),x(xn,5),x(gs,7,D),x(_s,7,D),x(vs,5,D)),t&2){let o;F(o=S())&&(i.dropdownElement=o.first),F(o=S())&&(i.dropdown=o.first),F(o=S())&&(i.iconElement=o.first),F(o=S())&&(i.inputElement=o.first),F(o=S())&&(i.outerContainer=o.first)}},standalone:!1,features:[W(ks),A,Ce],decls:20,vars:40,consts:[["outerContainer",""],["trigger","cdkOverlayOrigin"],["inputElement",""],["iconElement",""],["dropdownDefault",""],["dropdownCDK",""],["dropdownListbox",""],["dropdownElement",""],[3,"p-disabled","p-label","p-optional","p-required","p-show-required"],["cdkOverlayOrigin","",1,"po-field-container-content"],[1,"po-input-icon-right","po-multiselect-input",3,"keydown","click","blur","tabindex"],["class","po-multiselect-input-placeholder","ria-hidden","true",3,"po-multiselect-input-placeholder-aa",4,"ngIf"],[3,"p-value","p-literals","p-removable","po-clickable","p-disabled","p-append-in-body","p-close",4,"ngFor","ngForOf"],[1,"po-field-icon-container-right"],[3,"p-icon","ngClass"],[4,"ngIf","ngIfThen","ngIfElse"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"],["ria-hidden","true",1,"po-multiselect-input-placeholder"],[3,"p-close","p-value","p-literals","p-removable","p-disabled","p-append-in-body"],[4,"ngTemplateOutlet"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayDisableClose"],[3,"p-change","p-change-search","p-close-dropdown","keydown","p-searching","p-hide-search","p-hide-select-all","p-literals","p-options","p-visible-options","p-selected-options","p-placeholder-search","p-field-value","p-field-label","p-multiselect-template","p-size","p-container-width"]],template:function(t,i){if(t&1){let o=y();m(0,"div",null,0)(2,"po-field-container",8)(3,"div",9,1)(5,"div",10,2),g("keydown",function(c){return p(o),d(i.onKeyDown(c))})("click",function(){return p(o),d(i.toggleDropdownVisibility())})("blur",function(c){return p(o),d(i.onBlur(c))}),v(7,ys,2,3,"span",11)(8,bs,1,7,"po-tag",12),m(9,"div",13),N(10,"po-icon",14,3),h()()(),v(12,Cs,1,0,"ng-container",15)(13,Ds,1,1,"ng-template",null,4,X)(15,Ss,1,3,"ng-template",null,5,X),m(17,"po-field-container-bottom",16),g("p-additional-help",function(){return p(o),d(i.emitAdditionalHelp())}),h()(),v(18,xs,2,13,"ng-template",null,6,X),h()}if(t&2){let o=L(14),r=L(16);u(2),l("p-disabled",i.disabled)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),u(),P("po-multiselect-show",i.dropdownOpen),u(2),P("po-multiselect-input-auto",i.autoHeight)("po-multiselect-input-static",!i.autoHeight)("po-multiselect-input-disabled",i.disabled)("po-multiselect-input-font",!i.disabled&&!(i.visibleTags!=null&&i.visibleTags.length))("po-multiselect-input-aa",i.size==="small"),l("tabindex",i.disabled?-1:0),B("disabled",i.disabled)("aria-label",i.label),u(2),l("ngIf",!i.disabled&&!(i.visibleTags!=null&&i.visibleTags.length)),u(),l("ngForOf",i.visibleTags),u(2),Ge("po-field-icon ",i.disabled?"po-icon-input-disabled":"po-icon-input",""),P("po-field-icon-aa",i.size==="small"),ei("p-icon",i.dropdownIcon),l("ngClass",i.disabled?"po-field-icon-disabled":""),u(2),l("ngIf",i.appendBox)("ngIfThen",r)("ngIfElse",o),u(5),l("p-additional-help-tooltip",i.getAdditionalHelpTooltip())("p-append-in-body",i.appendBox)("p-help",i.help)("p-disabled",i.disabled)("p-error-pattern",i.getErrorPattern())("p-error-limit",i.errorLimit)("p-show-additional-help",i.displayAdditionalHelp)("p-show-additional-help-icon",i.showAdditionalHelpIcon())}},dependencies:[ce,we,M,Ae,Dt,wt,oe,J,te,Tt,Sn],encapsulation:2,changeDetection:0})}return n})();var Pn=(()=>{class n extends Mt{poThemeService;type="number";invalidInputValueOnBlur=!1;constructor(e,t,i){super(e,t,i),this.poThemeService=i}eventOnInput(e){if(!this.mask){let t=e.target.value,i=this.validMaxLength(this.maxlength,t);this.invalidInputValueOnBlur=!1,t!==i&&(t=i,this.inputEl.nativeElement.value=t),this.callOnChange(this.formatNumber(t)),this.errorAsyncProperties?.triggerMode==="changeModel"&&this.verifyErrorAsync()}}onBlur(e){let t=e.target;this.invalidInputValueOnBlur=t.value===""&&!t.validity.valid,this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp(),this.invalidInputValueOnBlur&&this.callOnChange("Valor Inv\xE1lido"),this.eventOnBlur(e)}onKeyDown(e){let t=document.activeElement===this.inputEl.nativeElement;this.isKeyAllowed(e)||(e.stopPropagation(),e.preventDefault()),t&&this.keydown.emit(e)}validMaxLength(e,t){if(e&&t.length>e){let i=t.toString().substring(0,e);return i&&this.isEndWithDot(i)?i.toString().substring(0,e-1):i}return t}writeValueModel(e){this.inputEl&&(e||e===0?this.mask?(this.inputEl.nativeElement.value=this.objMask.controlFormatting(String(e)),this.objMask.formatModel&&this.onChangePropagate(this.objMask.valueToModel)):this.inputEl.nativeElement.value=e:this.inputEl.nativeElement.value=""),this.changeModel.emit(e),this.verifyErrorAsync()}isEndWithDot(e){return e&&e.lastIndexOf(".")===e.length-1}formatNumber(e){return e?Number(e):null}isKeyAllowed(e){return this.isShortcut(e)||this.isControlKeys(e)||!this.isInvalidKey(e.key)}isInvalidKey(e){return new RegExp(/[a-zA-Z:;=_`^~"'?!@#$%&*()><{}\[\]/\\|]+/).test(e)}isShortcut(e){let t=e.keyCode,i=e.ctrlKey||e.metaKey;return i&&t===67||i&&t===86||i&&t===65||i&&t===88}isControlKeys(e){return["Backspace","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down","Tab","Delete","Home","End","Enter"].indexOf(e.key)!==-1}static \u0275fac=function(t){return new(t||n)(f(D),f(T),f(I))};static \u0275dir=O({type:n,features:[A]})}return n})();function Ms(n,s){if(n&1&&(m(0,"div",8),N(1,"po-icon",9),h()),n&2){let e=a();u(),P("po-field-icon-disabled",e.disabled)("po-field-icon-aa",e.size==="small"),l("p-icon",e.icon)}}function As(n,s){if(n&1){let e=y();m(0,"po-clean",10),g("p-change-event",function(i){p(e);let o=a();return d(o.clear(i))}),h()}if(n&2){let e=a();l("p-default-value",null)("p-element-ref",e.inputEl)("p-size",e.size)}}function Ls(n,s){if(n&1){let e=y();m(0,"po-field-container-bottom",11),g("p-additional-help",function(){p(e);let i=a();return d(i.emitAdditionalHelp())}),h()}if(n&2){let e=a();l("p-additional-help-tooltip",e.getAdditionalHelpTooltip())("p-append-in-body",e.appendBox)("p-help",e.help)("p-disabled",e.disabled)("p-error-limit",e.errorLimit)("p-error-pattern",e.getErrorPatternMessage())("p-show-additional-help",e.displayAdditionalHelp)("p-show-additional-help-icon",e.showAdditionalHelpIcon())}}var En=(()=>{class n extends Pn{poThemeService;step="1";min;set setMin(e){this.min=isNaN(e)?void 0:e,this.validateModel()}max;set setMax(e){this.max=isNaN(e)?void 0:e,this.validateModel()}id=`po-number[${ue()}]`;constructor(e,t,i){super(e,t,i),this.poThemeService=i}onWheel(e){e.preventDefault()}extraValidation(e){return this.errorPattern=this.errorPattern!=="Valor Inv\xE1lido"?this.errorPattern:"",ui(this.min,e.value)?{min:{valid:!1}}:hi(this.max,e.value)?{max:{valid:!1}}:this.invalidInputValueOnBlur?(this.errorPattern=this.errorPattern||"Valor Inv\xE1lido",{number:{valid:!1}}):null}getErrorPatternMessage(){return this.errorPattern!==""&&this.containsInvalidClass()?this.errorPattern:""}containsInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&(this.inputEl.nativeElement.value!==""||this.showErrorMessageRequired&&(this.required||this.hasValidatorRequired))||this.invalidInputValueOnBlur}static \u0275fac=function(t){return new(t||n)(f(D),f(T),f(I))};static \u0275cmp=k({type:n,selectors:[["po-number"]],hostBindings:function(t,i){t&1&&g("wheel",function(r){return i.onWheel(r)})},inputs:{step:[0,"p-step","step"],setMin:[0,"p-min","setMin"],setMax:[0,"p-max","setMax"]},standalone:!1,features:[W([{provide:Q,useExisting:z(()=>n),multi:!0},{provide:$,useExisting:z(()=>n),multi:!0}]),A],decls:8,vars:30,consts:[["inp",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],["class","po-field-icon-container-left",4,"ngIf"],["type","number",1,"po-input",3,"blur","focus","input","keydown","autocomplete","disabled","id","placeholder","readonly","required","tabindex"],[1,"po-field-icon-container-right"],["class","po-icon-input",3,"p-default-value","p-element-ref","p-size","p-change-event",4,"ngIf"],[3,"p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-limit","p-error-pattern","p-show-additional-help","p-show-additional-help-icon","p-additional-help",4,"ngIf"],[1,"po-field-icon-container-left"],[1,"po-field-icon","po-icon-input",3,"p-icon"],[1,"po-icon-input",3,"p-change-event","p-default-value","p-element-ref","p-size"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-limit","p-error-pattern","p-show-additional-help","p-show-additional-help-icon"]],template:function(t,i){if(t&1){let o=y();m(0,"po-field-container",1)(1,"div",2),v(2,Ms,2,5,"div",3),m(3,"input",4,0),g("blur",function(c){return p(o),d(i.onBlur(c))})("focus",function(c){return p(o),d(i.eventOnFocus(c))})("input",function(c){return p(o),d(i.eventOnInput(c))})("keydown",function(c){return p(o),d(i.onKeyDown(c))}),h(),m(5,"div",5),v(6,As,1,3,"po-clean",6),h()(),v(7,Ls,1,8,"po-field-container-bottom",7),h()}t&2&&(l("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),u(2),l("ngIf",i.icon),u(),P("po-input-icon-left",i.icon)("po-input-icon-left-aa",i.icon&&i.size==="small")("po-input-icon-right",i.clean)("po-input-icon-right-aa",i.clean&&i.size==="small")("po-input-aa",i.size==="small"),l("autocomplete",i.autocomplete)("disabled",i.disabled)("id",i.id)("placeholder",i.disabled?"":i.placeholder)("readonly",i.readonly)("required",i.required)("tabindex",i.disabled?-1:0),B("max",i.max)("min",i.min)("name",i.name)("step",i.step),u(3),l("ngIf",i.clean&&!i.disabled&&!i.readonly),u(),l("ngIf",!i.readonly))},dependencies:[M,xe,oe,J,te],encapsulation:2,changeDetection:0})}return n})();function Rs(n,s){if(n&1){let e=y();m(0,"po-clean",10),g("p-change-event",function(i){p(e);let o=a();return d(o.clear(i))}),h()}if(n&2){let e=a();l("p-element-ref",e.inputEl)("p-size",e.size)}}function Hs(n,s){if(n&1){let e=y();m(0,"po-icon",11),g("click",function(){p(e);let i=a();return d(i.showPassword())}),h()}if(n&2){let e=a();P("po-field-icon-aa",e.size==="small")("po-field-icon-disabled-aa",e.size==="small"),l("p-icon",e.visiblePassword?"ICON_EYE":"ICON_EYE_OFF")("ngClass",e.visiblePassword?"":"po-field-icon-disabled")}}function qs(n,s){if(n&1){let e=y();m(0,"po-field-container-bottom",12),g("p-additional-help",function(){p(e);let i=a();return d(i.emitAdditionalHelp())}),h()}if(n&2){let e=a();l("p-additional-help-tooltip",e.getAdditionalHelpTooltip())("p-help",e.help)("p-disabled",e.disabled)("p-error-limit",e.errorLimit)("p-error-pattern",e.getErrorPattern())("p-show-additional-help",e.displayAdditionalHelp)("p-show-additional-help-icon",e.showAdditionalHelpIcon())}}var kn=(()=>{class n extends Mt{poThemeService;id=`po-password[${ue()}]`;type="password";visiblePassword=!1;_hidePasswordPeek=!1;_noAutocompletePassword=!0;set hidePasswordPeek(e){this._hidePasswordPeek=_(e),e&&(this.visiblePassword=!1,this.type="password")}set noAutocomplete(e){this._noAutocompletePassword=_(e)}get noAutocomplete(){return this._noAutocompletePassword}get hidePasswordPeek(){return this._hidePasswordPeek}get autocomplete(){return this.noAutocomplete?"new-password":"on"}constructor(e,t,i){super(e,t,i),this.poThemeService=i}extraValidation(e){return null}showPassword(){this.visiblePassword=!this.visiblePassword,this.type=this.type==="password"?"text":"password"}static \u0275fac=function(t){return new(t||n)(f(D),f(T),f(I))};static \u0275cmp=k({type:n,selectors:[["po-password"]],inputs:{hidePasswordPeek:[0,"p-hide-password-peek","hidePasswordPeek"],noAutocomplete:[0,"p-no-autocomplete","noAutocomplete"]},standalone:!1,features:[W([{provide:Q,useExisting:z(()=>n),multi:!0},{provide:$,useExisting:z(()=>n),multi:!0}]),A],decls:10,vars:36,consts:[["inp",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],[1,"po-field-icon-container-left"],["p-icon","ICON_LOCK"],[1,"po-input","po-input-icon-left",3,"blur","click","focus","input","keydown","autocomplete","disabled","id","placeholder","readonly","required","type"],[1,"po-field-icon-container-right"],["class","po-icon-input",3,"p-element-ref","p-size","p-change-event",4,"ngIf"],["class","po-field-icon po-icon-input",3,"p-icon","po-field-icon-aa","ngClass","po-field-icon-disabled-aa","click",4,"ngIf"],[3,"p-additional-help-tooltip","p-help","p-disabled","p-error-limit","p-error-pattern","p-show-additional-help","p-show-additional-help-icon","p-additional-help",4,"ngIf"],[1,"po-icon-input",3,"p-change-event","p-element-ref","p-size"],[1,"po-field-icon","po-icon-input",3,"click","p-icon","ngClass"],[3,"p-additional-help","p-additional-help-tooltip","p-help","p-disabled","p-error-limit","p-error-pattern","p-show-additional-help","p-show-additional-help-icon"]],template:function(t,i){if(t&1){let o=y();m(0,"po-field-container",1)(1,"div",2)(2,"div",3),N(3,"po-icon",4),h(),m(4,"input",5,0),g("blur",function(c){return p(o),d(i.eventOnBlur(c))})("click",function(c){return p(o),d(i.eventOnClick(c))})("focus",function(c){return p(o),d(i.eventOnFocus(c))})("input",function(c){return p(o),d(i.eventOnInput(c))})("keydown",function(c){return p(o),d(i.onKeyDown(c))}),h(),m(6,"div",6),v(7,Rs,1,2,"po-clean",7)(8,Hs,1,6,"po-icon",8),h()(),v(9,qs,1,7,"po-field-container-bottom",9),h()}if(t&2){let o=L(5);l("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),u(3),Ge("po-field-icon ",i.disabled?"po-icon-input-disabled":"po-icon-input",""),P("po-field-icon-disabled",i.disabled)("po-field-icon-aa",i.size==="small"),u(),P("po-input-double-icon-right",i.clean&&o.value&&!i.hidePasswordPeek)("po-input-double-icon-right-aa",i.clean&&o.value&&!i.hidePasswordPeek&&i.size==="small")("po-input-icon-right",i.clean||!i.hidePasswordPeek)("po-input-icon-right-aa",(i.clean||!i.hidePasswordPeek)&&i.size==="small")("po-input-icon-left-aa",i.size==="small")("po-input-aa",i.size==="small"),l("autocomplete",i.autocomplete)("disabled",i.disabled)("id",i.id)("placeholder",i.disabled?"":i.placeholder)("readonly",i.readonly)("required",i.required)("type",i.disabled?"password":i.type),B("name",i.name),u(3),l("ngIf",i.clean&&!i.disabled&&!i.readonly),u(),l("ngIf",!i.hidePasswordPeek&&!i.disabled),u(),l("ngIf",!i.readonly)}},dependencies:[ce,M,xe,oe,J,te],encapsulation:2,changeDetection:0})}return n})();var ze=function(n){return n.Default="default",n.Error="error",n.Success="success",n}(ze||{});var _e=function(n){return n[n.Uploaded=0]="Uploaded",n[n.Uploading=1]="Uploading",n[n.Error=2]="Error",n[n.None=3]="None",n}(_e||{});var Ti=class{name;rawFile;status;uid;extension;size;displayName;percent;constructor(s){s&&(this.name=s.name,this.displayName=`${s.name} - ${this.getFileSize(s.size)}`,this.extension=this.getExtension(s.name),this.size=s.size,this.rawFile=s,this.uid=this.generateUUID(),this.status=_e.None)}getExtension(s){return s?s.substr(s.lastIndexOf(".")).toLowerCase():""}generateUUID(){function s(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return s()+s()+"-"+s()+"-"+s()+"-"+s()+"-"+s()+s()+s()}getFileSize(s){let e=0;return s&&(e=Math.ceil(s/1024)),`${e} KB`}};var In=(()=>{class n{http;formField="files";requests=[];constructor(e){this.http=e}upload(e,t,i,o,r,c,C){let V=t.length,q={data:{},extraFormData:{},file:null,url:e,headers:i};for(let ve=0;ve<V;ve++){let Be=new FormData,Ie=t[ve],lt=Ie.rawFile.name;Be.append(this.formField,Ie.rawFile,lt),o&&(q.file=Ie,o.emit(q),Object.keys(q.extraFormData).forEach(K=>{Be.append(K,q.extraFormData[K])}),Be.append("data",JSON.stringify(q.data)),e=q.url,i=q.headers),this.sendFile(e,Ie,i,Be,r,c,C)}}sendFile(e,t,i,o,r,c,C){let V=new me;V=this.getRequest(e,i,o).subscribe(q=>{if(q.type===to.UploadProgress){this.addRequest(t,V);let ve=Math.round(100*q.loaded/q.total);r(t,ve)}else q instanceof io&&c(t,q)},q=>{C(t,q)})}getRequest(e,t,i){let o=new bt(t),r=new eo("POST",e,i,{reportProgress:!0,headers:o});return this.http.request(r)}stopRequestByFile(e,t){let i=this.requests.find(o=>o.file.uid===e.uid);i&&(i.request.unsubscribe(),this.removeRequest(i),t())}removeRequest(e){let t=this.requests.indexOf(e);this.requests.splice(t,1)}addRequest(e,t){this.requests.some(o=>o.file.uid===e.uid)||this.requests.push({file:e,request:t})}static \u0275fac=function(t){return new(t||n)(Ee(Le))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var At=(()=>{class n extends In{static \u0275fac=(()=>{let e;return function(i){return(e||(e=_t(n)))(i||n)}})();static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var mt={en:{files:"files",folders:"folders",selectFile:"Select file",selectFiles:"Select files",selectFolder:"Select folder",startSending:"Start sending",dragFilesHere:"Drag files here",dragFoldersHere:"Drag folders here",selectFilesOnComputer:"or select files on your computer",selectFolderOnComputer:"or select folder on your computer",dropFilesHere:"Drop files here",dropFoldersHere:"Drop folders here",invalidDropArea:"{0} were not dropped in the correct area",invalidFileType:"Failed to load {0} file(s) as it is not the allowed file type.",invalidAmount:"Failed to load {0} file(s), as it exceeds the limit amount of files.",invalidFormat:"Failed to load {0} file(s), as it does not match the format(s): {1}.",invalidSize:"Failed to load {0} files(s), as it is not the allowed size: from {1} to {2}.",numberOfFilesAllowed:"{0} file(s) allowed",allowedFormats:"Accepted file formats: {0}.",allowedFileSizeRange:"Size limit per file: from {0} to {1}",maxFileSizeAllowed:"Size limit per file: {0} maximum",minFileSizeAllowed:"Size limit per file: {0} minimum",errorOccurred:"An error has occurred",sentWithSuccess:"Sent with success"},es:{files:"archivos",folders:"carpetas",selectFile:"Seleccionar archivo",selectFiles:"Seleccionar archivos",selectFolder:"Seleccionar carpeta",startSending:"Iniciar carga",dragFilesHere:"Arrastra los archivos aqu\xED",dragFoldersHere:"Arrastra las carpetas aqu\xED",selectFilesOnComputer:"o selecciona los archivos en tu computadora",selectFolderOnComputer:"o selecciona la carpeta en tu computadora",dropFilesHere:"Deja los archivos aqu\xED",dropFoldersHere:"Deja las carpetas aqu\xED",invalidDropArea:"Los {0} no se insertaron en la ubicaci\xF3n correcta",invalidFileType:"Error al cargar {0} archivo (s) ya que no es el tipo de archivo permitido",invalidAmount:"Error al cargar {0} archivo (s) ya que excede la cantidad limite de archivos.",invalidFormat:"Error al cargar {0} archivo (s) ya que no coincide con el formato (s): {1}.",invalidSize:"Error al cargar {0} archivo (s) ya que no cumple con el tama\xF1o permitido: desde {1} hasta {2}.",numberOfFilesAllowed:"{0} archivo(s) permitido(s)",allowedFormats:"Formatos aceptados: {0}.",allowedFileSizeRange:"Limite de tama\xF1o de archivo: desde {0} hasta {1}",maxFileSizeAllowed:"Limite de tama\xF1o de archivo: hasta {0}",minFileSizeAllowed:"Limite de tama\xF1o de archivo: minimo {0}",errorOccurred:"Ocurrio un error",sentWithSuccess:"Enviado con \xE9xito"},pt:{files:"arquivos",folders:"diret\xF3rios",selectFile:"Selecionar arquivo",selectFiles:"Selecionar arquivos",selectFolder:"Selecionar pasta",startSending:"Iniciar envio",dragFilesHere:"Arraste os arquivos aqui",dragFoldersHere:"Arraste as pastas aqui",selectFilesOnComputer:"ou selecione os arquivos no computador",selectFolderOnComputer:"ou selecione a pasta no computador",dropFilesHere:"Solte os arquivos aqui",dropFoldersHere:"Solte as pastas aqui",invalidDropArea:"Os {0} n\xE3o foram inseridos no local correto",invalidFileType:"Falha ao carregar {0} arquivo (s), pois n\xE3o \xE9 o tipo de arquivo permitido",invalidAmount:"Falha ao carregar {0} arquivo(s), pois excede(m) a quantidade limite de arquivos.",invalidFormat:"Falha ao carregar {0} arquivo(s), pois n\xE3o corresponde(m) ao(s) formato(s): {1}.",invalidSize:"Falha ao carregar {0} arquivo(s), pois n\xE3o atende ao tamanho permitido: {1} at\xE9 {2}.",numberOfFilesAllowed:"Quantidade m\xE1xima: {0} arquivo(s)",allowedFormats:"Formatos adotados: {0}.",allowedFileSizeRange:"Limite de tamanho por arquivo: de {0} at\xE9 {1}",maxFileSizeAllowed:"Limite de tamanho por arquivo: at\xE9 {0}",minFileSizeAllowed:"Limite de tamanho por arquivo: no m\xEDnimo {0}",errorOccurred:"Ocorreu um erro",sentWithSuccess:"Enviado com sucesso"},ru:{files:"\u0444\u0430\u0439\u043B\u044B",folders:"\u043F\u0430\u043F\u043A\u0438 \u0441 \u0444\u0430\u0439\u043B\u0430\u043C\u0438",selectFile:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043B",selectFiles:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043B\u044B",selectFolder:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0430\u043F\u043A\u0443 \u0441 \u0444\u0430\u0439\u043B\u0430\u043C\u0438",startSending:"\u041D\u0430\u0447\u0430\u0442\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0443",dragFilesHere:"\u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043B\u044B \u0441\u044E\u0434\u0430",dragFoldersHere:"\u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044E\u0434\u0430 \u043F\u0430\u043F\u043A\u0438",selectFilesOnComputer:"\u0438\u043B\u0438 \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043B\u044B \u043D\u0430 \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0435",selectFolderOnComputer:"\u0438\u043B\u0438 \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043F\u0430\u043F\u043A\u0443 \u043D\u0430 \u0432\u0430\u0448\u0435\u043C \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0435",dropFilesHere:"\u041E\u0441\u0442\u0430\u0432\u044C\u0442\u0435 \u0444\u0430\u0439\u043B\u044B \u0437\u0434\u0435\u0441\u044C",dropFoldersHere:"\u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0441\u044E\u0434\u0430 \u043F\u0430\u043F\u043A\u0438",invalidDropArea:"{0} \u043D\u0435 \u0431\u044B\u043B\u0438 \u0432\u0441\u0442\u0430\u0432\u043B\u0435\u043D\u044B \u0432 \u043F\u0440\u0430\u0432\u0438\u043B\u044C\u043D\u043E\u043C \u043C\u0435\u0441\u0442\u0435.",invalidFileType:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0444\u0430\u0439\u043B\u044B {0}, \u0442\u0430\u043A \u043A\u0430\u043A \u044D\u0442\u043E \u043D\u0435\u0432\u0435\u0440\u043D\u044B\u0439 \u0442\u0438\u043F \u0444\u0430\u0439\u043B\u0430",invalidAmount:"N\xE3o foi poss\xEDvel carregar os arquivos {0} porque eles excederam o limite de arquivos.",invalidFormat:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0444\u0430\u0439\u043B\u044B {0}, \u0442\u0430\u043A \u043A\u0430\u043A \u043E\u043D\u0438 \u043D\u0435 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044E\u0442 \u0444\u043E\u0440\u043C\u0430\u0442\u0443 (\u0430\u043C): {1}.",invalidSize:"\u041D\u0435 \u0443\u0434\u0430\u043B\u043E\u0441\u044C \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0444\u0430\u0439\u043B\u044B {0}, \u043F\u043E\u0441\u043A\u043E\u043B\u044C\u043A\u0443 \u043E\u043D\u0438 \u043D\u0435 \u0441\u043E\u043E\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u044E\u0442 \u0440\u0430\u0437\u0440\u0435\u0448\u0435\u043D\u043D\u043E\u043C\u0443 \u0440\u0430\u0437\u043C\u0435\u0440\u0443: \u043E\u0442 {1} \u0434\u043E {2}.",numberOfFilesAllowed:"\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u043E\u0435 \u043A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E: {0} \u0444\u0430\u0439\u043B\u043E\u0432",allowedFormats:"\u0424\u043E\u0440\u043C\u0430\u0442\u044B \u043F\u0440\u0438\u043D\u044F\u0442\u044B: {0}.",allowedFileSizeRange:"\u041E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u0438\u0435 \u0440\u0430\u0437\u043C\u0435\u0440\u0430 \u0444\u0430\u0439\u043B\u0430: \u043E\u0442 {0} \u0434\u043E {1}",maxFileSizeAllowed:"\u041E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u0438\u0435 \u0440\u0430\u0437\u043C\u0435\u0440\u0430 \u0444\u0430\u0439\u043B\u0430: \u0434\u043E {0}",minFileSizeAllowed:"\u041E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u0438\u0435 \u0440\u0430\u0437\u043C\u0435\u0440\u0430 \u0444\u0430\u0439\u043B\u0430: \u043D\u0435 \u043C\u0435\u043D\u0435\u0435 {0}",errorOccurred:"\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430.",sentWithSuccess:"\u0423\u0441\u043F\u0435\u0448\u043D\u043E \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E"}},Bs="files",Ns=31457280,js=0,An=(()=>{class n{poThemeService;uploadService;additionalHelpEventTrigger;additionalHelpTooltip;appendBox=!1;autoFocus=!1;dragDropHeight;label;help;url;name="file";autoUpload=!1;disabledRemoveFile=!1;optional;headers;requiredUrl=!0;additionalHelp=new b;customAction;customActionClick=new b;keydown=new b;onUpload=new b;onError=new b;onSuccess=new b;ngModelChange=new b;allowedExtensions;currentFiles;canHandleDirectory;displayAdditionalHelp=!1;onModelChange;extensionNotAllowed=0;quantityNotAllowed=0;sizeNotAllowed=0;onModelTouched=null;_directory;_disabled;_dragDrop=!1;_fileRestrictions;_formField;_hideRestrictionsInfo;_hideSelectButton;_hideSendButton;_isMultiple;_literals;_required;_size=void 0;language;validatorChange;set directory(e){this._directory=_(e),this.canHandleDirectory=this._directory&&!fo()&&!st(),this.setDirectoryAttribute(this.canHandleDirectory)}get directory(){return this._directory}set dragDrop(e){this._dragDrop=_(e)}get dragDrop(){return this._dragDrop}set hideRestrictionsInfo(e){this._hideRestrictionsInfo=_(e)}get hideRestrictionsInfo(){return this._hideRestrictionsInfo}set hideSelectButton(e){this._hideSelectButton=_(e)}get hideSelectButton(){return this._hideSelectButton}set hideSendButton(e){this._hideSendButton=_(e)}get hideSendButton(){return this._hideSendButton}set literals(e){e instanceof Object&&!(e instanceof Array)?this._literals=w(w(w({},mt[re]),mt[this.language]),e):this._literals=mt[this.language]}get literals(){return this._literals||mt[this.language]}set fileRestrictions(e){this._fileRestrictions=this.initRestrictions(e),this.setAllowedExtensions(e)}get fileRestrictions(){return this._fileRestrictions}set formField(e){this._formField=e&&typeof e=="string"?e:Bs,this.getUploadService().formField=this.formField}get formField(){return this._formField}set disabled(e){this._disabled=_(e),this.validateModel(this.currentFiles)}get disabled(){return this._disabled}set isMultiple(e){this._isMultiple=_(e)}get isMultiple(){return this.canHandleDirectory?!0:this._isMultiple}set required(e){this._required=_(e),this.validateModel(this.currentFiles)}get required(){return this._required}showRequired=!1;set size(e){this._size=ie(e,this.poThemeService,j)}get size(){return this._size??Y(this.poThemeService,j)}constructor(e,t,i){this.poThemeService=e,this.uploadService=t,this.language=i.getShortLanguage()}setDisabledState(e){this.disabled=e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}registerOnValidatorChange(e){this.validatorChange=e}validate(e){if(he(this.required,this.disabled,e.value))return{required:{valid:!1}}}writeValue(e){e?_o(this.currentFiles,e)||(this.currentFiles=this.parseFiles(e)):this.currentFiles=void 0}isExceededFileLimit(e){return this.isMultiple&&this.fileRestrictions&&this.fileRestrictions.maxFiles>0&&this.fileRestrictions.maxFiles<=e}parseFiles(e){let t=this.currentFiles||[],i=e.length;for(let o=0;o<i;o++){if(this.isExceededFileLimit(t.length)){this.quantityNotAllowed=i-this.fileRestrictions.maxFiles;break}let r=new Ti(e[o]);this.checkRestrictions(r)&&(t=this.insertFileInFiles(r,t))}return this.sendFeedback(),t}validateModel(e){this.validatorChange&&this.validatorChange(e)}checkRestrictions(e){let t=this.fileRestrictions;if(t){let i=t.allowedExtensions,o=t.minFileSize,r=t.maxFileSize,c=i?this.isAllowedExtension(e.extension,i):!0,C=e.size>=o&&e.size<=r;return C||(this.sizeNotAllowed=this.sizeNotAllowed+1),c&&C}return!0}existsFileSameName(e,t){return t.some(i=>e.name===i.name)}getUploadService(){return this.uploadService}insertFileInFiles(e,t){return this.existsFileSameName(e,t)?this.updateExistsFileInFiles(e,t):(this.isMultiple?t.push(e):t.splice(0,t.length,e),t)}isAllowedExtension(e,t=[]){let i=t.some(o=>o.toLowerCase()===e);return i||(this.extensionNotAllowed=this.extensionNotAllowed+1),i}setAllowedExtensions(e={}){let t=e.allowedExtensions||[];this.allowedExtensions=t.join(",")}initRestrictions(e){if(!e)return;let t=e.minFileSize||js,i=e.maxFileSize||Ns;return Ne(w({},e),{maxFileSize:i,minFileSize:t})}updateExistsFileInFiles(e,t){let i=t.findIndex(o=>e.name===o.name&&o.status!==_e.Uploaded);return i!==-1&&t.splice(i,1,e),t}static \u0275fac=function(t){return new(t||n)(f(I),f(At),f(H))};static \u0275dir=O({type:n,hostVars:1,hostBindings:function(t,i){t&2&&B("p-required-url",i.requiredUrl)},inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],appendBox:[2,"p-append-in-body","appendBox",_],autoFocus:[2,"p-auto-focus","autoFocus",_],dragDropHeight:[0,"p-drag-drop-height","dragDropHeight"],label:[0,"p-label","label"],help:[0,"p-help","help"],url:[0,"p-url","url"],name:"name",autoUpload:[0,"p-auto-upload","autoUpload"],disabledRemoveFile:[2,"p-disabled-remove-file","disabledRemoveFile",_],optional:[0,"p-optional","optional"],headers:[0,"p-headers","headers"],requiredUrl:[2,"p-required-url","requiredUrl",_],customAction:[0,"p-custom-action","customAction"],directory:[0,"p-directory","directory"],dragDrop:[0,"p-drag-drop","dragDrop"],hideRestrictionsInfo:[0,"p-hide-restrictions-info","hideRestrictionsInfo"],hideSelectButton:[0,"p-hide-select-button","hideSelectButton"],hideSendButton:[0,"p-hide-send-button","hideSendButton"],literals:[0,"p-literals","literals"],fileRestrictions:[0,"p-restrictions","fileRestrictions"],formField:[0,"p-form-field","formField"],disabled:[0,"p-disabled","disabled"],isMultiple:[0,"p-multiple","isMultiple"],required:[0,"p-required","required"],showRequired:[0,"p-show-required","showRequired"],size:[0,"p-size","size"]},outputs:{additionalHelp:"p-additional-help",customActionClick:"p-custom-action-click",keydown:"p-keydown",onUpload:"p-upload",onError:"p-error",onSuccess:"p-success",ngModelChange:"ngModelChange"},features:[G]})}return n})();var Ws=["selectFilesLink"],Us=n=>({"po-upload-drag-drop-area-disabled":n}),Ks=n=>({"po-clickable":n});function Gs(n,s){n&1&&ee(0)}function Qs(n,s){if(n&1&&(N(0,"po-icon",6),m(1,"div",7),R(2),h()),n&2){let e=a();u(2),U(" ",e.directoryCompatible?e.literals==null?null:e.literals.dropFoldersHere:e.literals==null?null:e.literals.dropFilesHere," ")}}function $s(n,s){if(n&1){let e=y();N(0,"po-icon",8),m(1,"div",9),R(2),h(),m(3,"button",10,2),g("click",function(){p(e);let i=a();return d(i.selectFiles.emit())}),R(5),h()}if(n&2){let e=a();u(2),U(" ",e.directoryCompatible?e.literals==null?null:e.literals.dragFoldersHere:e.literals==null?null:e.literals.dragFilesHere," "),u(),l("disabled",e.disabled)("ngClass",Qe(4,Ks,!e.disabled)),u(2),U(" ",e.directoryCompatible?e.literals==null?null:e.literals.selectFolderOnComputer:e.literals==null?null:e.literals.selectFilesOnComputer," ")}}var Lt=(()=>{class n{elementRef;directoryCompatible;disabled;height;literals;overlay;selectFiles=new b;selectFilesLinkElement;constructor(e){this.elementRef=e}focus(){this.selectFilesLinkElement.nativeElement.focus()}static \u0275fac=function(t){return new(t||n)(f(D))};static \u0275cmp=k({type:n,selectors:[["po-upload-drag-drop-area"]],viewQuery:function(t,i){if(t&1&&x(Ws,5),t&2){let o;F(o=S())&&(i.selectFilesLinkElement=o.first)}},inputs:{directoryCompatible:[0,"p-directory-compatible","directoryCompatible"],disabled:[0,"p-disabled","disabled"],height:[0,"p-height","height"],literals:[0,"p-literals","literals"],overlay:[0,"p-overlay","overlay"]},outputs:{selectFiles:"p-select-files"},standalone:!1,decls:7,vars:8,consts:[["overlayTemplate",""],["defaultTemplate",""],["selectFilesLink",""],[1,"po-upload-drag-drop-area",3,"ngClass"],[1,"po-upload-drag-drop-area-container"],[4,"ngIf","ngIfThen","ngIfElse"],["p-icon","ICON_UPLOAD_CLOUD",1,"po-upload-drag-drop-area-overlay-icon"],[1,"po-upload-drag-drop-area-overlay-label"],["p-icon","ICON_UPLOAD_CLOUD",1,"po-upload-drag-drop-area-icon"],[1,"po-upload-drag-drop-area-label"],[1,"po-upload-drag-drop-area-select-files",3,"click","disabled","ngClass"]],template:function(t,i){if(t&1&&(m(0,"div",3)(1,"div",4),v(2,Gs,1,0,"ng-container",5),h()(),v(3,Qs,3,1,"ng-template",null,0,X)(5,$s,6,6,"ng-template",null,1,X)),t&2){let o=L(4),r=L(6);Zt("height",i.height,"px"),l("ngClass",Qe(6,Us,i.disabled)),u(2),l("ngIf",i.overlay&&!i.disabled)("ngIfThen",o)("ngIfElse",r)}},dependencies:[ce,M,te],encapsulation:2,changeDetection:0})}return n})();var On=(()=>{class n{i18nPipe;notification;areaElement;directoryCompatible;disabled;literals;dragLeave=new b;dragOver=new b;fileChange=new b;timeout;files;invalidFileType;constructor(e,t){this.i18nPipe=e,this.notification=t}onDragLeave(e){e.preventDefault(),e.stopPropagation(),this.timeout=setTimeout(()=>this.dragLeave.emit(),30)}onDragOver(e){e.preventDefault(),e.stopPropagation(),clearTimeout(this.timeout),this.disabled||this.dragOver.emit()}onDrop(e){e.preventDefault(),e.stopPropagation(),this.getFilesFromDataTransferItems(e),this.dragLeave.emit()}getFilesFromDataTransferItems(e){if(!this.disabled)if(this.invalidFileType=0,this.directoryCompatible)this.getOnlyDirectories(e.dataTransfer.items).then(()=>{this.sendFiles(e,this.files)});else{let t=this.getOnlyFiles(e.dataTransfer);this.sendFiles(e,t)}}getFilesFromEntry(e){return tt(this,null,function*(){if(e.isFile)return[yield this.readFile(e)];if(e.isDirectory)return yield this.readDirectory(e)})}getOnlyDirectories(e){return tt(this,null,function*(){let t=[];for(let i of e)t.push(i.webkitGetAsEntry());this.files=[];for(let i of t)if(i.isFile)this.invalidFileType++;else{let o=yield this.getFilesFromEntry(i);this.files=this.files.concat(o)}})}getOnlyFiles(e){let t=Array.from(e.files),i=Array.from(e.items).map(o=>o.webkitGetAsEntry());return t.reduce((o,r)=>i.find(C=>C.name===r.name).isFile?o.concat(r):(this.invalidFileType++,o),[])}readFile(e){return new Promise(t=>{e.file(i=>{t(i)})})}readDirectory(e){return tt(this,null,function*(){let t=e.createReader(),i=[],o=yield this.readDirectoryEntries(t);return i=i.concat(o),i})}readDirectoryEntries(e){return new Promise(t=>{e.readEntries(i=>tt(this,null,function*(){let o=[];for(let r of i){let c=yield this.getFilesFromEntry(r);o=o.concat(c)}t(o)}))})}sendFeedback(e){e&&this.setPipeArguments("invalidFileType",e)}sendFiles(e,t){if(this.areaElement.contains(e.target))t.length>0&&this.fileChange.emit(t),this.sendFeedback(this.invalidFileType);else{let i=this.directoryCompatible?this.literals.folders:this.literals.files;this.setPipeArguments("invalidDropArea",i)}}setPipeArguments(e,t){let i=this.i18nPipe.transform(this.literals[e],t);this.notification.information(i)}static \u0275fac=function(t){return new(t||n)(f(Ye),f(li))};static \u0275dir=O({type:n,selectors:[["","p-upload-drag-drop",""]],hostBindings:function(t,i){t&1&&g("dragleave",function(r){return i.onDragLeave(r)},!1,Jt)("dragover",function(r){return i.onDragOver(r)},!1,Jt)("drop",function(r){return i.onDrop(r)},!1,Jt)},inputs:{areaElement:[0,"p-area-element","areaElement"],directoryCompatible:[0,"p-directory-compatible","directoryCompatible"],disabled:[0,"p-disabled","disabled"],literals:[0,"p-literals","literals"]},outputs:{dragLeave:"p-drag-leave",dragOver:"p-drag-over",fileChange:"p-file-change"},standalone:!1,features:[W([Ye])]})}return n})();var Xs=["DragDropAreaFixed"],Rn=(()=>{class n{renderer;DragDropAreaFixed;directoryCompatible;disabled;literals;target;areaElement=new b;constructor(e){this.renderer=e}ngAfterViewInit(){this.target&&this.setPosition(this.target),this.areaElement.emit(this.DragDropAreaFixed.nativeElement)}setPosition(e){let t=e.nativeElement.getBoundingClientRect();["bottom","left","height","right","top","width"].forEach(o=>{let r=t[o];this.renderer.setStyle(this.DragDropAreaFixed.nativeElement,o,`${r}px`)})}static \u0275fac=function(t){return new(t||n)(f(Fe))};static \u0275cmp=k({type:n,selectors:[["po-upload-drag-drop-area-overlay"]],viewQuery:function(t,i){if(t&1&&x(Xs,7,D),t&2){let o;F(o=S())&&(i.DragDropAreaFixed=o.first)}},inputs:{directoryCompatible:[0,"p-directory-compatible","directoryCompatible"],disabled:[0,"p-disabled","disabled"],literals:[0,"p-literals","literals"],target:[0,"p-target","target"]},outputs:{areaElement:"p-area-element"},standalone:!1,decls:3,vars:4,consts:[["DragDropAreaFixed",""],[1,"po-overlay-fixed"],[1,"po-upload-drag-drop-area-overlay",3,"p-directory-compatible","p-disabled","p-literals","p-overlay"]],template:function(t,i){t&1&&(m(0,"div",1),N(1,"po-upload-drag-drop-area",2,0),h()),t&2&&(u(),l("p-directory-compatible",i.directoryCompatible)("p-disabled",i.disabled)("p-literals",i.literals)("p-overlay",!0))},dependencies:[Lt],encapsulation:2,changeDetection:0})}return n})();var el=["dragDropOverlay"];function tl(n,s){if(n&1){let e=y();m(0,"po-upload-drag-drop-area-overlay",3,0),g("p-area-element",function(i){p(e);let o=a();return d(o.onAreaElement(i))}),h()}if(n&2){let e=a();l("p-directory-compatible",e.directoryCompatible)("p-disabled",e.disabled)("p-literals",e.literals)("p-target",e.dragDropAreaComponent.elementRef)}}var Hn=320,qn=160,Pi=(()=>{class n{changeDetector;dragDropOverlayElement;dragDropAreaComponent;directoryCompatible;disabled;literals;fileChange=new b;selectFiles=new b;areaElement;isDragOver=!1;_dragDropHeight=Hn;set dragDropHeight(e){let t=Re(e,Hn);this._dragDropHeight=t<qn?qn:t}get dragDropHeight(){return this._dragDropHeight}constructor(e){this.changeDetector=e}focus(){this.dragDropAreaComponent.focus()}onAreaElement(e){this.areaElement=e,this.changeDetector.detectChanges()}onDragLeave(){this.isDragOver=!1}onDragOver(){this.isDragOver=!0}onFileChange(e){this.isDragOver=!1,this.fileChange.emit(e)}static \u0275fac=function(t){return new(t||n)(f(T))};static \u0275cmp=k({type:n,selectors:[["po-upload-drag-drop"]],viewQuery:function(t,i){if(t&1&&(x(el,5,D),x(Lt,7)),t&2){let o;F(o=S())&&(i.dragDropOverlayElement=o.first),F(o=S())&&(i.dragDropAreaComponent=o.first)}},inputs:{directoryCompatible:[0,"p-directory-compatible","directoryCompatible"],disabled:[0,"p-disabled","disabled"],literals:[0,"p-literals","literals"],dragDropHeight:[0,"p-drag-drop-height","dragDropHeight"]},outputs:{fileChange:"p-file-change",selectFiles:"p-select-files"},standalone:!1,decls:2,vars:7,consts:[["dragDropOverlay",""],[3,"p-directory-compatible","p-disabled","p-literals","p-target","p-area-element",4,"ngIf"],["p-upload-drag-drop","",3,"p-drag-leave","p-drag-over","p-file-change","p-select-files","p-area-element","p-directory-compatible","p-disabled","p-height","p-literals","p-overlay"],[3,"p-area-element","p-directory-compatible","p-disabled","p-literals","p-target"]],template:function(t,i){t&1&&(v(0,tl,2,4,"po-upload-drag-drop-area-overlay",1),m(1,"po-upload-drag-drop-area",2),g("p-drag-leave",function(){return i.onDragLeave()})("p-drag-over",function(){return i.onDragOver()})("p-file-change",function(r){return i.onFileChange(r)})("p-select-files",function(){return i.selectFiles.emit()}),h()),t&2&&(l("ngIf",i.isDragOver),u(),l("p-area-element",i.areaElement)("p-directory-compatible",i.directoryCompatible)("p-disabled",i.disabled)("p-height",i.dragDropHeight)("p-literals",i.literals)("p-overlay",!1))},dependencies:[M,On,Rn,Lt],encapsulation:2,changeDetection:0})}return n})();var zn={en:{cancel:"Cancel",retry:"Retry"},es:{cancel:"Cancelar",retry:"Procesar de nuevo"},pt:{cancel:"Cancelar",retry:"Tentar Novamente"},ru:{cancel:"\u041E\u0442\u043C\u0435\u043D\u0430",retry:"\u041F\u043E\u0432\u0442\u043E\u0440\u0438\u0442\u044C \u043F\u043E\u043F\u044B\u0442\u043A\u0443"}};var Kt=function(n){return n.medium="medium",n.large="large",n}(Kt||{});var ol=100,Ni=0,Bn=(()=>{class n{poThemeService;disabledCancel=!1;info;infoIcon;status=ze.Default;text;customAction;customActionClick=new b;cancel=new b;retry=new b;_indeterminate;_value=0;_size="large";_sizeActions=void 0;set indeterminate(e){this._indeterminate=_(e)}get indeterminate(){return this._indeterminate}set value(e){let t=Re(e,Ni),i=this.isProgressRangeValue(t);this._value=i?t:Ni}get value(){return this._value}set size(e){this._size=Kt[e]?Kt[e]:Kt.large}get size(){return this._size}set sizeActions(e){this._sizeActions=ie(e,this.poThemeService,j)}get sizeActions(){return this._sizeActions??Y(this.poThemeService,j)}showPercentage=!1;constructor(e){this.poThemeService=e}isProgressRangeValue(e){return e>=Ni&&e<=ol}static \u0275fac=function(t){return new(t||n)(f(I))};static \u0275dir=O({type:n,inputs:{disabledCancel:[2,"p-disabled-cancel","disabledCancel",_],info:[0,"p-info","info"],infoIcon:[0,"p-info-icon","infoIcon"],status:[0,"p-status","status"],text:[0,"p-text","text"],customAction:[0,"p-custom-action","customAction"],indeterminate:[0,"p-indeterminate","indeterminate"],value:[0,"p-value","value"],size:[0,"p-size","size"],sizeActions:[0,"p-size-actions","sizeActions"],showPercentage:[2,"p-show-percentage","showPercentage",_]},outputs:{customActionClick:"p-custom-action-click",cancel:"p-cancel",retry:"p-retry"},features:[G]})}return n})();function nl(n,s){if(n&1&&(m(0,"div",2),N(1,"div",3)(2,"div",4),h()),n&2){let e=a();B("aria-valuenow",e.value),u(2),Zt("left","-"+(100-e.value)+"%")}}function rl(n,s){n&1&&(m(0,"div",5),N(1,"div",6),h())}var Nn=(()=>{class n{indeterminate;value;get valueScale(){return`${this.value/100}`}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-progress-bar"]],inputs:{indeterminate:[0,"p-indeterminate","indeterminate"],value:[0,"p-value","value"]},standalone:!1,decls:2,vars:2,consts:[["role","progressbar","aria-valuemin","0","aria-valuemax","100","aria-live","polite","class","po-progress-bar-default",4,"ngIf"],["class","po-progress-bar-indeterminate-track",4,"ngIf"],["role","progressbar","aria-valuemin","0","aria-valuemax","100","aria-live","polite",1,"po-progress-bar-default"],[1,"po-progress-bar-element","po-progress-bar-primary"],[1,"po-progress-bar-element","po-progress-bar-secondary"],[1,"po-progress-bar-indeterminate-track"],[1,"po-progress-bar-indeterminate-track-bar"]],template:function(t,i){t&1&&v(0,nl,3,3,"div",0)(1,rl,2,0,"div",1),t&2&&(l("ngIf",!i.indeterminate),u(),l("ngIf",i.indeterminate))},dependencies:[M],encapsulation:2,changeDetection:0})}return n})();function sl(n,s){if(n&1&&(m(0,"div",13),N(1,"po-label",14),h()),n&2){let e=a();u(),l("p-label",e.text)}}function ll(n,s){if(n&1&&N(0,"po-icon",15),n&2){let e=a();P("po-progress-info-icon-error",e.status==="error"),l("p-icon",e.infoIcon)}}function pl(n,s){n&1&&N(0,"po-icon",16)}function dl(n,s){if(n&1&&(m(0,"span",17),R(1),h()),n&2){let e=a();P("po-progress-info-text-error",e.status==="error"),u(),Me(e.info)}}function cl(n,s){if(n&1&&(m(0,"span"),R(1),h()),n&2){let e=a();u(),U("",e.value,"%")}}function ul(n,s){if(n&1){let e=y();m(0,"po-button",18),g("p-click",function(){p(e);let i=a();return d(i.emitRetry())}),h()}if(n&2){let e=a();l("p-aria-label",e.literals.retry)("p-size",e.sizeActions)}}function hl(n,s){if(n&1){let e=y();m(0,"po-button",19),g("p-click",function(){p(e);let i=a();return d(i.callAction())}),h()}if(n&2){let e=a();l("p-danger",e.customAction.type==="danger")("p-disabled",e.actionIsDisabled(e.customAction))("p-label",e.customAction.label||"")("p-icon",e.customAction.icon)("p-size",e.sizeActions)}}function ml(n,s){if(n&1){let e=y();m(0,"po-button",20),g("p-click",function(){p(e);let i=a();return d(i.emitCancellation())}),h()}if(n&2){let e=a();l("p-disabled",e.disabledCancel)("p-aria-label",e.literals.cancel)("p-danger",!0)("p-size",e.sizeActions)}}var jn=(()=>{class n extends Bn{poThemeService;language;literals;get isAllowCancel(){return!!this.cancel.observers.length&&this.status!==ze.Success}get isAllowInfoError(){return!!(!this.infoIcon&&this.info&&this.status===ze.Error)}get isAllowRetry(){return!!this.retry.observers.length&&this.status===ze.Error}get statusClass(){return this.status===ze.Success?"po-progress-success":this.status===ze.Error?"po-progress-error":"po-progress-default"}poLanguageService=zt(H);router=zt(po);constructor(e){super(e),this.poThemeService=e}ngOnInit(){this.language=this.poLanguageService.getShortLanguage(),this.literals=w({},zn[this.language])}emitCancellation(){this.cancel.emit(this.status)}emitRetry(){this.retry.emit()}actionIsDisabled(e){return ae(e.disabled,"function")?e.disabled(e):e.disabled}callAction(){this.customActionClick.emit()}isActionVisible(e){if(e&&(e.label||e.icon))return e.visible!==void 0?ae(e.visible,"function")?e.visible():!!e.visible:!0}static \u0275fac=function(t){return new(t||n)(f(I))};static \u0275cmp=k({type:n,selectors:[["po-progress"]],standalone:!1,features:[A],decls:13,vars:14,consts:[[1,"po-progress",3,"ngClass"],["class","po-progress-description",4,"ngIf"],[3,"p-indeterminate","p-value"],[1,"po-progress-info"],[1,"po-progress-info-left"],[3,"p-icon","po-progress-info-icon-error",4,"ngIf"],["p-icon","ICON_EXCLAMATION","class","po-progress-info-icon-error",4,"ngIf"],["class","po-progress-info-text",3,"po-progress-info-text-error",4,"ngIf"],[1,"po-progress-info-right"],[4,"ngIf"],["p-icon","ICON_REFRESH","p-kind","tertiary",3,"p-aria-label","p-size","p-click",4,"ngIf"],["class","po-progress-custom-button",3,"p-danger","p-disabled","p-label","p-icon","p-size","p-click",4,"ngIf"],["p-icon","ICON_CLOSE","p-kind","secondary",3,"p-disabled","p-aria-label","p-danger","p-size","p-click",4,"ngIf"],[1,"po-progress-description"],[3,"p-label"],[3,"p-icon"],["p-icon","ICON_EXCLAMATION",1,"po-progress-info-icon-error"],[1,"po-progress-info-text"],["p-icon","ICON_REFRESH","p-kind","tertiary",3,"p-click","p-aria-label","p-size"],[1,"po-progress-custom-button",3,"p-click","p-danger","p-disabled","p-label","p-icon","p-size"],["p-icon","ICON_CLOSE","p-kind","secondary",3,"p-click","p-disabled","p-aria-label","p-danger","p-size"]],template:function(t,i){t&1&&(m(0,"div",0),v(1,sl,2,1,"div",1),N(2,"po-progress-bar",2),m(3,"div",3)(4,"div",4),v(5,ll,1,3,"po-icon",5)(6,pl,1,0,"po-icon",6)(7,dl,2,3,"span",7),h(),m(8,"div",8),v(9,cl,2,1,"span",9)(10,ul,1,2,"po-button",10)(11,hl,1,5,"po-button",11)(12,ml,1,4,"po-button",12),h()()()),t&2&&(l("ngClass",i.statusClass),u(),l("ngIf",i.text),u(),Ge("po-progress-bar po-progress-bar-",i.size,""),l("p-indeterminate",i.indeterminate)("p-value",i.value),u(3),l("ngIf",i.infoIcon),u(),l("ngIf",i.isAllowInfoError),u(),l("ngIf",i.info),u(2),l("ngIf",i.showPercentage&&!i.indeterminate),u(),l("ngIf",i.isAllowRetry),u(),l("ngIf",i.isActionVisible(i.customAction)),u(),l("ngIf",i.isAllowCancel))},dependencies:[ce,M,Pt,te,To,Nn],encapsulation:2,changeDetection:0})}return n})();var gl=(n,s)=>[n,s];function _l(n,s){if(n&1&&(m(0,"p",1),R(1),vt(2,"poI18n"),h()),n&2){let e=a();u(),U(" ",yt(2,1,e.literals==null?null:e.literals.numberOfFilesAllowed,e.maxFiles),`
`)}}function vl(n,s){if(n&1&&(m(0,"p",1),R(1),vt(2,"poI18n"),h()),n&2){let e=a();u(),U(" ",yt(2,1,e.literals==null?null:e.literals.allowedFormats,e.allowedExtensions),`
`)}}function yl(n,s){if(n&1&&(m(0,"span"),R(1),vt(2,"poI18n"),h()),n&2){let e=a(2);u(),U(" ",yt(2,1,e.literals==null?null:e.literals.allowedFileSizeRange,Xi(4,gl,e.minFileSize,e.maxFileSize))," ")}}function bl(n,s){if(n&1&&(m(0,"span"),R(1),vt(2,"poI18n"),h()),n&2){let e=a(2);u(),U(" ",yt(2,1,e.literals==null?null:e.literals.minFileSizeAllowed,e.minFileSize)," ")}}function Cl(n,s){if(n&1&&(m(0,"span"),R(1),vt(2,"poI18n"),h()),n&2){let e=a(2);u(),U(" ",yt(2,1,e.literals==null?null:e.literals.maxFileSizeAllowed,e.maxFileSize)," ")}}function wl(n,s){if(n&1&&(m(0,"p",1)(1,"span"),R(2),h(),v(3,yl,3,7,"span",2)(4,bl,3,4,"span",2)(5,Cl,3,4,"span",2),h()),n&2){let e=a();u(2),Me(e.literals==null?null:e.literals.allowedSizes),u(),l("ngIf",e.minFileSize&&e.maxFileSize),u(),l("ngIf",e.minFileSize&&!e.maxFileSize),u(),l("ngIf",e.maxFileSize&&!e.minFileSize)}}var Wn=(()=>{class n{changeDetector;maxFiles;literals;_allowedExtensions;_maxFileSize;_minFileSize;language;set allowedExtensions(e){this._allowedExtensions=this.formatAllowedExtensions(e)}get allowedExtensions(){return this._allowedExtensions}set maxFileSize(e){this._maxFileSize=Vt(e)}get maxFileSize(){return this._maxFileSize}set minFileSize(e){this._minFileSize=Vt(e)}get minFileSize(){return this._minFileSize}constructor(e,t){this.changeDetector=e,this.language=t.getShortLanguage()}ngOnInit(){this.setLiterals()}formatAllowedExtensions(e){let t={pt:"e",en:"and",es:"y",ru:"\u0438"};return e?e.join(", ").toUpperCase().replace(/,(?=[^,]*$)/,` ${t[this.language]}`):void 0}setLiterals(){this.literals=w(w({},mt[re]),mt[this.language]),this.changeDetector.detectChanges()}static \u0275fac=function(t){return new(t||n)(f(T),f(H))};static \u0275cmp=k({type:n,selectors:[["po-upload-file-restrictions"]],inputs:{maxFiles:[0,"p-max-files","maxFiles"],allowedExtensions:[0,"p-allowed-extensions","allowedExtensions"],maxFileSize:[0,"p-max-file-size","maxFileSize"],minFileSize:[0,"p-min-file-size","minFileSize"]},standalone:!1,decls:3,vars:3,consts:[["class","po-font-text-small",4,"ngIf"],[1,"po-font-text-small"],[4,"ngIf"]],template:function(t,i){t&1&&v(0,_l,3,4,"p",0)(1,vl,3,4,"p",0)(2,wl,6,4,"p",0),t&2&&(l("ngIf",i.maxFiles>1),u(),l("ngIf",i.allowedExtensions),u(),l("ngIf",i.minFileSize||i.maxFileSize))},dependencies:[M,Ye],encapsulation:2,changeDetection:0})}return n})();var Fl=["inputFile"],Sl=["uploadButton"],xl=n=>({"po-upload-file-restrictions-drag-drop":n}),Tl=n=>({"po-upload-progress-container-area po-pt-2 po-pl-1":n});function Pl(n,s){if(n&1){let e=y();m(0,"po-upload-drag-drop",12),g("p-file-change",function(i){p(e);let o=a();return d(o.onFileChangeDragDrop(i))})("p-select-files",function(){p(e);let i=a();return d(i.selectFiles())}),h()}if(n&2){let e=a();l("p-directory-compatible",e.canHandleDirectory)("p-disabled",e.isDisabled)("p-drag-drop-height",e.dragDropHeight)("p-literals",e.literals)}}function El(n,s){if(n&1){let e=y();m(0,"po-button",13,1),g("p-blur",function(){p(e);let i=a();return d(i.onBlur())})("p-click",function(){p(e);let i=a();return d(i.selectFiles())})("keydown",function(i){p(e);let o=a();return d(o.onKeyDown(i))}),h()}if(n&2){let e=a();l("p-disabled",e.isDisabled)("p-label",e.selectFileButtonLabel)("p-size",e.size)}}function kl(n,s){if(n&1&&N(0,"po-upload-file-restrictions",14),n&2){let e=a();l("ngClass",Qe(5,xl,e.displayDragDrop))("p-allowed-extensions",e.fileRestrictions==null?null:e.fileRestrictions.allowedExtensions)("p-max-files",e.maxFiles)("p-max-file-size",e.fileRestrictions==null?null:e.fileRestrictions.maxFileSize)("p-min-file-size",e.fileRestrictions==null?null:e.fileRestrictions.minFileSize)}}function Il(n,s){if(n&1){let e=y();m(0,"po-progress",19),g("p-custom-action-click",function(){let i=p(e).$implicit,o=a(2);return d(o.customClick(i))})("p-cancel",function(){let i=p(e).$implicit,o=a(2);return d(o.cancel(i))})("p-retry",function(){let i=p(e).$implicit,o=a(2);return d(o.uploadFiles([i]))}),h()}if(n&2){let e=s.$implicit,t=a(2);l("p-disabled-cancel",t.disabledRemoveFile)("p-info",t.infoByUploadStatus[e.status]==null?null:t.infoByUploadStatus[e.status].text(e.percent))("p-info-icon",t.infoByUploadStatus[e.status]==null?null:t.infoByUploadStatus[e.status].icon)("p-status",t.progressStatusByFileStatus[e.status])("p-text",e.displayName)("p-value",e.percent)("p-custom-action",t.customAction)("p-size-actions",t.size)}}function Ml(n,s){if(n&1&&(m(0,"div",15)(1,"po-container",16)(2,"div",17),v(3,Il,1,8,"po-progress",18),h()()()),n&2){let e=a();u(),l("p-height",e.hasMoreThanFourItems?280:"auto")("p-no-border",!e.hasMoreThanFourItems)("p-no-padding",!e.hasMoreThanFourItems),u(),l("ngClass",Qe(6,Tl,e.hasMoreThanFourItems)),u(),l("ngForOf",e.currentFiles)("ngForTrackBy",e.trackByFn)}}function Al(n,s){if(n&1){let e=y();m(0,"po-button",20),g("p-click",function(){p(e);let i=a();return d(i.uploadFiles(i.currentFiles))}),h()}if(n&2){let e=a();P("po-mt-3",e.hasMoreThanFourItems),l("p-disabled",e.hasAnyFileUploading(e.currentFiles))("p-label",e.literals.startSending)("p-size",e.size)}}var Un=(()=>{class n extends An{renderer;i18nPipe;notification;cd;poThemeService;inputFile;poUploadDragDropComponent;uploadButton;id=`po-upload[${ue()}]`;infoByUploadStatus={[_e.Uploaded]:{text:()=>this.literals.sentWithSuccess,icon:"ICON_OK"},[_e.Error]:{text:()=>this.literals.errorOccurred},[_e.Uploading]:{text:e=>e+"%"}};progressStatusByFileStatus={[_e.Uploaded]:ze.Success,[_e.Error]:ze.Error};calledByCleanInputValue=!1;constructor(e,t,i,o,r,c,C){super(C,e,c),this.renderer=t,this.i18nPipe=i,this.notification=o,this.cd=r,this.poThemeService=C}get displayDragDrop(){return this.dragDrop&&!st()}get displaySendButton(){let e=this.currentFiles||[];return!this.hideSendButton&&!this.autoUpload&&e.length>0&&this.hasFileNotUploaded&&this.requiredUrl}get selectFileButtonLabel(){return this.canHandleDirectory?this.literals.selectFolder:this.isMultiple?this.literals.selectFiles:this.literals.selectFile}get hasMoreThanFourItems(){return this.currentFiles&&this.currentFiles.length>4}get hasMultipleFiles(){return this.currentFiles&&this.currentFiles.length>1}get hasFileNotUploaded(){return Array.isArray(this.currentFiles)?this.currentFiles.some(e=>e.status!==_e.Uploaded):!1}get isDisabled(){let e=this.currentFiles||[];return this.requiredUrl?!!(this.hasAnyFileUploading(e)||!this.url||this.disabled||this.isExceededFileLimit(e.length)):!!(this.hasAnyFileUploading(e)||this.autoUpload||this.disabled||this.isExceededFileLimit(e.length))}get maxFiles(){return this.isMultiple&&this.fileRestrictions&&this.fileRestrictions.maxFiles}cancel(e){if(e.status===_e.Uploading)return this.stopUpload(e);this.removeFile(e)}ngAfterViewInit(){this.autoFocus&&this.focus()}clear(){this.currentFiles=void 0,this.updateModel([]),this.cleanInputValue()}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}focus(){if(!this.disabled){if(this.uploadButton){this.uploadButton.focus();return}this.displayDragDrop&&this.poUploadDragDropComponent.focus()}}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}hasAnyFileUploading(e){return e&&e.length?e.some(t=>t.status===_e.Uploading):!1}isAllowCancelEvent(e){return e!==_e.Uploaded}onBlur(){!this.isUploadButtonFocused()&&this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp()}onFileChange(e){if(this.calledByCleanInputValue)return this.calledByCleanInputValue=!1,e.preventDefault();let t=e.target.files;this.updateFiles(t),this.cleanInputValue()}onFileChangeDragDrop(e){this.updateFiles(e)}onKeyDown(e){this.isUploadButtonFocused()&&this.keydown.emit(e)}removeFile(e){let t=this.currentFiles.indexOf(e);this.currentFiles.splice(t,1),this.updateModel([...this.currentFiles])}selectFiles(){this.onModelTouched?.(),this.calledByCleanInputValue=!1,this.inputFile.nativeElement.click()}sendFeedback(){if(this.sizeNotAllowed>0){let e=Vt(this.fileRestrictions.minFileSize),t=Vt(this.fileRestrictions.maxFileSize),i=[this.sizeNotAllowed,e||"0",t];this.setPipeArguments("invalidSize",i),this.sizeNotAllowed=0}if(this.extensionNotAllowed>0){let e=this.fileRestrictions.allowedExtensions.join(", ").toUpperCase(),t=[this.extensionNotAllowed,e];this.setPipeArguments("invalidFormat",t),this.extensionNotAllowed=0}if(this.quantityNotAllowed>0){let e=[this.quantityNotAllowed];this.setPipeArguments("invalidAmount",e),this.quantityNotAllowed=0}}sendFiles(){this.currentFiles&&this.currentFiles.length&&this.uploadFiles(this.currentFiles)}setDirectoryAttribute(e){e?this.renderer.setAttribute(this.inputFile.nativeElement,"webkitdirectory","true"):this.renderer.removeAttribute(this.inputFile.nativeElement,"webkitdirectory")}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}stopUpload(e){this.uploadService.stopRequestByFile(e,()=>{this.autoUpload?this.removeFile(e):this.stopUploadHandler(e),this.cd.markForCheck()})}trackByFn(e,t){return t.uid}uploadFiles(e){let t=e.filter(i=>i.status!==_e.Uploaded);this.uploadService.upload(this.url,t,this.headers,this.onUpload,(i,o)=>{this.uploadingHandler(i,o)},(i,o)=>{this.responseHandler(i,_e.Uploaded),this.onSuccess.emit(o)},(i,o)=>{this.responseHandler(i,_e.Error),this.onError.emit(o)})}customClick(e){this.customAction&&this.customActionClick.emit(e)}cleanInputValue(){this.calledByCleanInputValue=!0,this.inputFile.nativeElement.value="",this.cd.detectChanges()}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}isUploadButtonFocused(){return document.activeElement===this.uploadButton.buttonElement.nativeElement}responseHandler(e,t){e.status=t,e.percent=100,this.cd.markForCheck()}setPipeArguments(e,t){let i=this.i18nPipe.transform(this.literals[e],t);this.notification.information(i)}stopUploadHandler(e){e.status=_e.None,e.percent=0,this.cd.markForCheck()}updateFiles(e){this.currentFiles=this.parseFiles(e),this.updateModel([...this.currentFiles]),this.autoUpload&&this.uploadFiles(this.currentFiles)}updateModel(e){let t=this.mapCleanUploadFiles(e);this.onModelChange?this.onModelChange(t):this.ngModelChange.emit(t)}uploadingHandler(e,t){e.status=_e.Uploading,e.percent=t,this.cd.markForCheck()}mapCleanUploadFiles(e){let t=i=>{let C=i,{percent:o,displayName:r}=C;return Qt(C,["percent","displayName"])};return e.map(t)}static \u0275fac=function(t){return new(t||n)(f(At),f(Fe),f(Ye),f(li),f(T),f(H),f(I))};static \u0275cmp=k({type:n,selectors:[["po-upload"]],viewQuery:function(t,i){if(t&1&&(x(Fl,7,D),x(Pi,5),x(Sl,5)),t&2){let o;F(o=S())&&(i.inputFile=o.first),F(o=S())&&(i.poUploadDragDropComponent=o.first),F(o=S())&&(i.uploadButton=o.first)}},standalone:!1,features:[W([Ye,At,{provide:Q,useExisting:z(()=>n),multi:!0},{provide:$,useExisting:z(()=>n),multi:!0}]),A],decls:11,vars:23,consts:[["inputFile",""],["uploadButton",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],[1,"po-upload"],["type","file",1,"po-upload-input",3,"change","accept","id","disabled","multiple","required"],[3,"p-directory-compatible","p-disabled","p-drag-drop-height","p-literals","p-file-change","p-select-files",4,"ngIf"],["class","po-upload-button","for","file",3,"p-disabled","p-label","p-size","p-blur","p-click","keydown",4,"ngIf"],["class","po-upload-file-restrictions",3,"ngClass","p-allowed-extensions","p-max-files","p-max-file-size","p-min-file-size",4,"ngIf"],["class","po-upload-progress-container",4,"ngIf"],["class","po-upload-send-button","p-kind","primary",3,"po-mt-3","p-disabled","p-label","p-size","p-click",4,"ngIf"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-show-additional-help","p-show-additional-help-icon"],[3,"p-file-change","p-select-files","p-directory-compatible","p-disabled","p-drag-drop-height","p-literals"],["for","file",1,"po-upload-button",3,"p-blur","p-click","keydown","p-disabled","p-label","p-size"],[1,"po-upload-file-restrictions",3,"ngClass","p-allowed-extensions","p-max-files","p-max-file-size","p-min-file-size"],[1,"po-upload-progress-container"],[3,"p-height","p-no-border","p-no-padding"],[3,"ngClass"],[3,"p-disabled-cancel","p-info","p-info-icon","p-status","p-text","p-value","p-custom-action","p-size-actions","p-custom-action-click","p-cancel","p-retry",4,"ngFor","ngForOf","ngForTrackBy"],[3,"p-custom-action-click","p-cancel","p-retry","p-disabled-cancel","p-info","p-info-icon","p-status","p-text","p-value","p-custom-action","p-size-actions"],["p-kind","primary",1,"po-upload-send-button",3,"p-click","p-disabled","p-label","p-size"]],template:function(t,i){if(t&1){let o=y();m(0,"po-field-container",2)(1,"div",3)(2,"div",4)(3,"input",5,0),g("change",function(c){return p(o),d(i.onFileChange(c))}),h(),v(5,Pl,1,4,"po-upload-drag-drop",6)(6,El,2,3,"po-button",7)(7,kl,1,7,"po-upload-file-restrictions",8)(8,Ml,4,8,"div",9)(9,Al,1,5,"po-button",10),h()(),m(10,"po-field-container-bottom",11),g("p-additional-help",function(){return p(o),d(i.emitAdditionalHelp())}),h()()}t&2&&(l("p-disabled",i.isDisabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),u(3),l("accept",i.allowedExtensions)("id",i.id)("disabled",i.isDisabled)("multiple",i.isMultiple)("required",i.required),B("name",i.name),u(2),l("ngIf",i.displayDragDrop),u(),l("ngIf",!i.hideSelectButton&&!i.displayDragDrop),u(),l("ngIf",i.fileRestrictions&&!i.hideRestrictionsInfo),u(),l("ngIf",i.currentFiles&&i.currentFiles.length),u(),l("ngIf",i.displaySendButton),u(),l("p-additional-help-tooltip",i.getAdditionalHelpTooltip())("p-append-in-body",i.appendBox)("p-help",i.help)("p-disabled",i.disabled)("p-show-additional-help",i.displayAdditionalHelp)("p-show-additional-help-icon",i.showAdditionalHelpIcon()))},dependencies:[ce,we,M,Pt,di,oe,J,jn,Pi,Wn],encapsulation:2,changeDetection:0})}return n})();var Kn=(()=>{class n extends ko{changeDetector;optional=!1;required=!1;fieldErrorMessage;errorLimit=!1;showRequired=!1;hasValidatorRequired=!1;onValidatorChange;constructor(e){super(),this.changeDetector=e}validate(e){return!this.hasValidatorRequired&&this.fieldErrorMessage&&e.hasValidator(Oe.required)&&(this.hasValidatorRequired=!0),he(this.required||this.hasValidatorRequired,this.disabled,e.value)?(this.changeDetector.markForCheck(),{required:{valid:!1}}):this.extraValidation(e)}registerOnValidatorChange(e){this.onValidatorChange=e}validateModel(){this.onValidatorChange&&this.onValidatorChange()}static \u0275fac=function(t){return new(t||n)(f(T))};static \u0275dir=O({type:n,inputs:{optional:[2,"p-optional","optional",_],required:[2,"p-required","required",_],fieldErrorMessage:[0,"p-field-error-message","fieldErrorMessage"],errorLimit:[0,"p-error-limit","errorLimit"],showRequired:[0,"p-show-required","showRequired"]},features:[G,A]})}return n})();var Ol=["select"];function Rl(n,s){if(n&1&&(m(0,"option",8),R(1),h()),n&2){let e,t=a(2);l("disabled",!!t.placeholder)("hidden",!(t.selectedValue!=null&&t.selectedValue.toString())&&!t.placeholder)("selected",!(t.selectedValue!=null&&t.selectedValue.toString()))("value",(e=t.placeholder)!==null&&e!==void 0?e:""),u(),U(" ",t.placeholder," ")}}function Hl(n,s){if(n&1&&(ye(0),v(1,Rl,2,5,"option",6),m(2,"option",7),R(3),h(),be()),n&2){let e=a();u(),l("ngIf",!(e.selectedValue!=null&&e.selectedValue.toString())||!!e.placeholder),u(),l("hidden",!0),u(),Me(e.displayValue)}}function ql(n,s){if(n&1&&(ye(0),m(1,"option"),R(2),h(),be()),n&2){let e=a();u(2),Me(e.displayValue||e.placeholder)}}function zl(n,s){if(n&1&&(m(0,"option",10),R(1),h()),n&2){let e=s.$implicit,t=a(2);l("disabled",t.readonly)("value",e==null?null:e[t.fieldValue]),u(),U(" ",e==null?null:e[t.fieldLabel]," ")}}function Bl(n,s){if(n&1&&(ye(0),v(1,zl,2,3,"option",9),be()),n&2){let e=a();u(),l("ngForOf",e.optionWithoutGroup)}}function Nl(n,s){if(n&1&&(m(0,"option",15),R(1),h()),n&2){let e=s.$implicit,t=a(4);l("value",e==null?null:e[t.fieldValue])("disabled",t.readonly),u(),U(" ",e==null?null:e[t.fieldLabel]," ")}}function jl(n,s){if(n&1&&(m(0,"optgroup",13),v(1,Nl,2,3,"option",14),h()),n&2){let e=a().$implicit,t=a(2);ei("label",e==null?null:e.label),l("disabled",t.readonly),u(),l("ngForOf",e.options)}}function Wl(n,s){if(n&1&&(ye(0),v(1,jl,2,3,"optgroup",12),be()),n&2){let e=s.$implicit;u(),l("ngIf",(e==null?null:e.options.length)>0)}}function Ul(n,s){if(n&1&&(ye(0),v(1,Wl,2,1,"ng-container",11),be()),n&2){let e=a();u(),l("ngForOf",e.listGroupOptions)}}function Kl(n,s){if(n&1){let e=y();m(0,"po-field-container-bottom",16),g("p-additional-help",function(){p(e);let i=a();return d(i.emitAdditionalHelp())}),h()}if(n&2){let e=a();l("p-additional-help-tooltip",e.getAdditionalHelpTooltip())("p-append-in-body",e.appendBox)("p-help",e.help)("p-disabled",e.disabled)("p-error-pattern",e.getErrorPattern())("p-error-limit",e.errorLimit)("p-show-additional-help",e.displayAdditionalHelp)("p-show-additional-help-icon",e.showAdditionalHelpIcon())}}var Gn="label",Qn="value",$n=(()=>{class n extends Kn{el;renderer;poThemeService;_iconToken;selectElement;blur=new b;ngModelChange=new b;readonly=!1;placeholder;displayValue;id=`po-select[${ue()}]`;modelValue;selectedValue;optionsDefault=[];listGroupOptions=[];optionWithoutGroup=[];isSafari=go();onModelTouched;_fieldLabel=Gn;_fieldValue=Qn;_options;_size=void 0;set options(e){this.listGroupOptions=[],this.optionWithoutGroup=[],this.fieldLabel&&this.fieldValue&&e&&e.map(t=>{this.isItemGroup(t)?t.options.map(i=>{i.label=i[this.fieldLabel],i.value=i[this.fieldValue]}):(t.label=t[this.fieldLabel],t.value=t[this.fieldValue])}),e&&(this.optionsDefault=[...e],this.separateOptions(),this.optionsDefault=[],this.optionsDefault=[...this.optionWithoutGroup,...this.transformInArray(this.listGroupOptions)],this.onUpdateOptions(),this._options=[...this.optionsDefault])}get options(){return this._options}set fieldLabel(e){this._fieldLabel=e||Gn,this.options&&this.options.length>0&&(this.options=[...this.options])}get fieldLabel(){return this._fieldLabel}set fieldValue(e){this._fieldValue=e||Qn,this.options&&this.options.length>0&&(this.options=[...this.options])}controlValueWithLabel=!1;get fieldValue(){return this._fieldValue}get iconNameLib(){return this._iconToken.NAME_LIB}set size(e){this._size=ie(e,this.poThemeService,j)}get size(){return this._size??Y(this.poThemeService,j)}constructor(e,t,i,o,r){super(t),this.el=i,this.renderer=o,this.poThemeService=r,this._iconToken=e??ho}ngOnChanges(e){e.options?.currentValue&&(this.options=e.options.currentValue)}focus(){this.disabled||this.selectElement.nativeElement.focus()}getErrorPattern(){return this.fieldErrorMessage&&this.hasInvalidClass()?this.fieldErrorMessage:""}hasInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")}onBlur(e){this.onModelTouched?.(),this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp(),e.type==="blur"&&this.blur.emit()}onSelectChange(e){if(this.onModelTouched?.(),e&&this.options&&this.options.length){let t=this.findOptionValue(e);t&&this.updateValues(t)}}onUpdateOptions(){this.modelValue&&this.onSelectChange(this.modelValue)}updateValues(e){this.selectedValue!==e[this.fieldValue]&&(this.selectedValue=e[this.fieldValue],this.selectElement.nativeElement.value=e[this.fieldValue],this.updateModel(this.getValueUpdate(e)),this.displayValue=e[this.fieldLabel],this.emitChange(e[this.fieldValue]))}onWriteValue(e){e=this.getValueWrite(e);let t=this.findOptionValue(e);t?(this.selectElement.nativeElement.value=t.value,this.selectedValue=t[this.fieldValue],this.displayValue=t[this.fieldLabel]):dt(this.selectedValue)&&(this.selectElement.nativeElement.value=void 0,this.updateModel(void 0),this.selectedValue=void 0,this.displayValue=void 0),this.modelValue=e,this.changeDetector.detectChanges()}extraValidation(e){return null}isItemGroup(e){return e.options?!!Array.isArray(e.options):!1}onKeyDown(e){document.activeElement===this.selectElement.nativeElement&&this.keydown.emit(e)}registerOnTouched(e){this.onModelTouched=e}showAdditionalHelp(){return super.showAdditionalHelp()}isEqual(e,t){return(e||e===0)&&t?e.toString()===t.toString():((e===null&&t!==null||e===void 0&&t!==void 0)&&(e=`${e}`),e===t)}findOptionValue(e){if(this.options)return this.options.find(t=>this.isEqual(t.value,e))}getValueUpdate(e){return this.controlValueWithLabel?{value:e[this.fieldValue],label:e[this.fieldLabel]}:e[this.fieldValue]}getValueWrite(e){return this.controlValueWithLabel&&e?.value?e?.value:e}transformInArray(e){return e.reduce((t,i)=>i.options?t.concat(i.options):[],[])}separateOptions(){this.optionsDefault.forEach(e=>{this.isItemGroup(e)?(this.validateOptions(e.options),this.listGroupOptions.push(e)):this.optionWithoutGroup.push(e)}),this.optionWithoutGroup.length>0&&this.validateOptions(this.optionWithoutGroup)}validateOptions(e){xt(e),wo(e)}static \u0275fac=function(t){return new(t||n)(f(uo,8),f(T),f(D),f(Fe),f(I))};static \u0275cmp=k({type:n,selectors:[["po-select"]],viewQuery:function(t,i){if(t&1&&x(Ol,7,D),t&2){let o;F(o=S())&&(i.selectElement=o.first)}},inputs:{readonly:[2,"p-readonly","readonly",_],placeholder:[0,"p-placeholder","placeholder"],options:[0,"p-options","options"],fieldLabel:[0,"p-field-label","fieldLabel"],fieldValue:[0,"p-field-value","fieldValue"],controlValueWithLabel:[2,"p-control-value-with-label","controlValueWithLabel",_],size:[0,"p-size","size"]},outputs:{blur:"p-blur",ngModelChange:"ngModelChange"},standalone:!1,features:[W([{provide:Q,useExisting:z(()=>n),multi:!0},{provide:$,useExisting:z(()=>n),multi:!0}]),G,A,Ce],decls:9,vars:20,consts:[["select",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],[1,"po-select",3,"blur","change","keydown","ngClass","disabled","id","required"],[4,"ngIf"],[3,"p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon","p-additional-help",4,"ngIf"],[3,"disabled","hidden","selected","value",4,"ngIf"],[3,"hidden"],[3,"disabled","hidden","selected","value"],[3,"disabled","value",4,"ngFor","ngForOf"],[3,"disabled","value"],[4,"ngFor","ngForOf"],[3,"label","disabled",4,"ngIf"],[3,"label","disabled"],[3,"value","disabled",4,"ngFor","ngForOf"],[3,"value","disabled"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"]],template:function(t,i){if(t&1){let o=y();m(0,"po-field-container",1)(1,"div",2)(2,"select",3,0),g("blur",function(c){return p(o),d(i.onBlur(c))})("change",function(c){return p(o),d(i.onSelectChange(c.target.value))})("keydown",function(c){return p(o),d(i.onKeyDown(c))}),v(4,Hl,4,3,"ng-container",4)(5,ql,3,1,"ng-container",4)(6,Bl,2,1,"ng-container",4)(7,Ul,2,1,"ng-container",4),h()(),v(8,Kl,1,8,"po-field-container-bottom",5),h()}t&2&&(l("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),u(2),P("po-select-aa",i.size==="small")("po-select-placeholder",!(i.selectedValue!=null&&i.selectedValue.toString())&&!!i.placeholder),l("ngClass",i.iconNameLib==="AnimaliaIcon"?"po-select-phosphor":"po-select-poicon")("disabled",i.disabled)("id",i.id)("required",i.required),B("name",i.name),u(2),l("ngIf",!i.isSafari),u(),l("ngIf",i.isSafari),u(),l("ngIf",i.optionWithoutGroup.length>0),u(),l("ngIf",i.listGroupOptions.length>0),u(),l("ngIf",!i.readonly))},dependencies:[ce,we,M,so,lo,oe,J],encapsulation:2,changeDetection:0})}return n})();var Yn=(()=>{class n{cd;poThemeService;additionalHelpEventTrigger;additionalHelpTooltip;appendBox=!1;autoFocus=!1;label;help;name;optional;fieldErrorMessage;errorLimit=!1;additionalHelp=new b;blur=new b;enter=new b;change=new b;changeModel=new b;keydown=new b;displayAdditionalHelp=!1;_disabled=!1;_maxlength;_minlength;_placeholder="";_readonly=!1;_required=!1;_rows=3;_size=void 0;modelLastUpdate;onChangePropagate=null;validatorChange;onTouched=null;hasValidatorRequired=!1;set placeholder(e){this._placeholder=e||""}get placeholder(){return this._placeholder}set disabled(e){this._disabled=_(e)}get disabled(){return this._disabled}set readonly(e){this._readonly=_(e)}get readonly(){return this._readonly}set required(e){this._required=_(e),this.validateModel()}get required(){return this._required}showRequired=!1;set minlength(e){this._minlength=Re(e),this.validateModel()}get minlength(){return this._minlength}set maxlength(e){this._maxlength=Re(e),this.validateModel()}get maxlength(){return this._maxlength}set rows(e){this._rows=isNaN(parseInt(e,10))||e<3?3:parseInt(e,10)}get rows(){return this._rows}set size(e){this._size=ie(e,this.poThemeService,j)}get size(){return this._size??Y(this.poThemeService,j)}constructor(e,t){this.cd=e,this.poThemeService=t}callOnChange(e){this.onChangePropagate&&this.onChangePropagate(e),this.controlChangeModelEmitter(e)}controlChangeModelEmitter(e){this.modelLastUpdate!==e&&(this.changeModel.emit(e),this.modelLastUpdate=e)}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}registerOnChange(e){this.onChangePropagate=e}registerOnTouched(e){this.onTouched=e}registerOnValidatorChange(e){this.validatorChange=e}validate(e){if(!this.hasValidatorRequired&&this.fieldErrorMessage&&e.hasValidator(Oe.required)&&(this.hasValidatorRequired=!0),he(this.required,this.disabled,e.value))return{required:{valid:!1}};if(ci(this.minlength,e.value))return{minlength:{valid:!1}};if(ut(this.maxlength,e.value))return{maxlength:{valid:!1}}}writeValue(e){this.writeValueModel(e),this.cd.markForCheck()}validateModel(){this.validatorChange&&this.validatorChange()}static \u0275fac=function(t){return new(t||n)(f(T),f(I))};static \u0275dir=O({type:n,inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],appendBox:[2,"p-append-in-body","appendBox",_],autoFocus:[2,"p-auto-focus","autoFocus",_],label:[0,"p-label","label"],help:[0,"p-help","help"],name:"name",optional:[0,"p-optional","optional"],fieldErrorMessage:[0,"p-field-error-message","fieldErrorMessage"],errorLimit:[0,"p-error-limit","errorLimit"],placeholder:[0,"p-placeholder","placeholder"],disabled:[0,"p-disabled","disabled"],readonly:[0,"p-readonly","readonly"],required:[0,"p-required","required"],showRequired:[0,"p-show-required","showRequired"],minlength:[0,"p-minlength","minlength"],maxlength:[0,"p-maxlength","maxlength"],rows:[0,"p-rows","rows"],size:[0,"p-size","size"]},outputs:{additionalHelp:"p-additional-help",blur:"p-blur",enter:"p-enter",change:"p-change",changeModel:"p-change-model",keydown:"p-keydown"},features:[G]})}return n})();var Ql=["inp"];function $l(n,s){if(n&1){let e=y();m(0,"po-field-container-bottom",5),g("p-additional-help",function(){p(e);let i=a();return d(i.emitAdditionalHelp())}),h()}if(n&2){let e=a();l("p-additional-help-tooltip",e.getAdditionalHelpTooltip())("p-append-in-body",e.appendBox)("p-help",e.help)("p-disabled",e.disabled)("p-error-pattern",e.getErrorPattern())("p-error-limit",e.errorLimit)("p-show-additional-help",e.displayAdditionalHelp)("p-show-additional-help-icon",e.showAdditionalHelpIcon())}}var Jn=(()=>{class n extends Yn{el;poThemeService;inputEl;id=`po-textarea[${ue()}]`;valueBeforeChange;fireChange=!1;constructor(e,t,i){super(e,i),this.el=t,this.poThemeService=i}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}focus(){this.disabled||this.inputEl.nativeElement.focus()}ngAfterViewInit(){this.autoFocus&&this.focus()}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}getErrorPattern(){return this.fieldErrorMessage&&this.hasInvalidClass()?this.fieldErrorMessage:""}hasInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")&&!this.inputEl.nativeElement.value&&(this.required||this.hasValidatorRequired)}writeValueModel(e){this.inputEl&&(e?this.inputEl.nativeElement.value=e:this.inputEl.nativeElement.value=""),e&&this.change.emit(e)}validMaxLength(e,t){return e&&t.length>e?t.toString().substring(0,e):t}eventOnInput(e){let t=this.validMaxLength(this.maxlength,e.target.value);this.callOnChange(t),this.inputEl.nativeElement.value=t}eventOnFocus(){this.valueBeforeChange=this.inputEl.nativeElement.value,this.enter.emit()}eventOnBlur(){this.onTouched?.(),this.blur.emit(),this.controlChangeEmitter(),this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp()}controlChangeEmitter(){let e=this.inputEl.nativeElement.value;e!==this.valueBeforeChange&&this.change.emit(e)}onKeyDown(e){document.activeElement===this.inputEl.nativeElement&&this.keydown.emit(e)}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}static \u0275fac=function(t){return new(t||n)(f(T),f(D),f(I))};static \u0275cmp=k({type:n,selectors:[["po-textarea"]],viewQuery:function(t,i){if(t&1&&x(Ql,7,D),t&2){let o;F(o=S())&&(i.inputEl=o.first)}},standalone:!1,features:[W([{provide:Q,useExisting:z(()=>n),multi:!0},{provide:$,useExisting:z(()=>n),multi:!0}]),A],decls:5,vars:16,consts:[["inp",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],[1,"po-field-container-content"],[1,"po-textarea",3,"blur","focus","input","keydown","disabled","id","placeholder","readonly","required","rows"],[3,"p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon","p-additional-help",4,"ngIf"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"]],template:function(t,i){if(t&1){let o=y();m(0,"po-field-container",1)(1,"div",2)(2,"textarea",3,0),g("blur",function(){return p(o),d(i.eventOnBlur())})("focus",function(){return p(o),d(i.eventOnFocus())})("input",function(c){return p(o),d(i.eventOnInput(c))})("keydown",function(c){return p(o),d(i.onKeyDown(c))}),h()(),v(4,$l,1,8,"po-field-container-bottom",4),h()}t&2&&(l("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),u(2),P("po-textarea-aa",i.size==="small"),l("disabled",i.disabled)("id",i.id)("placeholder",i.disabled?"":i.placeholder)("readonly",i.readonly)("required",i.required)("rows",i.rows),B("name",i.name),u(2),l("ngIf",!i.readonly))},dependencies:[M,oe,J],encapsulation:2,changeDetection:0})}return n})();var Xn={en:{remove:"Remove"},es:{remove:"Eliminar"},pt:{remove:"Remover"},ru:{remove:"\u0443\u0434\u0430\u043B\u044F\u0442\u044C"}};var Jl=["default","danger"],Xl="default",Zn=(()=>{class n{languageService;label;value;property;disclaimerCustomWidth=201;lastDisclaimer=!1;appendInBody=!1;tooltipPosition="bottom";closeAction=new b;clickNumber=new b;literals;showDisclaimer=!0;_type="default";_hideClose=!1;set hideClose(e){this._hideClose=e===""?!0:_(e)}get hideClose(){return this._hideClose}set type(e){this._type=Jl.includes(e)?e:Xl}get type(){return this._type}constructor(e){this.languageService=e;let t=this.languageService?.getShortLanguage();this.literals=w({},Xn[t])}close(){this.showDisclaimer=!1,this.closeAction.emit({value:this.value,label:this.label,property:this.property})}getLabel(){return this.label?this.label:this.value}setAriaLabel(){return this.label?this.label+" "+this.literals.remove:this.value+" "+this.literals.remove}static \u0275fac=function(t){return new(t||n)(f(H))};static \u0275dir=O({type:n,inputs:{label:[0,"p-label","label"],value:[0,"p-value","value"],property:[0,"p-property","property"],disclaimerCustomWidth:[0,"p-disclaimer-custom-width","disclaimerCustomWidth"],lastDisclaimer:[0,"p-last-disclaimer","lastDisclaimer"],appendInBody:[0,"p-append-in-body","appendInBody"],tooltipPosition:[0,"p-tooltip-position","tooltipPosition"],hideClose:[0,"p-hide-close","hideClose"],type:[0,"p-type","type"]},outputs:{closeAction:"p-close-action",clickNumber:"p-click-number"}})}return n})();var Zl=["disclaimerContainer"];function ep(n,s){if(n&1){let e=y();m(0,"po-icon",7),g("click",function(){p(e);let i=a(2);return d(i.close())})("keydown",function(i){p(e);let o=a(2);return d(o.onKeyPress(i))}),h()}if(n&2){let e=a(2);P("po-disclaimer-remove-danger",e.type==="danger"),B("aria-label",e.setAriaLabel())("role",e.hideClose?"":"button")}}function tp(n,s){if(n&1){let e=y();m(0,"div",3),g("click",function(){p(e);let i=a();return d(i.emitLastDisclaimer(i.lastDisclaimer))})("keydown.enter",function(){p(e);let i=a();return d(i.emitLastDisclaimer(i.lastDisclaimer))}),m(1,"div",4)(2,"span",5),R(3),h()(),v(4,ep,1,4,"po-icon",6),h()}if(n&2){let e=a();P("po-disclaimer-remove-all",e.hideClose)("po-disclaimer-danger",e.type==="danger"),l("p-tooltip",e.getWidthDisclaimer()?e.getLabel():"")("p-append-in-body",e.appendInBody)("p-tooltip-position",e.tooltipPosition)("tabindex",e.hideClose?"0":"-1"),u(),P("show-close",!e.hideClose),u(2),U(" ",e.getLabel()," "),u(),l("ngIf",e.hideClose===!1)}}var er=(()=>{class n extends Zn{disclaimerContainer;onKeyPress(e){St(e)&&this.close()}emitLastDisclaimer(e){e&&this.clickNumber.emit()}getWidthDisclaimer(){return this.disclaimerContainer.nativeElement.offsetWidth>this.disclaimerCustomWidth}static \u0275fac=(()=>{let e;return function(i){return(e||(e=_t(n)))(i||n)}})();static \u0275cmp=k({type:n,selectors:[["po-disclaimer"]],viewQuery:function(t,i){if(t&1&&x(Zl,7),t&2){let o;F(o=S())&&(i.disclaimerContainer=o.first)}},standalone:!1,features:[A],decls:3,vars:1,consts:[["disclaimerContainer",""],[1,"disclaimer-container"],["class","po-disclaimer",3,"po-disclaimer-remove-all","po-disclaimer-danger","p-tooltip","p-append-in-body","p-tooltip-position","tabindex","click","keydown.enter",4,"ngIf"],[1,"po-disclaimer",3,"click","keydown.enter","p-tooltip","p-append-in-body","p-tooltip-position","tabindex"],[1,"po-disclaimer-label"],[1,"label"],["p-icon","ICON_CLOSE","class","po-disclaimer-remove po-clickable","tabindex","0",3,"po-disclaimer-remove-danger","click","keydown",4,"ngIf"],["p-icon","ICON_CLOSE","tabindex","0",1,"po-disclaimer-remove","po-clickable",3,"click","keydown"]],template:function(t,i){t&1&&(m(0,"div",1,0),v(2,tp,5,12,"div",2),h()),t&2&&(u(2),l("ngIf",i.showDisclaimer===!0))},dependencies:[M,te,So],encapsulation:2})}return n})();var Ot=(()=>{class n{httpClient;headers=new bt({"X-PO-No-Message":"true"});url;fieldValue;multiple=!1;constructor(e){this.httpClient=e}getFilteredItems(e){let V=e,{filterParams:t,advancedFilters:i}=V,o=Qt(V,["filterParams","advancedFilters"]),r=this.validateParams(t),c=this.validateParams(i),C=w(w(w({},o),r),c);return this.httpClient.get(this.url,{headers:this.headers,params:C})}getObjectByValue(e,t){let i=this.validateParams(t),o,r;return this.multiple?(r=encodeURIComponent(Array.isArray(e)?e.join(","):e),o=`${this.url}?${this.fieldValue}=${r}`):(r=encodeURIComponent(e),o=`${this.url}/${r}`),this.httpClient.get(o,{headers:this.headers,params:i}).pipe(Te(c=>"items"in c?c.items:c))}setConfig(e,t,i){this.url=e,this.fieldValue=t,this.multiple=i}validateParams(e){return ae(e,"object")&&!Array.isArray(e)?e:void 0}static \u0275fac=function(t){return new(t||n)(Ee(Le))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Rt=(()=>{class n{poComponentInjector;selectValueEvent=new b;componentRef=null;constructor(e){this.poComponentInjector=e}openModal(e){let{advancedFilters:t,service:i,columns:o,filterParams:r,hideColumnsManager:c,title:C,literals:V,infiniteScroll:q,multiple:ve,selectedItems:Be,fieldLabel:Ie,fieldValue:lt,size:K,spacing:pt,textWrap:ki,virtualScroll:Ii,changeVisibleColumns:Ht,columnRestoreManager:ar}=e;this.componentRef=this.poComponentInjector.createComponentInApplication(Cn),this.componentRef.instance.advancedFilters=t,this.componentRef.instance.title=C,this.componentRef.instance.columns=o,this.componentRef.instance.filterService=i,this.componentRef.instance.filterParams=r,this.componentRef.instance.literals=V,this.componentRef.instance.model.subscribe(sr=>{this.selectValue(sr)}),this.componentRef.instance.infiniteScroll=q,this.componentRef.instance.multiple=ve,this.componentRef.instance.selectedItems=Be,this.componentRef.instance.fieldLabel=Ie,this.componentRef.instance.fieldValue=lt,this.componentRef.instance.changeVisibleColumns=Ht,this.componentRef.instance.columnRestoreManager=ar,this.componentRef.instance.hideColumnsManager=c,this.componentRef.instance.size=K,this.componentRef.instance.spacing=pt,this.componentRef.instance.textWrap=ki,this.componentRef.instance.virtualScroll=Ii,this.componentRef.changeDetectorRef.detectChanges(),this.componentRef.instance.openModal()}setChangeColumns(e){this.componentRef!==null&&(this.componentRef.instance.columns=e,this.componentRef.changeDetectorRef.detectChanges())}selectValue(e){e&&this.selectValueEvent.emit(e),this.componentRef.destroy()}static \u0275fac=function(t){return new(t||n)(Ee(xo))};static \u0275prov=fe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ei={en:{search:"Search",clean:"Clean"},es:{search:"Buscar",clean:"Limpiar"},pt:{search:"Pesquisar",clean:"Apagar"},ru:{search:"\u041F\u043E\u0438\u0441\u043A",clean:"\u0447\u0438\u0441\u0442\u044B\u0439"}},or=(()=>{class n{defaultService;injector;poLookupModalService;poThemeService;_literals;language;_size=void 0;_spacing;additionalHelpEventTrigger;additionalHelpTooltip;appendBox=!1;autoFocus=!1;label;set literals(e){e instanceof Object&&!(e instanceof Array)?this._literals=w(w(w({},Ei[re]),Ei[this.language]),e):this._literals=Ei[this.language]}get literals(){return this._literals||Ei[this.language]}help;set placeholder(e){this._placeholder=e||""}get placeholder(){return this._placeholder}name;fieldValue;set fieldLabel(e){this._fieldLabel=e,this.keysDescription=[this.fieldLabel]}get fieldLabel(){return this._fieldLabel}filterParams;fieldFormat;columns;optional;advancedFilters;hideColumnsManager=!1;infiniteScroll=!1;clean=!1;multiple=!1;autoHeight=!1;fieldErrorMessage;errorLimit=!1;set size(e){this._size=ie(e,this.poThemeService,j)}get size(){return this._size??Y(this.poThemeService,j)}set spacing(e){Object.values(ct).includes(e)?this._spacing=e:this._spacing=this.getDefaultSpacing()}get spacing(){return this._spacing??this.getDefaultSpacing()}textWrap=!1;virtualScroll=!0;additionalHelp=new b;onError=new b;keydown=new b;selected=new b;change=new b;changeVisibleColumns=new b;columnRestoreManager=new b;displayAdditionalHelp=!1;service;selectedOptions=[];getSubscription;keysDescription;oldValue="";valueToModel;oldValueToModel=null;onTouched=null;resizeListener;_disabled=!1;_fieldLabel;_filterService;_noAutocomplete;_placeholder="";_required=!1;_autoHeight=!1;autoHeightInitialValue;onChangePropagate=null;validatorChange;control;injectOptions={self:!0};set filterService(e){this._filterService=e,this.setService(this.filterService)}get filterService(){return this._filterService}set noAutocomplete(e){this._noAutocomplete=_(e)}get noAutocomplete(){return this._noAutocomplete}set required(e){this._required=_(e),this.validateModel(this.valueToModel)}get required(){return this._required}showRequired=!1;set disabled(e){this._disabled=e===""?!0:_(e)}get disabled(){return this._disabled}constructor(e,t,i,o,r){this.defaultService=e,this.injector=t,this.poLookupModalService=i,this.poThemeService=r,this.language=o.getShortLanguage()}ngOnDestroy(){this.getSubscription&&this.getSubscription.unsubscribe()}ngOnInit(){this.initializeColumn()}ngAfterViewInit(){this.setControl()}cleanModel(){this.cleanViewValue(),this.callOnChange(void 0)}ngOnChanges(e){e.columns?.currentValue&&(this.columns=e.columns.currentValue,this.poLookupModalService?.setChangeColumns(this.columns)),e.multiple&&ae(this.filterService,"string")&&this.service.setConfig(this.filterService,this.fieldValue,this.multiple)}setDisabledState(e){this.disabled=e}registerOnValidatorChange(e){this.validatorChange=e}registerOnChange(e){this.onChangePropagate=e}registerOnTouched(e){this.onTouched=e}selectValue(e){this.valueToModel=e,this.multiple?this.callOnChange(this.valueToModel):this.valueToModel?this.callOnChange(this.valueToModel[this.fieldValue]):this.callOnChange(void 0),this.selected.emit(e)}callOnChange(e){this.onChangePropagate&&this.onChangePropagate(e),this.oldValueToModel!==this.valueToModel&&this.change.emit(e),this.oldValueToModel=this.valueToModel}searchById(e){let t=e;if(typeof t=="string"&&(t=t.trim()),t!==""&&t!=="."){let i=this.disabled;this.disabled=!0,this.control&&setTimeout(()=>this.control.markAsPending()),this.getSubscription=this.service.getObjectByValue(e,this.filterParams).pipe(Wi(()=>{this.disabled=i,this.control&&this.control.updateValueAndValidity()})).subscribe(o=>{o?.length||!Array.isArray(o)&&o?(Array.isArray(o)&&o.length>1&&(this.setDisclaimers(o),this.updateVisibleItems()),this.selectModel(Array.isArray(o)?o:[o])):this.cleanModel()},o=>{this.cleanModel(),this.onError.emit(o)})}else this.cleanModel()}validate(e){if(he(this.required,this.disabled,e.value))return{required:{valid:!1}}}writeValue(e){e?.length||!Array.isArray(e)&&e?this.searchById(e):this.cleanViewValue()}getSubscriptionFunction(){return this.getSubscription}cleanViewValue(){this.setDisclaimers([]),this.setViewValue("",{}),this.oldValue="",this.valueToModel=null}getFormattedLabel(e){return e?this.keysDescription.map(t=>e[t]).join(" - "):""}selectModel(e){if(e.length){this.selectedOptions=[...e];let t=this.multiple?e.map(i=>i[this.fieldValue]):e[0];this.selectValue(t),e.length===1&&(this.oldValue=e[0][this.fieldLabel],this.setViewValue(this.getFormattedLabel(e[0]),e[0]))}else this.selectValue(void 0),this.cleanViewValue()}validateModel(e){this.validatorChange&&this.validatorChange(e)}setService(e){ae(e,"object")&&(this.service=e),e&&ae(e,"string")&&(this.service=this.defaultService,this.service.setConfig(e,this.fieldValue,this.multiple))}setControl(){let e=this.injector.get(oi,null,this.injectOptions);e&&(this.control=e.control)}initializeColumn(){this.fieldLabel?this.keysDescription=[this.fieldLabel]:(this.keysDescription=[],this.keysDescription=this.columns.filter(e=>e.fieldLabel).map(e=>e.property))}static \u0275fac=function(t){return new(t||n)(f(Ot),f(Yt),f(Rt),f(H),f(I))};static \u0275dir=O({type:n,inputs:{additionalHelpEventTrigger:"additionalHelpEventTrigger",additionalHelpTooltip:[0,"p-additional-help-tooltip","additionalHelpTooltip"],appendBox:[2,"p-append-in-body","appendBox",_],autoFocus:[2,"p-auto-focus","autoFocus",_],label:[0,"p-label","label"],literals:[0,"p-literals","literals"],help:[0,"p-help","help"],placeholder:[0,"p-placeholder","placeholder"],name:"name",fieldValue:[0,"p-field-value","fieldValue"],fieldLabel:[0,"p-field-label","fieldLabel"],filterParams:[0,"p-filter-params","filterParams"],fieldFormat:[0,"p-field-format","fieldFormat"],columns:[0,"p-columns","columns"],optional:[0,"p-optional","optional"],advancedFilters:[0,"p-advanced-filters","advancedFilters"],hideColumnsManager:[2,"p-hide-columns-manager","hideColumnsManager",_],infiniteScroll:[2,"p-infinite-scroll","infiniteScroll",_],clean:[2,"p-clean","clean",_],multiple:[2,"p-multiple","multiple",_],autoHeight:[2,"p-auto-height","autoHeight",_],fieldErrorMessage:[0,"p-field-error-message","fieldErrorMessage"],errorLimit:[0,"p-error-limit","errorLimit"],size:[0,"p-size","size"],spacing:[0,"p-spacing","spacing"],textWrap:[2,"p-text-wrap","textWrap",_],virtualScroll:[2,"p-virtual-scroll","virtualScroll",_],filterService:[0,"p-filter-service","filterService"],noAutocomplete:[0,"p-no-autocomplete","noAutocomplete"],required:[0,"p-required","required"],showRequired:[0,"p-show-required","showRequired"],disabled:[0,"p-disabled","disabled"]},outputs:{additionalHelp:"p-additional-help",onError:"p-error",keydown:"p-keydown",selected:"p-selected",change:"p-change",changeVisibleColumns:"p-change-visible-columns",columnRestoreManager:"p-restore-column-manager"},features:[G,Ce]})}return n})();var op=["inp"];function np(n,s){if(n&1){let e=y();m(0,"po-clean",13),g("p-change-event",function(){p(e);let i=a(2);return d(i.cleanModel())})("click",function(i){return p(e),a(2).cleanModel(),d(i.preventDefault())})("keydown.enter",function(i){return p(e),a(2).cleanModel(),d(i.preventDefault())}),h()}if(n&2){a();let e=L(3),t=a();P("po-lookup-button-aa",t.size==="small"),l("p-element-ref",e)("p-size",t.size),B("aria-label",t.literals.clean)}}function rp(n,s){if(n&1){let e=y();m(0,"div",6)(1,"div",7)(2,"input",8,1),g("blur",function(){p(e);let i=a();return d(i.searchEvent())})("keydown",function(i){p(e);let o=a();return d(o.onKeyDown(i))}),h(),m(4,"div",9),v(5,np,1,5,"po-clean",10),m(6,"div",11,2),g("p-change-event",function(){p(e);let i=a();return d(i.openLookup())})("click",function(i){return p(e),a().openLookup(),d(i.preventDefault())})("keydown.enter",function(i){return p(e),a().openLookup(),d(i.preventDefault())}),N(8,"po-icon",12),h()()()()}if(n&2){let e=L(3),t=a();P("po-lookup-disabled",t.disabled),u(2),P("po-lookup-input-aa",t.size==="small")("po-lookup-input-trigger-aa",t.size==="small"),l("ngClass",t.clean&&e.value?t.size==="small"?"po-input-double-icon-right-aa":"po-input-double-icon-right":t.size==="small"?"po-input-icon-right-aa":"po-input-icon-right")("id",t.id)("autocomplete",t.autocomplete)("disabled",t.disabled)("placeholder",t.placeholder)("required",t.required),u(3),l("ngIf",t.clean&&!t.disabled&&!!e.value),u(),P("po-field-icon-disabled",t.disabled)("po-lookup-button-aa",t.size==="small"),l("ariaLabel",t.literals.search),u(2),P("po-field-icon",!t.disabled)("po-field-icon-aa",!t.disabled&&t.size==="small")}}function ap(n,s){if(n&1&&(m(0,"span",18),R(1),h()),n&2){let e=a(2);u(),U(" ",e.placeholder," ")}}function sp(n,s){if(n&1){let e=y();m(0,"po-disclaimer",19),g("p-close-action",function(){let i=p(e).$implicit,o=a(2);return d(o.closeDisclaimer(i.value))}),h()}if(n&2){let e=s.$implicit,t=a(2);P("po-clickable",e.value===""&&!t.disabled),l("p-label",e.label)("p-value",e.value)("p-hide-close",e.value===""||t.disabled)}}function lp(n,s){if(n&1){let e=y();m(0,"po-clean",13),g("p-change-event",function(){p(e);let i=a(2);return d(i.cleanModel())})("click",function(i){return p(e),a(2).cleanModel(),d(i.preventDefault())})("keydown.enter",function(i){return p(e),a(2).cleanModel(),d(i.preventDefault())}),h()}if(n&2){a();let e=L(3),t=a();l("p-element-ref",e)("p-size",t.size),B("aria-label",t.literals.clean)}}function pp(n,s){if(n&1){let e=y();m(0,"div",6)(1,"div",7)(2,"div",14,1),g("blur",function(){p(e);let i=a();return d(i.onBlur())})("keydown",function(i){p(e);let o=a();return d(o.onKeyDown(i))}),v(4,ap,2,1,"span",15)(5,sp,1,5,"po-disclaimer",16),h(),m(6,"div",9),v(7,lp,1,3,"po-clean",17),m(8,"div",11,2),g("p-change-event",function(){p(e);let i=a();return d(i.openLookup())})("click",function(i){return p(e),a().openLookup(),d(i.preventDefault())})("keydown.enter",function(i){return p(e),a().openLookup(),d(i.preventDefault())}),N(10,"po-icon",12),h()()()()}if(n&2){let e=L(3),t=a();P("po-lookup-disabled",t.disabled),u(2),P("po-lookup-input-auto",t.autoHeight)("po-lookup-input-auto-aa",t.autoHeight&&t.size==="small")("po-lookup-input-static",!t.autoHeight)("po-lookup-input-static-aa",!t.autoHeight&&t.size==="small")("po-lookup-input-padding-button-clean",t.clean)("po-lookup-input-padding-button-clean-aa",t.clean&&t.size==="small")("po-lookup-input-disabled",t.disabled)("po-lookup-input-aa",t.size==="small"),l("tabindex",t.disabled?-1:0)("ngClass",t.clean&&e.value?"po-input-double-icon-right":"po-input-icon-right"),u(2),l("ngIf",t.placeholder&&!(t.disclaimers!=null&&t.disclaimers.length)),u(),l("ngForOf",t.visibleDisclaimers),u(2),l("ngIf",t.clean&&!t.disabled&&!!e.value),u(),P("po-field-icon-disabled",t.disabled)("po-lookup-button-aa",t.size==="small"),l("ariaLabel",t.literals.search),u(2),P("po-field-icon",!t.disabled)("po-field-icon-aa",!t.disabled&&t.size==="small")}}var dp=[Ot,Rt,{provide:Q,useExisting:z(()=>Gt),multi:!0},{provide:$,useExisting:z(()=>Gt),multi:!0},{provide:oi,useExisting:z(()=>Gt),multi:!1}],Gt=(()=>{class n extends or{renderer;cd;el;poThemeService;inputEl;initialized=!1;timeoutResize;visibleElement=!1;heightGroupButtons=44;disclaimers=[];visibleDisclaimers=[];id=`po-lookup[${ue()}]`;modalSubscription;isCalculateVisibleItems=!0;get autocomplete(){return this.noAutocomplete?"off":"on"}constructor(e,t,i,o,r,c,C,V){super(i,C,o,e,V),this.renderer=t,this.cd=r,this.el=c,this.poThemeService=V}ngAfterViewInit(){super.ngAfterViewInit(),this.autoFocus&&this.focus(),this.initialized=!0}ngDoCheck(){let e=this.inputEl?.nativeElement.offsetWidth;(e&&!this.visibleElement&&this.initialized||e&&this.isCalculateVisibleItems)&&(this.debounceResize(),this.visibleElement=!0),this.cd.markForCheck()}ngOnDestroy(){this.modalSubscription&&this.modalSubscription.unsubscribe()}ngOnInit(){super.ngOnInit(),this.initializeListeners()}focus(){this.disabled||this.inputEl.nativeElement.focus()}emitAdditionalHelp(){this.isAdditionalHelpEventTriggered()&&this.additionalHelp.emit()}getAdditionalHelpTooltip(){return this.isAdditionalHelpEventTriggered()?null:this.additionalHelpTooltip}openLookup(){if(this.isAllowedOpenModal()){let{advancedFilters:e,service:t,columns:i,filterParams:o,hideColumnsManager:r,literals:c,infiniteScroll:C,multiple:V,fieldLabel:q,fieldValue:ve,size:Be,spacing:Ie,textWrap:lt,virtualScroll:K,changeVisibleColumns:pt,columnRestoreManager:ki}=this,Ii=this.checkSelectedItems();this.poLookupModalService.openModal({advancedFilters:e,service:t,columns:i,filterParams:o,hideColumnsManager:r,title:this.label,literals:c,infiniteScroll:C,multiple:V,selectedItems:Ii,fieldLabel:q,fieldValue:ve,size:Be,spacing:Ie,textWrap:lt,virtualScroll:K,changeVisibleColumns:pt,columnRestoreManager:ki}),this.modalSubscription||(this.modalSubscription=this.poLookupModalService.selectValueEvent.subscribe(Ht=>{(Ht.length>1||this.disclaimers.length)&&(this.setDisclaimers(Ht),this.updateVisibleItems()),this.selectModel(Ht)}))}}checkSelectedItems(){return this.multiple?!this.disclaimers.length&&this.valueToModel?.length?[w({value:this.valueToModel[0],label:this.oldValue},this.selectedOptions[0])]:this.disclaimers:this.valueToModel}setDisclaimers(e){this.disclaimers=e.map(t=>w({value:t[this.fieldValue],label:t[this.fieldLabel]},t)),this.visibleDisclaimers=[...this.disclaimers],this.cd.markForCheck()}setViewValue(e,t){this.inputEl&&this.fieldFormat?this.setInputValueWipoieldFormat(t):this.inputEl&&(this.inputEl.nativeElement.value=this.valueToModel||this.valueToModel===0?e:""),this.cd.markForCheck()}getViewValue(){return this.inputEl.nativeElement.value}getErrorPattern(){return this.fieldErrorMessage&&this.hasInvalidClass()?this.fieldErrorMessage:""}hasInvalidClass(){return this.el.nativeElement.classList.contains("ng-invalid")&&this.el.nativeElement.classList.contains("ng-dirty")}onBlur(){this.onTouched?.(),this.getAdditionalHelpTooltip()&&this.displayAdditionalHelp&&this.showAdditionalHelp()}searchEvent(){this.onBlur();let e=this.getViewValue();this.oldValue?.toString()!==e&&this.searchById(e)}closeDisclaimer(e){this.disclaimers=this.disclaimers.filter(t=>t.value!==e),this.valueToModel=this.valueToModel.filter(t=>t!==e),this.updateVisibleItems(),this.callOnChange(this.valueToModel.length?this.valueToModel:void 0)}updateVisibleItems(){this.disclaimers&&this.disclaimers.length>0&&(this.visibleDisclaimers=[].concat(this.disclaimers)),this.debounceResize(),this.inputEl.nativeElement.offsetWidth||(this.isCalculateVisibleItems=!0)}debounceResize(){this.autoHeight||(clearTimeout(this.timeoutResize),this.debounce(this.calculateVisibleItems.bind(this),200))}debounce(e,t){this.timeoutResize=setTimeout(e,t)}getInputWidth(){return this.inputEl.nativeElement.offsetWidth-(this.clean?80:40)}getDisclaimersWidth(){let e=this.inputEl.nativeElement.querySelectorAll("po-disclaimer");return Array.from(e).map(t=>t.offsetWidth)}calculateVisibleItems(){let e=this.getDisclaimersWidth(),t=this.getInputWidth(),i=38,o=e[0],r=[],c=this.disclaimers;if(t>0){let C=0,V=0;for(V=0;V<c.length;V++)if(C+=e[V],r.push(c[V]),C>t){C-=e[V],this.isCalculateVisibleItems=!1;break}if(o||!c.length){if(V===c.length){this.isCalculateVisibleItems=!1;return}if(C+i>t){r.splice(-2,2);let q="+"+(c.length+1-V).toString();r.push({value:"",label:q})}else{r.splice(-1,1);let q="+"+(c.length-V).toString();r.push({value:"",label:q})}}}this.visibleDisclaimers=[...r]}onKeyDown(e){document.activeElement===this.inputEl.nativeElement&&this.keydown.emit(e)}showAdditionalHelp(){return this.displayAdditionalHelp=!this.displayAdditionalHelp,this.displayAdditionalHelp}showAdditionalHelpIcon(){return!!this.additionalHelpTooltip||this.isAdditionalHelpEventTriggered()}getDefaultSpacing(){return this.size===j.Small||Y(this.poThemeService,ct)===ct.Small?ct.ExtraSmall:ct.Medium}isAdditionalHelpEventTriggered(){return this.additionalHelpEventTrigger==="event"||this.additionalHelpEventTrigger===void 0&&this.additionalHelp.observed}isAllowedOpenModal(){return this.service||console.warn("No service informed"),!!(this.service&&!this.disabled)}formatFields(e,t){let i;if(Array.isArray(t))for(let o of t)e&&e[o]&&(i?i=i+" - "+e[o]:i=e[o]);return i||(i=e[this.fieldValue]),i}setInputValueWipoieldFormat(e){let t=Object.keys(e).length===0,i;Array.isArray(this.fieldFormat)?i=this.formatFields(e,this.fieldFormat):i=this.fieldFormat(e),this.oldValue=t?"":i,this.inputEl.nativeElement.value=t?"":i}initializeListeners(){this.resizeListener=this.renderer.listen("window","resize",()=>{this.updateVisibleItems()})}static \u0275fac=function(t){return new(t||n)(f(H),f(Fe),f(Ot),f(Rt),f(T),f(D),f(Yt),f(I))};static \u0275cmp=k({type:n,selectors:[["po-lookup"]],viewQuery:function(t,i){if(t&1&&x(op,5,D),t&2){let o;F(o=S())&&(i.inputEl=o.first)}},standalone:!1,features:[W(dp),A],decls:5,vars:16,consts:[["disclaimersTemplate",""],["inp",""],["iconLookup",""],[3,"p-disabled","p-id","p-label","p-optional","p-required","p-show-required"],["class","po-field-container-content po-lookup",3,"po-lookup-disabled",4,"ngIf","ngIfElse"],[3,"p-additional-help","p-additional-help-tooltip","p-append-in-body","p-help","p-disabled","p-error-pattern","p-error-limit","p-show-additional-help","p-show-additional-help-icon"],[1,"po-field-container-content","po-lookup"],[1,"po-search-container-wrapper"],["type","text",1,"po-lookup-input","po-lookup-input-trigger",3,"blur","keydown","ngClass","id","autocomplete","disabled","placeholder","required"],[1,"po-field-icon-container-right","po-lookup-buttons"],["tabindex","0","role","button","class","po-lookup-button po-lookup-button-clean",3,"po-lookup-button-aa","p-element-ref","p-size","p-change-event","click","keydown.enter",4,"ngIf"],["tabindex","0","role","button",1,"po-lookup-button","po-lookup-button-trigger","po-field-icon",3,"p-change-event","click","keydown.enter","ariaLabel"],["p-icon","ICON_SEARCH"],["tabindex","0","role","button",1,"po-lookup-button","po-lookup-button-clean",3,"p-change-event","click","keydown.enter","p-element-ref","p-size"],[1,"po-lookup-input","po-input-icon-right","po-icon-input",3,"blur","keydown","tabindex","ngClass"],["class","po-lookup-input-placeholder",4,"ngIf"],["class","po-lookup-input-disclaimer",3,"p-label","p-value","p-hide-close","po-clickable","p-close-action",4,"ngFor","ngForOf"],["tabindex","0","role","button","class","po-lookup-button po-lookup-button-clean",3,"p-element-ref","p-size","p-change-event","click","keydown.enter",4,"ngIf"],[1,"po-lookup-input-placeholder"],[1,"po-lookup-input-disclaimer",3,"p-close-action","p-label","p-value","p-hide-close"]],template:function(t,i){if(t&1){let o=y();m(0,"po-field-container",3),v(1,rp,9,22,"div",4),m(2,"po-field-container-bottom",5),g("p-additional-help",function(){return p(o),d(i.emitAdditionalHelp())}),h()(),v(3,pp,11,32,"ng-template",null,0,X)}if(t&2){let o=L(4);l("p-disabled",i.disabled)("p-id",i.id)("p-label",i.label)("p-optional",i.optional)("p-required",i.required)("p-show-required",i.showRequired),u(),l("ngIf",!i.disclaimers.length)("ngIfElse",o),u(),l("p-additional-help-tooltip",i.getAdditionalHelpTooltip())("p-append-in-body",i.appendBox)("p-help",i.help)("p-disabled",i.disabled)("p-error-pattern",i.getErrorPattern())("p-error-limit",i.errorLimit)("p-show-additional-help",i.displayAdditionalHelp)("p-show-additional-help-icon",i.showAdditionalHelpIcon())}},dependencies:[ce,we,M,xe,er,oe,J,te],encapsulation:2,changeDetection:0})}return n})();var up=n=>({$implicit:n});function hp(n,s){n&1&&ee(0)}function mp(n,s){if(n&1&&(m(0,"div")(1,"po-container",2)(2,"div",3),v(3,hp,1,0,"ng-container",4),h()()()),n&2){let e=s.$implicit,t=a();u(),l("p-title",e[0].container),u(2),l("ngTemplateOutlet",t.content)("ngTemplateOutletContext",Qe(3,up,e))}}var nr=(()=>{class n{content;fields;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=k({type:n,selectors:[["po-dynamic-container"]],inputs:{content:[0,"p-content","content"],fields:[0,"p-fields","fields"]},standalone:!1,decls:2,vars:1,consts:[[1,"po-dynamic-container"],["ngFor","",3,"ngForOf"],[3,"p-title"],[1,"po-row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){t&1&&(m(0,"div",0),v(1,mp,4,5,"ng-template",1),h()),t&2&&(u(),l("ngForOf",i.fields))},dependencies:[we,Ae,di],encapsulation:2})}return n})();var gp=["component"],_p=n=>({$implicit:n});function vp(n,s){n&1&&ee(0)}function yp(n,s){if(n&1&&(m(0,"div",4),v(1,vp,1,0,"ng-container",5),h()),n&2){let e=a(),t=L(2),i=L(4);P("po-dynamic",e.hasContainers),u(),l("ngTemplateOutlet",e.hasContainers?i:t)("ngTemplateOutletContext",Qe(4,_p,e.hasContainers?e.containerFields:e.visibleFields))}}function bp(n,s){if(n&1&&N(0,"po-divider",24),n&2){let e=a().$implicit;l("p-label",e.divider)}}function Cp(n,s){if(n&1){let e=y();m(0,"po-datepicker",25,2),de("ngModelChange",function(i){p(e);let o=a().$implicit,r=a(2);return pe(r.value[o.property],i)||(r.value[o.property]=i),d(i)}),g("p-change",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeField(i))})("p-additional-help",function(i){p(e);let o=a().$implicit;return d(o.additionalHelp==null?null:o.additionalHelp(i))})("p-keydown",function(i){p(e);let o=a().$implicit;return d(o.keydown==null?null:o.keydown(i))}),h()}if(n&2){let e=a().$implicit,t=a(2);l("name",e.property),le("ngModel",t.value[e.property]),l("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-clean",e.clean)("p-disabled",t.isDisabled(e))("p-error-pattern",e.errorMessage)("p-error-limit",e.errorLimit)("p-error-async",e.errorAsyncFunction)("p-auto-focus",e.focus)("p-format",e.format)("p-help",e.help)("p-iso-format",e.isoFormat)("p-label",e.label)("p-locale",e.locale)("p-max-date",e.maxValue)("p-min-date",e.minValue)("p-no-autocomplete",e.noAutocomplete)("p-optional",e.optional)("p-readonly",e.readonly)("p-required",e.required)("p-required-field-error-message",e.requiredFieldErrorMessage)("p-size",e.size||t.componentsSize)("p-show-required",e.showRequired)("p-placeholder",e.placeholder)}}function wp(n,s){if(n&1){let e=y();m(0,"po-datepicker-range",26,2),de("ngModelChange",function(i){p(e);let o=a().$implicit,r=a(2);return pe(r.value[o.property],i)||(r.value[o.property]=i),d(i)}),g("p-additional-help",function(i){p(e);let o=a().$implicit;return d(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeField(i))})("p-keydown",function(i){p(e);let o=a().$implicit;return d(o.keydown==null?null:o.keydown(i))}),h()}if(n&2){let e=a().$implicit,t=a(2);l("name",e.property),le("ngModel",t.value[e.property]),l("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-clean",e.clean)("p-disabled",t.isDisabled(e))("p-auto-focus",e.focus)("p-help",e.help)("p-label",e.label)("p-literals",e.literals)("p-max-date",e.maxValue)("p-min-date",e.minValue)("p-no-autocomplete",e.noAutocomplete)("p-optional",e.optional)("p-readonly",e.readonly)("p-required",e.required)("p-field-error-message",e.errorMessage)("p-error-limit",e.errorLimit)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)}}function Dp(n,s){if(n&1){let e=y();m(0,"po-input",27,2),de("ngModelChange",function(i){p(e);let o=a().$implicit,r=a(2);return pe(r.value[o.property],i)||(r.value[o.property]=i),d(i)}),g("p-additional-help",function(i){p(e);let o=a().$implicit;return d(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeField(i))})("p-change-model",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeFieldModel(i))})("p-keydown",function(i){p(e);let o=a().$implicit;return d(o.keydown==null?null:o.keydown(i))}),h()}if(n&2){let e=a().$implicit,t=a(2);l("name",e.property),le("ngModel",t.value[e.property]),l("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-clean",e.clean)("p-disabled",t.isDisabled(e))("p-error-pattern",e.errorMessage)("p-error-limit",e.errorLimit)("p-error-async-properties",e.errorAsyncProperties)("p-auto-focus",e.focus)("p-help",e.help)("p-label",e.label)("p-mask-format-model",e.maskFormatModel)("p-mask",e.mask)("p-maxlength",e.maxLength)("p-minlength",e.minLength)("p-no-autocomplete",e.noAutocomplete)("p-optional",e.optional)("p-pattern",e.pattern)("p-required",e.required)("p-required-field-error-message",e.requiredFieldErrorMessage)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)("p-icon",e.icon)("p-placeholder",e.placeholder)("p-readonly",e.readonly)}}function Vp(n,s){if(n&1){let e=y();m(0,"po-number",28,2),de("ngModelChange",function(i){p(e);let o=a().$implicit,r=a(2);return pe(r.value[o.property],i)||(r.value[o.property]=i),d(i)}),g("p-additional-help",function(i){p(e);let o=a().$implicit;return d(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeField(i))})("p-change-model",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeFieldModel(i))})("p-keydown",function(i){p(e);let o=a().$implicit;return d(o.keydown==null?null:o.keydown(i))}),h()}if(n&2){let e=a().$implicit,t=a(2);l("name",e.property),le("ngModel",t.value[e.property]),l("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-clean",e.clean)("p-disabled",t.isDisabled(e))("p-error-pattern",e.errorMessage)("p-error-limit",e.errorLimit)("p-error-async-properties",e.errorAsyncProperties)("p-auto-focus",e.focus)("p-help",e.help)("p-label",e.label)("p-min",e.minValue)("p-max",e.maxValue)("p-maxlength",e.maxLength)("p-minlength",e.minLength)("p-no-autocomplete",e.noAutocomplete)("p-optional",e.optional)("p-step",e.step)("p-readonly",e.readonly)("p-required",e.required)("p-required-field-error-message",e.requiredFieldErrorMessage)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)("p-icon",e.icon)("p-placeholder",e.placeholder)}}function Fp(n,s){if(n&1){let e=y();m(0,"po-decimal",29,2),de("ngModelChange",function(i){p(e);let o=a().$implicit,r=a(2);return pe(r.value[o.property],i)||(r.value[o.property]=i),d(i)}),g("p-additional-help",function(i){p(e);let o=a().$implicit;return d(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeField(i))})("p-change-model",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeFieldModel(i))})("p-keydown",function(i){p(e);let o=a().$implicit;return d(o.keydown==null?null:o.keydown(i))}),h()}if(n&2){let e=a().$implicit,t=a(2);l("name",e.property),le("ngModel",t.value[e.property]),l("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-clean",e.clean)("p-error-pattern",e.errorMessage)("p-error-limit",e.errorLimit)("p-error-async-properties",e.errorAsyncProperties)("p-disabled",t.isDisabled(e))("p-decimals-length",e.decimalsLength)("p-thousand-maxlength",e.thousandMaxlength)("p-icon",e.icon)("p-auto-focus",e.focus)("p-help",e.help)("p-label",e.label)("p-locale",e.locale)("p-min",e.minValue)("p-max",e.maxValue)("p-maxlength",e.maxLength)("p-minlength",e.minLength)("p-no-autocomplete",e.noAutocomplete)("p-optional",e.optional)("p-readonly",e.readonly)("p-required",e.required)("p-required-field-error-message",e.requiredFieldErrorMessage)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)("p-placeholder",e.placeholder)}}function Sp(n,s){if(n&1){let e=y();m(0,"po-select",30,2),de("ngModelChange",function(i){p(e);let o=a().$implicit,r=a(2);return pe(r.value[o.property],i)||(r.value[o.property]=i),d(i)}),g("p-additional-help",function(i){p(e);let o=a().$implicit;return d(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeField(i))})("p-keydown",function(i){p(e);let o=a().$implicit;return d(o.keydown==null?null:o.keydown(i))}),h()}if(n&2){let e=a().$implicit,t=a(2);l("name",e.property),le("ngModel",t.value[e.property]),l("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-field-label",e.fieldLabel)("p-field-value",e.fieldValue)("p-disabled",t.isDisabled(e))("p-help",e.help)("p-label",e.label)("p-optional",e.optional)("p-options",e.options)("p-required",e.required)("p-field-error-message",e.errorMessage)("p-error-limit",e.errorLimit)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)("p-placeholder",e.placeholder)("p-readonly",e.readonly)}}function xp(n,s){if(n&1){let e=y();m(0,"po-radio-group",31,2),de("ngModelChange",function(i){p(e);let o=a().$implicit,r=a(2);return pe(r.value[o.property],i)||(r.value[o.property]=i),d(i)}),g("p-additional-help",function(i){p(e);let o=a().$implicit;return d(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeField(i))})("p-keydown",function(i){p(e);let o=a().$implicit;return d(o.keydown==null?null:o.keydown(i))}),h()}if(n&2){let e=a().$implicit,t=a(2);l("name",e.property),le("ngModel",t.value[e.property]),l("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-columns",e.columns||3)("p-auto-focus",e.focus)("p-disabled",t.isDisabled(e))("p-help",e.help)("p-label",e.label)("p-optional",e.optional)("p-options",e.options)("p-required",e.required)("p-field-error-message",e.errorMessage)("p-error-limit",e.errorLimit)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)}}function Tp(n,s){if(n&1){let e=y();m(0,"po-switch",32,2),de("ngModelChange",function(i){p(e);let o=a().$implicit,r=a(2);return pe(r.value[o.property],i)||(r.value[o.property]=i),d(i)}),g("p-additional-help",function(i){p(e);let o=a().$implicit;return d(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeField(i))})("p-keydown",function(i){p(e);let o=a().$implicit;return d(o.keydown==null?null:o.keydown(i))}),h()}if(n&2){let e=a().$implicit,t=a(2);l("name",e.property),le("ngModel",t.value[e.property]),l("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-disabled",t.isDisabled(e))("p-error-limit",e.errorLimit)("p-field-error-message",e.errorMessage)("p-format-model",e.formatModel)("p-help",e.help)("p-label",e.label)("p-label-off",e.booleanFalse)("p-label-on",e.booleanTrue)("p-label-position",e.labelPosition)("p-hide-label-status",e.hideLabelStatus)("p-invalid-value",e.invalidValue)("p-size",e.size||t.componentsSize)}}function Pp(n,s){if(n&1){let e=y();m(0,"po-checkbox",33,2),de("ngModelChange",function(i){p(e);let o=a().$implicit,r=a(2);return pe(r.value[o.property],i)||(r.value[o.property]=i),d(i)}),g("p-additional-help",function(i){p(e);let o=a().$implicit;return d(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeField(i))})("p-keydown",function(i){p(e);let o=a().$implicit;return d(o.keydown==null?null:o.keydown(i))}),h()}if(n&2){let e=a().$implicit,t=a(2);l("name",e.property),le("ngModel",t.value[e.property]),l("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-auto-focus",e.focus)("p-disabled",t.isDisabled(e))("p-help",e.help)("p-label",e.label)("p-size",e.size||t.componentsSize)}}function Ep(n,s){if(n&1){let e=y();m(0,"po-combo",34,2),de("ngModelChange",function(i){p(e);let o=a().$implicit,r=a(2);return pe(r.value[o.property],i)||(r.value[o.property]=i),d(i)}),g("p-change",function(i){p(e);let o=a().$implicit,r=a(2);return d(r.onChangeField(o,i))})("p-keydown",function(i){p(e);let o=a().$implicit;return d(o.keydown==null?null:o.keydown(i))})("p-additional-help",function(i){p(e);let o=a().$implicit;return d(o.additionalHelp==null?null:o.additionalHelp(i))}),h()}if(n&2){let e=a().$implicit,t=a(2);l("name",e.property),le("ngModel",t.value[e.property]),l("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-auto-focus",e.focus)("p-clean",e.clean)("p-disabled",t.isDisabled(e))("p-field-label",e.fieldLabel)("p-field-value",e.fieldValue)("p-filter-params",e.params)("p-filter-service",e.optionsService)("p-help",e.help)("p-infinite-scroll",e.infiniteScroll)("p-infinite-scroll-distance",e.infiniteScrollDistance||100)("p-label",e.label)("p-literals",e.literals)("p-options",e.options)("p-optional",e.optional)("p-sort",e.sort)("p-required",e.required)("p-field-error-message",e.errorMessage)("p-error-limit",e.errorLimit)("p-show-required",e.showRequired)("p-icon",e.icon)("p-placeholder",e.placeholder)("p-filter-minlength",e.filterMinlength)("p-filter-mode",e.filterMode)("p-disabled-init-filter",e.disabledInitFilter)("p-disabled-tab-filter",e.disabledTabFilter)("p-debounce-time",e.debounceTime)("p-change-on-enter",e.changeOnEnter)("p-remove-initial-filter",e.removeInitialFilter)("p-size",e.size||t.componentsSize)("p-listbox-control-position",e.listboxControlPosition)}}function kp(n,s){if(n&1){let e=y();m(0,"po-lookup",35,2),de("ngModelChange",function(i){p(e);let o=a().$implicit,r=a(2);return pe(r.value[o.property],i)||(r.value[o.property]=i),d(i)}),g("p-change",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeField(i))})("p-additional-help",function(i){p(e);let o=a().$implicit;return d(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change-visible-columns",function(i){p(e);let o=a().$implicit;return d(o.changeVisibleColumns==null?null:o.changeVisibleColumns(i))})("p-keydown",function(i){p(e);let o=a().$implicit;return d(o.keydown==null?null:o.keydown(i))})("p-restore-column-manager",function(i){p(e);let o=a().$implicit;return d(o.columnRestoreManager==null?null:o.columnRestoreManager(i))}),h()}if(n&2){let e=a().$implicit,t=a(2);l("name",e.property),le("ngModel",t.value[e.property]),l("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-clean",e.clean)("p-columns",e.columns)("p-disabled",t.isDisabled(e))("p-field-label",e.fieldLabel||"label")("p-field-value",e.fieldValue||"value")("p-filter-params",e.params)("p-filter-service",e.searchService)("p-auto-focus",e.focus)("p-auto-height",e.autoHeight)("p-help",e.help)("p-field-format",e.format)("p-infinite-scroll",e.infiniteScroll)("p-label",e.label)("p-literals",e.literals)("p-multiple",e.multiple)("p-no-autocomplete",e.noAutocomplete)("p-optional",e.optional)("p-required",e.required)("p-field-error-message",e.errorMessage)("p-error-limit",e.errorLimit)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)("p-placeholder",e.placeholder)("p-advanced-filters",e.advancedFilters)}}function Ip(n,s){if(n&1){let e=y();m(0,"po-checkbox-group",36,2),de("ngModelChange",function(i){p(e);let o=a().$implicit,r=a(2);return pe(r.value[o.property],i)||(r.value[o.property]=i),d(i)}),g("p-additional-help",function(i){p(e);let o=a().$implicit;return d(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeField(i))})("p-keydown",function(i){p(e);let o=a().$implicit;return d(o.keydown==null?null:o.keydown(i))}),h()}if(n&2){let e=a().$implicit,t=a(2);l("name",e.property),le("ngModel",t.value[e.property]),l("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-columns",e.columns||3)("p-auto-focus",e.focus)("p-disabled",t.isDisabled(e))("p-help",e.help)("p-label",e.label)("p-optional",e.optional)("p-options",e.options)("p-required",e.required)("p-show-required",e.showRequired)("p-field-error-message",e.errorMessage)("p-error-limit",e.errorLimit)("p-size",e.size||t.componentsSize)}}function Mp(n,s){if(n&1){let e=y();m(0,"po-multiselect",37,2),de("ngModelChange",function(i){p(e);let o=a().$implicit,r=a(2);return pe(r.value[o.property],i)||(r.value[o.property]=i),d(i)}),g("p-change",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeField(i))})("p-additional-help",function(i){p(e);let o=a().$implicit;return d(o.additionalHelp==null?null:o.additionalHelp(i))})("p-keydown",function(i){p(e);let o=a().$implicit;return d(o.keydown==null?null:o.keydown(i))}),h()}if(n&2){let e=a().$implicit,t=a(2);l("name",e.property),le("ngModel",t.value[e.property]),l("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-disabled",t.isDisabled(e))("p-auto-focus",e.focus)("p-auto-height",e.autoHeight)("p-help",e.help)("p-label",e.label)("p-literals",e.literals)("p-optional",e.optional)("p-options",e.options)("p-required",e.required)("p-field-error-message",e.errorMessage)("p-error-limit",e.errorLimit)("p-show-required",e.showRequired)("p-placeholder",e.placeholder)("p-field-label",e.fieldLabel)("p-field-value",e.fieldValue)("p-filter-service",e.optionsService)("p-filter-mode",e.filterMode)("p-debounce-time",e.debounceTime)("p-sort",e.sort)("p-placeholder-search",e.placeholderSearch)("p-hide-search",e.hideSearch)("p-hide-select-all",e.hideSelectAll)("p-size",e.size||t.componentsSize)("p-listbox-control-position",e.listboxControlPosition)}}function Ap(n,s){if(n&1){let e=y();m(0,"po-textarea",38,2),de("ngModelChange",function(i){p(e);let o=a().$implicit,r=a(2);return pe(r.value[o.property],i)||(r.value[o.property]=i),d(i)}),g("p-additional-help",function(i){p(e);let o=a().$implicit;return d(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeField(i))})("p-change-model",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeFieldModel(i))})("p-keydown",function(i){p(e);let o=a().$implicit;return d(o.keydown==null?null:o.keydown(i))}),h()}if(n&2){let e=a().$implicit,t=a(2);l("name",e.property),le("ngModel",t.value[e.property]),l("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-disabled",t.isDisabled(e))("p-auto-focus",e.focus)("p-help",e.help)("p-label",e.label)("p-maxlength",e.maxLength)("p-minlength",e.minLength)("p-optional",e.optional)("p-readonly",e.readonly)("p-required",e.required)("p-field-error-message",e.errorMessage)("p-error-limit",e.errorLimit)("p-show-required",e.showRequired)("p-rows",e.rows)("p-size",e.size||t.componentsSize)("p-placeholder",e.placeholder)}}function Lp(n,s){if(n&1){let e=y();m(0,"po-password",39,2),de("ngModelChange",function(i){p(e);let o=a().$implicit,r=a(2);return pe(r.value[o.property],i)||(r.value[o.property]=i),d(i)}),g("p-additional-help",function(i){p(e);let o=a().$implicit;return d(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeField(i))})("p-change-model",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeFieldModel(i))})("p-keydown",function(i){p(e);let o=a().$implicit;return d(o.keydown==null?null:o.keydown(i))}),h()}if(n&2){let e=a().$implicit,t=a(2);l("name",e.property),le("ngModel",t.value[e.property]),l("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-clean",e.clean)("p-disabled",t.isDisabled(e))("p-error-pattern",e.errorMessage)("p-error-limit",e.errorLimit)("p-error-async-properties",e.errorAsyncProperties)("p-auto-focus",e.focus)("p-help",e.help)("p-hide-password-peek",e.hidePasswordPeek)("p-icon",e.icon)("p-label",e.label)("p-maxlength",e.maxLength)("p-minlength",e.minLength)("p-no-autocomplete",e.noAutocomplete)("p-optional",e.optional)("p-pattern",e.pattern)("p-readonly",e.readonly)("p-required",e.required)("p-required-field-error-message",e.requiredFieldErrorMessage)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)("p-placeholder",e.placeholder)}}function Op(n,s){if(n&1){let e=y();m(0,"po-upload",40,2),de("ngModelChange",function(i){p(e);let o=a().$implicit,r=a(2);return pe(r.value[o.property],i)||(r.value[o.property]=i),d(i)}),g("p-custom-action-click",function(i){p(e);let o=a().$implicit;return d(o.customActionClick(i))})("p-error",function(i){p(e);let o=a().$implicit;return d(o.onError(i))})("p-success",function(i){p(e);let o=a().$implicit;return d(o.onSuccess(i))})("p-upload",function(i){p(e);let o=a().$implicit;return d(o.onUpload(i))})("p-additional-help",function(i){p(e);let o=a().$implicit;return d(o.additionalHelp==null?null:o.additionalHelp(i))})("p-change",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeField(i))})("p-change-model",function(){p(e);let i=a().$implicit,o=a(2);return d(o.onChangeFieldModel(i))})("p-keydown",function(i){p(e);let o=a().$implicit;return d(o.keydown==null?null:o.keydown(i))}),h()}if(n&2){let e=a().$implicit,t=a(2);le("ngModel",t.value[e.property]),l("ngClass",e.componentClass)("additionalHelpEventTrigger",e.additionalHelp?"event":"noEvent")("p-additional-help-tooltip",e.additionalHelpTooltip)("p-auto-upload",e.autoUpload)("p-directory",e.directory)("p-disabled",t.isDisabled(e))("p-drag-drop",e.dragDrop)("p-drag-drop-height",e.dragDropHeight)("p-restrictions",e.restrictions)("p-form-field",e.formField)("p-headers",e.headers)("p-help",e.help)("p-hide-restrictions-info",e.hideRestrictionsInfo)("p-hide-select-button",e.hideSelectButton)("p-hide-send-button",e.hideSendButton)("p-multiple",e.multiple)("p-label",e.label)("p-literals",e.literals)("name",e.property)("p-custom-action",e.customAction)("p-optional",e.optional)("p-required",e.required)("p-show-required",e.showRequired)("p-size",e.size||t.componentsSize)("p-url",e.url)}}function Rp(n,s){if(n&1&&(ye(0),v(1,bp,1,1,"po-divider",7)(2,Cp,2,26,"po-datepicker",8)(3,wp,2,21,"po-datepicker-range",9)(4,Dp,2,27,"po-input",10)(5,Vp,2,27,"po-number",11)(6,Fp,2,29,"po-decimal",12)(7,Sp,2,19,"po-select",13)(8,xp,2,17,"po-radio-group",14)(9,Tp,2,17,"po-switch",15)(10,Pp,2,10,"po-checkbox",16)(11,Ep,2,35,"po-combo",17)(12,kp,2,29,"po-lookup",18)(13,Ip,2,17,"po-checkbox-group",19)(14,Mp,2,29,"po-multiselect",20)(15,Ap,2,20,"po-textarea",21)(16,Lp,2,26,"po-password",22)(17,Op,2,26,"po-upload",23),be()),n&2){let e=s.$implicit,t=a(2);u(),l("ngIf",e==null||e.divider==null?null:e.divider.trim()),u(),l("ngIf",t.compareTo(e.control,"datepicker")),u(),l("ngIf",t.compareTo(e.control,"datepickerrange")),u(),l("ngIf",t.compareTo(e.control,"input")),u(),l("ngIf",t.compareTo(e.control,"number")),u(),l("ngIf",t.compareTo(e.control,"decimal")),u(),l("ngIf",t.compareTo(e.control,"select")),u(),l("ngIf",t.compareTo(e.control,"radioGroup")),u(),l("ngIf",t.compareTo(e.control,"switch")),u(),l("ngIf",t.compareTo(e.control,"checkbox")),u(),l("ngIf",t.compareTo(e.control,"combo")),u(),l("ngIf",t.compareTo(e.control,"lookup")),u(),l("ngIf",t.compareTo(e.control,"checkboxGroup")),u(),l("ngIf",t.compareTo(e.control,"multiselect")),u(),l("ngIf",t.compareTo(e.control,"textarea")),u(),l("ngIf",t.compareTo(e.control,"password")),u(),l("ngIf",t.compareTo(e.control,"upload"))}}function Hp(n,s){if(n&1&&v(0,Rp,18,17,"ng-container",6),n&2){let e=s.$implicit,t=a();l("ngForOf",e)("ngForTrackBy",t.trackBy)}}function qp(n,s){if(n&1&&N(0,"po-dynamic-container",41),n&2){let e=s.$implicit;a();let t=L(2);l("p-fields",e)("p-content",t)}}var rr=(()=>{class n extends jo{poThemeService;validationService;changes;form;components;previousValue={};constructor(e,t,i,o,r){super(t,e),this.poThemeService=t,this.validationService=i,this.changes=o,this.form=r}ngOnChanges(e){e.fields&&(this.visibleFields=this.getVisibleFields(),e.fields.previousValue&&this.hasContainer()&&this.hasChangeContainer(e.fields.previousValue,e.fields.currentValue),(!e.fields.previousValue||!e.fields.currentValue)&&this.setContainerFields()),e.value&&this.updatePreviousValue()}focus(e){let t=this.components.find(i=>i.name===e);t&&t.focus()}isDisabled(e){return e.disabled||this.disabledForm}onChangeField(e,t){return tt(this,null,function*(){let{property:i}=e,o=e.type==="boolean",r=this.previousValue[i]!==this.value[i];if(e.optionsService&&this.objectValue.emit(t),(this.form.dirty||o)&&r){let{changedField:c,changedFieldIndex:C}=this.getField(i);c.validate&&(yield this.validateField(c,C,e)),this.triggerValidationOnForm(C)}this.updatePreviousValue()})}onChangeFieldModel(e){if(this.validateOnInput){let{property:t}=e,{changedFieldIndex:i}=this.getField(t);this.triggerValidationOnForm(i)}}showAdditionalHelp(e){let t=this.components.find(i=>i.name===e);t&&t.showAdditionalHelp()}updatePreviousValue(){this.previousValue=JSON.parse(JSON.stringify(this.value))}trackBy(e,t){return t.property}applyFieldValidation(e,t){let i=this.fields[e];this.fields[e]=w(w({},i),t.field),this.updateFields(),t.hasOwnProperty("value")&&(this.value[i.property]=t.value),this.changes.detectChanges(),t.focus&&this.focus(i.property)}getField(e){let t=this.fields.findIndex(o=>o.property===e);return{changedField:this.fields[t],changedFieldIndex:t}}triggerValidationOnForm(e){let t=this.validateFields?.length?this.validateFieldsChecker(this.validateFields,this.fields[e].property):!0;if(this.validate&&t&&this.formValidate.observers.length){let o=this.fields[e];this.formValidate.emit(o)}}updateFields(){this.fieldsChange.emit(this.fields),this.visibleFields=this.getVisibleFields(),this.setContainerFields()}validateFieldsChecker(e,t){return e.some(i=>i===t)}validateField(e,t,i){return tt(this,null,function*(){let o=this.value[e.property],r=i.disabled;i.disabled=!0,this.changes.detectChanges();try{let c=yield this.validationService.sendFieldChange(e,o).toPromise();this.applyFieldValidation(t,c)}catch{i.disabled=r}})}hasChangeContainer(e,t){let i=e.map((K,pt)=>({container:K.container||null,property:K.property,index:pt,order:K.order,visible:K.visible??!0})),o=t.map((K,pt)=>({container:K.container||null,property:K.property,index:pt,order:K.order,visible:K.visible??!0})),r=i.filter(K=>K.container),c=o.filter(K=>K.container),C=i.filter(K=>K.order),V=o.filter(K=>K.order),q=i.filter(K=>K.visible===!0),ve=o.filter(K=>K.visible===!0),Be=i.filter(K=>!K.visible),Ie=o.filter(K=>!K.visible);if(r.length!==c.length){this.setContainerFields();return}if(C.length!==V.length){this.setContainerFields();return}if(q.length!==ve.length){this.setContainerFields();return}if(Be.length!==Ie.length){this.setContainerFields();return}c.length&&this.handleChangesContainer(r,c,"container"),V.length&&this.handleChangesContainer(C,V,"order"),ve.length&&this.handleChangesContainer(q,ve,"visible"),Ie.length&&this.handleChangesContainer(Be,Ie,"visible");let lt=this.diffObjectsArray(e,this.getVisibleFields());this.containerFields=this.updateFieldContainer(lt,this.containerFields)}updateFieldContainer(e,t){let i=new Map(e.map(o=>[o.property,o]));return t.forEach(o=>{o.forEach((r,c)=>{let C=i.get(r.property);C&&(o[c]=w(w({},r),C))})}),t}diffObjectsArray(e,t){let i=[];return t.forEach(o=>{let r=e.find(c=>c.property===o.property);if(!r)i.push(w({},o));else{let c={property:o.property},C=!1;for(let V in o)o[V]!==r[V]&&(c[V]=o[V],C=!0);C&&i.push(c)}}),i}hasContainer(){return this.visibleFields?.some(e=>e.container)??!1}handleChangesContainer(e,t,i){for(let o=0;o<e.length;o++){let r=e[o],c=t[o];if(r[i]===c[i]&&r.index!==c.index){this.setContainerFields();return}if(r[i]!==c[i]&&r.index===c.index){if(i==="order"){this.setContainerFields();return}this.containerFields.forEach(C=>C.forEach(V=>{V.property===c.property&&(V[i]=c[i])}))}if(r[i]!==c[i]&&r.property!==c.property){this.setContainerFields();return}}}static \u0275fac=function(t){return new(t||n)(f(ii),f(I),f(kt),f(T),f(Ct))};static \u0275cmp=k({type:n,selectors:[["po-dynamic-form-fields"]],viewQuery:function(t,i){if(t&1&&x(gp,5),t&2){let o;F(o=S())&&(i.components=o)}},standalone:!1,features:[W([kt],[{provide:no,useExisting:Ct}]),A,Ce],decls:5,vars:1,consts:[["poContent",""],["poContentContainer",""],["component",""],["class","po-row",3,"po-dynamic",4,"ngIf"],[1,"po-row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngFor","ngForOf","ngForTrackBy"],["class","po-sm-12",3,"p-label",4,"ngIf"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-error-pattern","p-error-limit","p-error-async","p-auto-focus","p-format","p-help","p-iso-format","p-label","p-locale","p-max-date","p-min-date","p-no-autocomplete","p-optional","p-readonly","p-required","p-required-field-error-message","p-size","p-show-required","p-placeholder","ngModelChange","p-change","p-additional-help","p-keydown",4,"ngIf"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-auto-focus","p-help","p-label","p-literals","p-max-date","p-min-date","p-no-autocomplete","p-optional","p-readonly","p-required","p-field-error-message","p-error-limit","p-show-required","p-size","ngModelChange","p-additional-help","p-change","p-keydown",4,"ngIf"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-error-pattern","p-error-limit","p-error-async-properties","p-auto-focus","p-help","p-label","p-mask-format-model","p-mask","p-maxlength","p-minlength","p-no-autocomplete","p-optional","p-pattern","p-required","p-required-field-error-message","p-show-required","p-size","p-icon","p-placeholder","p-readonly","ngModelChange","p-additional-help","p-change","p-change-model","p-keydown",4,"ngIf"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-error-pattern","p-error-limit","p-error-async-properties","p-auto-focus","p-help","p-label","p-min","p-max","p-maxlength","p-minlength","p-no-autocomplete","p-optional","p-step","p-readonly","p-required","p-required-field-error-message","p-show-required","p-size","p-icon","p-placeholder","ngModelChange","p-additional-help","p-change","p-change-model","p-keydown",4,"ngIf"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-error-pattern","p-error-limit","p-error-async-properties","p-disabled","p-decimals-length","p-thousand-maxlength","p-icon","p-auto-focus","p-help","p-label","p-locale","p-min","p-max","p-maxlength","p-minlength","p-no-autocomplete","p-optional","p-readonly","p-required","p-required-field-error-message","p-show-required","p-size","p-placeholder","ngModelChange","p-additional-help","p-change","p-change-model","p-keydown",4,"ngIf"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-field-label","p-field-value","p-disabled","p-help","p-label","p-optional","p-options","p-required","p-field-error-message","p-error-limit","p-show-required","p-size","p-placeholder","p-readonly","ngModelChange","p-additional-help","p-change","p-keydown",4,"ngIf"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-columns","p-auto-focus","p-disabled","p-help","p-label","p-optional","p-options","p-required","p-field-error-message","p-error-limit","p-show-required","p-size","ngModelChange","p-additional-help","p-change","p-keydown",4,"ngIf"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-disabled","p-error-limit","p-field-error-message","p-format-model","p-help","p-label","p-label-off","p-label-on","p-label-position","p-hide-label-status","p-invalid-value","p-size","ngModelChange","p-additional-help","p-change","p-keydown",4,"ngIf"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-auto-focus","p-disabled","p-help","p-label","p-size","ngModelChange","p-additional-help","p-change","p-keydown",4,"ngIf"],["p-emit-object-value","",3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-auto-focus","p-clean","p-disabled","p-field-label","p-field-value","p-filter-params","p-filter-service","p-help","p-infinite-scroll","p-infinite-scroll-distance","p-label","p-literals","p-options","p-optional","p-sort","p-required","p-field-error-message","p-error-limit","p-show-required","p-icon","p-placeholder","p-filter-minlength","p-filter-mode","p-disabled-init-filter","p-disabled-tab-filter","p-debounce-time","p-change-on-enter","p-remove-initial-filter","p-size","p-listbox-control-position","ngModelChange","p-change","p-keydown","p-additional-help",4,"ngIf"],["p-field-label","label","p-field-value","value",3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-columns","p-disabled","p-field-label","p-field-value","p-filter-params","p-filter-service","p-auto-focus","p-auto-height","p-help","p-field-format","p-infinite-scroll","p-label","p-literals","p-multiple","p-no-autocomplete","p-optional","p-required","p-field-error-message","p-error-limit","p-show-required","p-size","p-placeholder","p-advanced-filters","ngModelChange","p-change","p-additional-help","p-change-visible-columns","p-keydown","p-restore-column-manager",4,"ngIf"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-columns","p-auto-focus","p-disabled","p-help","p-label","p-optional","p-options","p-required","p-show-required","p-field-error-message","p-error-limit","p-size","ngModelChange","p-additional-help","p-change","p-keydown",4,"ngIf"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-disabled","p-auto-focus","p-auto-height","p-help","p-label","p-literals","p-optional","p-options","p-required","p-field-error-message","p-error-limit","p-show-required","p-placeholder","p-field-label","p-field-value","p-filter-service","p-filter-mode","p-debounce-time","p-sort","p-placeholder-search","p-hide-search","p-hide-select-all","p-size","p-listbox-control-position","ngModelChange","p-change","p-additional-help","p-keydown",4,"ngIf"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-disabled","p-auto-focus","p-help","p-label","p-maxlength","p-minlength","p-optional","p-readonly","p-required","p-field-error-message","p-error-limit","p-show-required","p-rows","p-size","p-placeholder","ngModelChange","p-additional-help","p-change","p-change-model","p-keydown",4,"ngIf"],[3,"name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-error-pattern","p-error-limit","p-error-async-properties","p-auto-focus","p-help","p-hide-password-peek","p-icon","p-label","p-maxlength","p-minlength","p-no-autocomplete","p-optional","p-pattern","p-readonly","p-required","p-required-field-error-message","p-show-required","p-size","p-placeholder","ngModelChange","p-additional-help","p-change","p-change-model","p-keydown",4,"ngIf"],[3,"ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-auto-upload","p-directory","p-disabled","p-drag-drop","p-drag-drop-height","p-restrictions","p-form-field","p-headers","p-help","p-hide-restrictions-info","p-hide-select-button","p-hide-send-button","p-multiple","p-label","p-literals","name","p-custom-action","p-optional","p-required","p-show-required","p-size","p-url","ngModelChange","p-custom-action-click","p-error","p-success","p-upload","p-additional-help","p-change","p-change-model","p-keydown",4,"ngIf"],[1,"po-sm-12",3,"p-label"],[3,"ngModelChange","p-change","p-additional-help","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-error-pattern","p-error-limit","p-error-async","p-auto-focus","p-format","p-help","p-iso-format","p-label","p-locale","p-max-date","p-min-date","p-no-autocomplete","p-optional","p-readonly","p-required","p-required-field-error-message","p-size","p-show-required","p-placeholder"],[3,"ngModelChange","p-additional-help","p-change","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-auto-focus","p-help","p-label","p-literals","p-max-date","p-min-date","p-no-autocomplete","p-optional","p-readonly","p-required","p-field-error-message","p-error-limit","p-show-required","p-size"],[3,"ngModelChange","p-additional-help","p-change","p-change-model","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-error-pattern","p-error-limit","p-error-async-properties","p-auto-focus","p-help","p-label","p-mask-format-model","p-mask","p-maxlength","p-minlength","p-no-autocomplete","p-optional","p-pattern","p-required","p-required-field-error-message","p-show-required","p-size","p-icon","p-placeholder","p-readonly"],[3,"ngModelChange","p-additional-help","p-change","p-change-model","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-error-pattern","p-error-limit","p-error-async-properties","p-auto-focus","p-help","p-label","p-min","p-max","p-maxlength","p-minlength","p-no-autocomplete","p-optional","p-step","p-readonly","p-required","p-required-field-error-message","p-show-required","p-size","p-icon","p-placeholder"],[3,"ngModelChange","p-additional-help","p-change","p-change-model","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-error-pattern","p-error-limit","p-error-async-properties","p-disabled","p-decimals-length","p-thousand-maxlength","p-icon","p-auto-focus","p-help","p-label","p-locale","p-min","p-max","p-maxlength","p-minlength","p-no-autocomplete","p-optional","p-readonly","p-required","p-required-field-error-message","p-show-required","p-size","p-placeholder"],[3,"ngModelChange","p-additional-help","p-change","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-field-label","p-field-value","p-disabled","p-help","p-label","p-optional","p-options","p-required","p-field-error-message","p-error-limit","p-show-required","p-size","p-placeholder","p-readonly"],[3,"ngModelChange","p-additional-help","p-change","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-columns","p-auto-focus","p-disabled","p-help","p-label","p-optional","p-options","p-required","p-field-error-message","p-error-limit","p-show-required","p-size"],[3,"ngModelChange","p-additional-help","p-change","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-disabled","p-error-limit","p-field-error-message","p-format-model","p-help","p-label","p-label-off","p-label-on","p-label-position","p-hide-label-status","p-invalid-value","p-size"],[3,"ngModelChange","p-additional-help","p-change","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-auto-focus","p-disabled","p-help","p-label","p-size"],["p-emit-object-value","",3,"ngModelChange","p-change","p-keydown","p-additional-help","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-auto-focus","p-clean","p-disabled","p-field-label","p-field-value","p-filter-params","p-filter-service","p-help","p-infinite-scroll","p-infinite-scroll-distance","p-label","p-literals","p-options","p-optional","p-sort","p-required","p-field-error-message","p-error-limit","p-show-required","p-icon","p-placeholder","p-filter-minlength","p-filter-mode","p-disabled-init-filter","p-disabled-tab-filter","p-debounce-time","p-change-on-enter","p-remove-initial-filter","p-size","p-listbox-control-position"],["p-field-label","label","p-field-value","value",3,"ngModelChange","p-change","p-additional-help","p-change-visible-columns","p-keydown","p-restore-column-manager","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-columns","p-disabled","p-field-label","p-field-value","p-filter-params","p-filter-service","p-auto-focus","p-auto-height","p-help","p-field-format","p-infinite-scroll","p-label","p-literals","p-multiple","p-no-autocomplete","p-optional","p-required","p-field-error-message","p-error-limit","p-show-required","p-size","p-placeholder","p-advanced-filters"],[3,"ngModelChange","p-additional-help","p-change","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-columns","p-auto-focus","p-disabled","p-help","p-label","p-optional","p-options","p-required","p-show-required","p-field-error-message","p-error-limit","p-size"],[3,"ngModelChange","p-change","p-additional-help","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-disabled","p-auto-focus","p-auto-height","p-help","p-label","p-literals","p-optional","p-options","p-required","p-field-error-message","p-error-limit","p-show-required","p-placeholder","p-field-label","p-field-value","p-filter-service","p-filter-mode","p-debounce-time","p-sort","p-placeholder-search","p-hide-search","p-hide-select-all","p-size","p-listbox-control-position"],[3,"ngModelChange","p-additional-help","p-change","p-change-model","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-disabled","p-auto-focus","p-help","p-label","p-maxlength","p-minlength","p-optional","p-readonly","p-required","p-field-error-message","p-error-limit","p-show-required","p-rows","p-size","p-placeholder"],[3,"ngModelChange","p-additional-help","p-change","p-change-model","p-keydown","name","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-clean","p-disabled","p-error-pattern","p-error-limit","p-error-async-properties","p-auto-focus","p-help","p-hide-password-peek","p-icon","p-label","p-maxlength","p-minlength","p-no-autocomplete","p-optional","p-pattern","p-readonly","p-required","p-required-field-error-message","p-show-required","p-size","p-placeholder"],[3,"ngModelChange","p-custom-action-click","p-error","p-success","p-upload","p-additional-help","p-change","p-change-model","p-keydown","ngModel","ngClass","additionalHelpEventTrigger","p-additional-help-tooltip","p-auto-upload","p-directory","p-disabled","p-drag-drop","p-drag-drop-height","p-restrictions","p-form-field","p-headers","p-help","p-hide-restrictions-info","p-hide-select-button","p-hide-send-button","p-multiple","p-label","p-literals","name","p-custom-action","p-optional","p-required","p-show-required","p-size","p-url"],[3,"p-fields","p-content"]],template:function(t,i){t&1&&v(0,yp,2,6,"div",3)(1,Hp,1,2,"ng-template",null,0,X)(3,qp,1,2,"ng-template",null,1,X),t&2&&l("ngIf",i.visibleFields&&i.visibleFields.length>0)},dependencies:[ce,we,M,Ae,nt,rt,co,Lo,Uo,nn,dn,cn,Di,mn,Gt,xi,En,kn,$n,Jn,Un,Po,Oo,nr],encapsulation:2})}return n})();var Bp=["fieldsComponent"],Np=["dynamicForm"];function jp(n,s){n&1&&ee(0)}function Wp(n,s){if(n&1&&N(0,"po-dynamic-form-fields",5,2),n&2){let e=a();l("p-auto-focus",e.autoFocus)("p-components-size",e.componentsSize)("p-fields",e.fields)("p-value",e.value)}}function Up(n,s){if(n&1){let e=y();m(0,"form",null,3)(2,"po-dynamic-form-fields",6,2),de("p-fieldsChange",function(i){p(e);let o=a();return pe(o.fields,i)||(o.fields=i),d(i)}),g("p-object-value",function(i){p(e);let o=a();return d(o.sendObjectValue(i))})("p-form-validate",function(i){p(e);let o=a();return d(o.validateForm(i))}),h()()}if(n&2){let e=a();u(2),le("p-fields",e.fields),l("p-auto-focus",e.autoFocus)("p-disabled-form",e.disabledForm)("p-components-size",e.componentsSize)("p-validate",e.validate)("p-validate-fields",e.validateFields)("p-validate-on-input",e.validateOnInput)("p-value",e.value)}}var q0=(()=>{class n extends Ro{poThemeService;changes;loadService;validationService;fieldsComponent;disabledForm;displayAdditionalHelp=!1;_form;onLoadSubscription;sendFormSubscription;comboOptionSubject=new ft;set form(e){setTimeout(()=>{this._form=e,this.emitForm()})}get form(){return this._form||{}}constructor(e,t,i,o){super(e),this.poThemeService=e,this.changes=t,this.loadService=i,this.validationService=o}ngOnDestroy(){this.removeListeners()}ngOnInit(){this.load&&this.loadDataOnInitialize()}focus(e){this.fieldsComponent.focus(e)}getObjectValue(){return this.comboOptionSubject.asObservable()}sendObjectValue(e){this.comboOptionSubject.next(e)}showAdditionalHelp(e){this.fieldsComponent.showAdditionalHelp(e)}validateForm(e){let t=document.activeElement;this.disableForm(!0);let i=()=>this.disableForm(!1);this.sendFormSubscription=this.validationService.sendFormChange(this.validate,e,this.value).subscribe(this.applyFormValidation(t),i)}applyFormUpdatesOnLoad(e){return t=>{this.updateModelOnLoad(t),this.disableForm(!1),this.setFocusOnFieldByProperty(t.focus,e)}}applyFormValidation(e){return t=>{this.updateModelWithValidation(t),this.disableForm(!1),this.setFocusOnFieldByProperty(t.focus,e)}}disableForm(e){this.disabledForm=e,this.changes.detectChanges()}emitForm(){!this.groupForm&&this.formOutput.observers.length&&this.formOutput.emit(this.form)}loadDataOnInitialize(){let e=document.activeElement;this.disabledForm=!0;let t=()=>this.disabledForm=!1;this.onLoadSubscription=this.loadService.executeLoad(this.load,this.value).subscribe(this.applyFormUpdatesOnLoad(e),t)}removeListeners(){this.onLoadSubscription&&this.onLoadSubscription.unsubscribe(),this.sendFormSubscription&&this.sendFormSubscription.unsubscribe()}setFocusOnFieldByProperty(e,t){e?setTimeout(()=>this.focus(e)):t.focus()}updateModelOnLoad(e){Object.assign(this.value,e.value),this.fields=this.loadService.createAndUpdateFieldsForm(e.fields,this.fields)}updateModelWithValidation(e){Object.assign(this.value,e.value),this.fieldsComponent.updatePreviousValue(),this.fields=this.validationService.updateFieldsForm(e.fields,this.fields)}static \u0275fac=function(t){return new(t||n)(f(I),f(T),f(Ho),f(kt))};static \u0275cmp=k({type:n,selectors:[["po-dynamic-form"]],viewQuery:function(t,i){if(t&1&&(x(Bp,5),x(Np,5)),t&2){let o;F(o=S())&&(i.fieldsComponent=o.first),F(o=S())&&(i.form=o.first)}},standalone:!1,features:[A],decls:5,vars:3,consts:[["reuseFormTemplate",""],["uniqueFormTemplate",""],["fieldsComponent",""],["dynamicForm","ngForm"],[4,"ngIf","ngIfThen","ngIfElse"],[3,"p-auto-focus","p-components-size","p-fields","p-value"],[3,"p-fieldsChange","p-object-value","p-form-validate","p-fields","p-auto-focus","p-disabled-form","p-components-size","p-validate","p-validate-fields","p-validate-on-input","p-value"]],template:function(t,i){if(t&1&&v(0,jp,1,0,"ng-container",4)(1,Wp,2,4,"ng-template",null,0,X)(3,Up,4,8,"ng-template",null,1,X),t&2){let o=L(2),r=L(4);l("ngIf",i.groupForm)("ngIfThen",o)("ngIfElse",r)}},dependencies:[M,ao,ro,Ct,rr],encapsulation:2})}return n})();export{q0 as PoDynamicFormComponent};
